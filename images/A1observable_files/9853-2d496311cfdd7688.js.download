"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9853],{28923:function(e,t,n){n.d(t,{Db:function(){return m},Je:function(){return h},aZ:function(){return d}});var a=n(85893),s=n(60357),r=n.n(s),i=n(94184),l=n.n(i),o=n(37497),c=n(36448);function d(e,t,n){return!["public","pro_enterprise"].includes(e)&&!!t&&new Date(1e3*t)>new Date&&!n}function u(e){return e?Math.max(0,Math.round((1e3*e-Date.now())/864e5)):0}const h=e=>{let{trialInfo:t,user:n,context:s,dispatch:r}=e;var i;const l=u(null!==(i=null===t||void 0===t?void 0:t.trial_end)&&void 0!==i?i:0),d="team"===s.type&&(0,c.qb)(n,s),h="team"===s.type,m=(0,c.xT)(n,s);var b;const p=null!==(b=null===m||void 0===m?void 0:m.tier)&&void 0!==b?b:n.tier;return(0,a.jsxs)("div",{className:"flex items-center ba br2 b--light-gray pa4",children:[(0,a.jsx)("img",{src:"".concat("https://static.observablehq.com","/assets/countdown-trial-illustration.svg"),alt:"countdown-trial-illustration","aria-hidden":"true",height:65}),(0,a.jsxs)("p",{className:"lh-f6 fw4 near-black mh3",children:["There are ",l," day",l>1&&(0,a.jsx)("span",{children:"s"})," left in your free trial. To continue using Pro features, please subscribe before the trial ends."]}),(d&&"pro_enterprise"!==p||!h)&&(0,a.jsx)(o.aX,{text:"Subscribe",onClick:()=>r({type:"showModal",modal:"changeUserTier",modalProps:{user:s}})})]})},m=e=>{let{startDate:t,endDate:n,className:s}=e;const i=u(n),o=t&&n?(n-t)/86400:1,c=Math.round(i/o*100);return(0,a.jsxs)("div",{className:r().dynamic([["5665d072c2b690da",[c,100===c?"4px":"4px 0px 0px 4px"]]])+" "+(l()("flex items-center lh-f6",s)||""),children:[(0,a.jsx)("span",{className:r().dynamic([["5665d072c2b690da",[c,100===c?"4px":"4px 0px 0px 4px"]]])+" observable-purple pr2",children:"".concat(i," day").concat(1===i?"":"s"," left in trial")}),(0,a.jsx)("div",{role:"img","aria-label":"Countdown bar showing ".concat(c," percent left"),className:r().dynamic([["5665d072c2b690da",[c,100===c?"4px":"4px 0px 0px 4px"]]])+" fullBar br2 bg-observable-light-purple",children:(0,a.jsx)("div",{className:r().dynamic([["5665d072c2b690da",[c,100===c?"4px":"4px 0px 0px 4px"]]])+" remainingBar bg-observable-purple h-100"})}),(0,a.jsx)(r(),{id:"5665d072c2b690da",dynamic:[c,100===c?"4px":"4px 0px 0px 4px"],children:".fullBar.__jsx-style-dynamic-selector{background-color:#f6efff;width:100px;height:8px}.remainingBar.__jsx-style-dynamic-selector{background-color:#a463f2;width:".concat(c,"px;-webkit-border-radius:").concat(100===c?"4px":"4px 0px 0px 4px",";-moz-border-radius:").concat(100===c?"4px":"4px 0px 0px 4px",";border-radius:").concat(100===c?"4px":"4px 0px 0px 4px","}")})]})}},34750:function(e,t,n){function a(e){return null!==/^\S+@\S+\.\S+$/.exec(e)}function s(e){return null!==/^\S+@/.exec(e)}n.d(t,{J:function(){return a},q:function(){return s}})},79209:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"8"}),(0,r.jsx)("path",{d:"M6.87036 3.5L7.05786 9.18359H8.93286L9.12036 3.5H6.87036ZM7.99536 12.1602C8.75122 12.1602 9.19653 11.7676 9.19653 11.0938C9.19653 10.4141 8.75122 10.0215 7.99536 10.0215C7.2395 10.0215 6.80005 10.4141 6.80005 11.0938C6.80005 11.7676 7.2395 12.1602 7.99536 12.1602Z",fill:"white"})]}))},54329:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,r.jsx)("path",{d:"M8 2H3C2.44772 2 2 2.44772 2 3V8M8 2V8M8 2H13C13.5523 2 14 2.44772 14 3V8M8 8H2M8 8V14M8 8H14M2 8V13C2 13.5523 2.44772 14 3 14H8M8 14H13C13.5523 14 14 13.5523 14 13V8",stroke:"currentColor",strokeWidth:"2"})}))},14500:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",stroke:"none"},e),{children:[(0,r.jsx)("circle",{r:"2",cy:"8",cx:"2"}),(0,r.jsx)("circle",{r:"2",cy:"8",cx:"8"}),(0,r.jsx)("circle",{r:"2",cy:"8",cx:"14"})]}))},3304:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor"},e),{children:[(0,r.jsx)("title",{children:"GitHub"}),(0,r.jsx)("path",{d:"M14.0609 4.65755C13.435 3.58505 12.5859 2.73595 11.5135 2.11005C10.4409 1.48413 9.26999 1.17125 7.99989 1.17125C6.72994 1.17125 5.55864 1.48423 4.4863 2.11005C3.4138 2.73591 2.56476 3.58505 1.9388 4.65755C1.31295 5.73002 1 6.90116 1 8.17095C1 9.69625 1.44501 11.0678 2.33526 12.2861C3.22542 13.5044 4.37536 14.3474 5.78501 14.8153C5.94909 14.8457 6.07056 14.8243 6.14954 14.7516C6.22855 14.6787 6.26801 14.5875 6.26801 14.4782C6.26801 14.46 6.26644 14.296 6.26341 13.9861C6.26028 13.6761 6.25881 13.4057 6.25881 13.175L6.04917 13.2113C5.91551 13.2358 5.74689 13.2461 5.54331 13.2432C5.33983 13.2404 5.1286 13.219 4.90989 13.1794C4.69109 13.1401 4.48757 13.0489 4.29919 12.9062C4.11091 12.7634 3.97725 12.5764 3.89823 12.3457L3.80709 12.136C3.74634 11.9963 3.6507 11.8412 3.52004 11.6712C3.38937 11.501 3.25724 11.3856 3.12358 11.3249L3.05977 11.2792C3.01724 11.2488 2.97779 11.2122 2.9413 11.1697C2.90484 11.1273 2.87755 11.0847 2.85932 11.0421C2.84106 10.9995 2.85619 10.9646 2.90487 10.9371C2.95356 10.9097 3.04154 10.8964 3.1692 10.8964L3.35142 10.9236C3.47295 10.948 3.62328 11.0208 3.80259 11.1424C3.98181 11.2639 4.12914 11.4218 4.2446 11.6162C4.38443 11.8654 4.55289 12.0552 4.75046 12.1859C4.94788 12.3166 5.14692 12.3818 5.3474 12.3818C5.54788 12.3818 5.72103 12.3666 5.86692 12.3364C6.01265 12.306 6.14938 12.2603 6.27704 12.1996C6.33173 11.7923 6.48062 11.4794 6.72359 11.2607C6.37728 11.2243 6.06593 11.1695 5.78938 11.0966C5.51299 11.0236 5.22737 10.9052 4.93271 10.741C4.6379 10.577 4.39334 10.3733 4.19895 10.1304C4.00454 9.88734 3.84499 9.56824 3.72052 9.17337C3.59598 8.77835 3.5337 8.32268 3.5337 7.80622C3.5337 7.07086 3.77377 6.4451 4.2538 5.92858C4.02893 5.37573 4.05016 4.75597 4.31755 4.06936C4.49377 4.01461 4.75509 4.05569 5.1014 4.19236C5.44777 4.32909 5.70137 4.44621 5.86245 4.54332C6.02354 4.6404 6.15261 4.72267 6.24984 4.78939C6.81505 4.63147 7.39832 4.55249 7.99982 4.55249C8.60133 4.55249 9.18473 4.63147 9.74996 4.78939L10.0963 4.57075C10.3331 4.42486 10.6128 4.29116 10.9347 4.16963C11.2567 4.04816 11.503 4.0147 11.6732 4.06945C11.9465 4.75609 11.9709 5.37582 11.7459 5.92867C12.2259 6.4452 12.4661 7.07112 12.4661 7.80632C12.4661 8.32277 12.4036 8.77989 12.2793 9.17794C12.1548 9.57606 11.9938 9.89485 11.7964 10.135C11.5988 10.3751 11.3526 10.5771 11.058 10.7411C10.7633 10.9052 10.4776 11.0236 10.2012 11.0966C9.92465 11.1695 9.6133 11.2244 9.26699 11.2608C9.58284 11.5342 9.7408 11.9656 9.7408 12.555V14.478C9.7408 14.5872 9.77879 14.6784 9.85483 14.7513C9.93078 14.8241 10.0507 14.8455 10.2148 14.815C11.6246 14.3472 12.7746 13.5041 13.6647 12.2858C14.5547 11.0676 14.9999 9.69599 14.9999 8.17069C14.9996 6.90106 14.6865 5.73002 14.0609 4.65755Z"})]}))},46564:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:[(0,r.jsx)("rect",{x:"1",y:"2",width:"14",height:"2",rx:"0.7"}),(0,r.jsx)("rect",{x:"1",y:"7",width:"14",height:"2",rx:"0.7"}),(0,r.jsx)("rect",{x:"1",y:"12",width:"14",height:"2",rx:"0.7"})]}))},52155:function(e,t,n){var a,s=n(41799),r=n(69396),i=n(85893);n(67294);t.Z=e=>(0,i.jsx)("svg",(0,r.Z)((0,s.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:null!==(a=e.fill)&&void 0!==a?a:"none"},e),{children:(0,i.jsx)("path",{d:"M12.6514 4.65742C12.3827 4.38555 12.0636 4.16989 11.7124 4.02277C11.3612 3.87565 10.9848 3.79995 10.6047 3.79999C9.83662 3.79999 9.10061 4.24307 8.558 4.79183L7.99981 5.35727L7.44162 4.79183C6.31148 3.64889 4.47834 3.51449 3.34821 4.65742C3.0793 4.92926 2.86598 5.25202 2.72045 5.60726C2.57491 5.9625 2.5 6.34326 2.5 6.72778C2.5 7.1123 2.57491 7.49306 2.72045 7.84829C2.86598 8.20353 3.0793 8.52629 3.34821 8.79813L3.9064 9.36172L7.99981 13.8L12.0932 9.36172L12.6514 8.79813C12.9204 8.52635 13.1338 8.20361 13.2794 7.84837C13.4251 7.49312 13.5 7.11234 13.5 6.72778C13.5 6.34322 13.4251 5.96243 13.2794 5.60719C13.1338 5.25194 12.9204 4.9292 12.6514 4.65742Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}))},25091:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M14.1386 12.3101C14.9964 11.0907 15.5 9.60418 15.5 8C15.5 3.85786 12.1421 0.5 8 0.5C3.85786 0.5 0.5 3.85786 0.5 8C0.5 12.1421 3.85786 15.5 8 15.5C10.4547 15.5 12.634 14.3207 14.0022 12.4978L14.1642 12.3358L14.1386 12.3101ZM12.6949 10.8665C13.2056 10.0317 13.5 9.05025 13.5 8C13.5 6.82263 13.1301 5.73166 12.5001 4.837L11.2958 6.04126C11.6372 6.61449 11.8333 7.28435 11.8333 8C11.8333 8.58609 11.7018 9.14147 11.4666 9.63821L12.6949 10.8665ZM11.357 12.357L10.1643 11.1643C9.54841 11.5864 8.80304 11.8333 7.99999 11.8333C7.19695 11.8333 6.45158 11.5864 5.83567 11.1643L4.643 12.357C5.57179 13.0737 6.73611 13.5 8 13.5C9.26389 13.5 10.4282 13.0737 11.357 12.357ZM4.53335 9.63822C4.29819 9.14148 4.16666 8.5861 4.16666 8C4.16666 7.43752 4.28781 6.90333 4.50543 6.42211L3.27188 5.18856C2.78163 6.01126 2.5 6.97274 2.5 8C2.5 9.05025 2.79437 10.0317 3.30511 10.8665L4.53335 9.63822ZM7.99999 4.16667C7.17422 4.16667 6.40943 4.42778 5.78369 4.87193L4.59344 3.68169C5.53022 2.94169 6.71353 2.5 8 2.5C9.13759 2.5 10.1945 2.84537 11.0716 3.43698L9.86081 4.64782C9.30978 4.34128 8.67527 4.16667 7.99999 4.16667ZM9.83332 8C9.83332 9.01252 9.01251 9.83333 7.99999 9.83333C6.98747 9.83333 6.16666 9.01252 6.16666 8C6.16666 6.98748 6.98747 6.16667 7.99999 6.16667C9.01251 6.16667 9.83332 6.98748 9.83332 8Z"})}))},81685:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("circle",{cx:"8",cy:"5",r:"2.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M4 14V11C4 9.34315 5.79086 8 8 8C10.2091 8 12 9.34315 12 11V14",stroke:"currentColor",strokeWidth:"2"})]}))},5163:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("path",{d:"M1.5 13.5V11.5C1.5 9.84315 2.61929 8.5 4 8.5C5.38071 8.5 6.5 9.84315 6.5 11.5V13.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M9.5 13.5V11.5C9.5 9.84315 10.6193 8.5 12 8.5C13.3807 8.5 14.5 9.84315 14.5 11.5V13.5",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"4",cy:"5.5",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"12",cy:"5.5",r:"2",stroke:"currentColor",strokeWidth:"2"})]}))},21013:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsx)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11.4C15 12.8359 13.8359 14 12.4 14L11 14H3.6C2.35959 14 1.32206 13.1314 1.0625 11.9692C1.02158 11.786 1 11.5955 1 11.4V11V10.7071V4.6C1 3.16406 2.16406 2 3.6 2H12.4C13.8359 2 15 3.16406 15 4.6V10.5V11.4ZM3 11.4C3 11.7314 3.26863 12 3.6 12H8.96914L5.90178 8.01243L3 10.9142L3 11.4ZM11.4924 12L7.20927 6.43192C6.62039 5.66638 5.49265 5.59314 4.8097 6.27609L3 8.08579L3 4.6C3 4.26863 3.26863 4 3.6 4L12.4 4C12.7314 4 13 4.26863 13 4.6V10.5V11.4C13 11.7314 12.7314 12 12.4 12H11.4924ZM12 6.5C12 7.32843 11.3284 8 10.5 8C9.67156 8 8.99999 7.32843 8.99999 6.5C8.99999 5.67157 9.67156 5 10.5 5C11.3284 5 12 5.67157 12 6.5Z"})}))},33396:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor"},e),{children:[(0,r.jsx)("title",{children:"Twitter"}),(0,r.jsx)("path",{d:"M15 3.429c-.517.24-1.07.402-1.651.477a3.028 3.028 0 0 0 1.264-1.675 5.761 5.761 0 0 1-1.827.728 2.8 2.8 0 0 0-2.1-.959C9.1 2 7.812 3.355 7.812 5.025c0 .24.027.47.074.691-2.39-.119-4.509-1.327-5.926-3.153-.25.444-.39.96-.39 1.522 0 1.052.509 1.977 1.279 2.52a2.758 2.758 0 0 1-1.302-.379c.66 1.819 1.428 2.821 2.306 3.007a2.783 2.783 0 0 1-1.293.052c.37 1.202 1.43 2.078 2.691 2.102A5.588 5.588 0 0 1 1 12.641 7.886 7.886 0 0 0 5.417 14c5.291 0 8.181-4.611 8.181-8.604 0-.128 0-.258-.008-.387.374-.283.844-.81 1.41-1.58z"})]}))},18794:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.89801 6.46758C3.55652 5.76872 4.64688 5.74644 5.3334 6.41782L6.87767 7.92804L8.24924 6.47243L6.70496 4.9622C5.22874 3.51853 2.88413 3.56644 1.46812 5.06922C0.0521088 6.572 0.100923 8.96057 1.57714 10.4042L3.12141 11.9145L4.49298 10.4589L2.94871 8.94863C2.26219 8.27725 2.23949 7.16645 2.89801 6.46758ZM9.68546 13.0606C9.0257 13.7607 7.93326 13.7831 7.24544 13.1104L5.69922 11.5983L4.32766 13.0539L5.87388 14.566C7.3514 16.011 9.69809 15.963 11.1153 14.4589C12.5326 12.9548 12.4838 10.5641 11.0062 9.11918L9.46 7.60705L8.08844 9.06266L9.63466 10.5748C10.3225 11.2474 10.3452 12.3604 9.68546 13.0606ZM5.39589 7.51709L8.70672 10.7549L7.33516 12.2105L4.02433 8.9727L5.39589 7.51709Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M13.9087 13.3714V13.3714C14.4609 13.3714 14.9095 12.9237 14.9095 12.3714L14.9095 4.42179L11.6095 1.17179L4.90955 1.17179C4.35726 1.17179 3.90955 1.61959 3.90955 2.17187V2.17187",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M11.594 1.1718L11.594 4.4218L14.894 4.4218",stroke:"currentColor",strokeWidth:"2"})]}))},22255:function(e,t,n){var a=n(41799),s=n(69396),r=n(85893);t.Z=e=>(0,r.jsxs)("svg",(0,s.Z)((0,a.Z)({width:"15",height:"14",viewBox:"0 0 15 14",stroke:"currentColor",strokeWidth:"1.8",fill:"none"},e),{children:[(0,r.jsx)("path",{d:"M9.82089 1.93099C10.0377 1.41845 10.6312 1.1815 11.1414 1.40381L13.3744 2.37686C13.8769 2.5958 14.1095 3.17838 13.896 3.68316L11.1838 10.0952C11.1074 10.2759 10.9795 10.4302 10.8161 10.5387L8.30663 12.2053C8.00426 12.4061 7.59541 12.2279 7.53662 11.8697L7.04682 8.88551C7.01623 8.69914 7.03904 8.50792 7.11262 8.33399L9.82089 1.93099Z"}),(0,r.jsx)("path",{d:"M3.75 13H1.75C1.61193 13 1.5 12.8881 1.5 12.75C1.5 12.6119 1.61193 12.5 1.75 12.5H3.75C3.88807 12.5 4 12.6119 4 12.75C4 12.8881 3.88807 13 3.75 13Z"})]}))},62806:function(e,t,n){n.d(t,{H:function(){return r},x:function(){return l}});var a=n(41799),s=n(69396);function r(e){const t={collectionCount:e.collection_count,commentCount:e.comment_count,creator:e.creator,authors:e.authors,defaultThumbnail:e.default_thumbnail,forked:e.fork_of,id:e.id,likes:e.likes,listing_type:e.listing_type,notebookDescription:e.notebook_description,owner:e.owner,pausedVersion:e.paused_version,publishLevel:e.publish_level,publishTime:e.publish_time,publishVersion:e.publish_version,roles:e.roles,saveTime:e.update_time||new Date,saveVersion:e.version,sharing:e.sharing,slug:e.slug,thumbnail:e.thumbnail,title:e.title,trashed:!1,type:"notebook_reader",isForking:!1,isPublishing:!1,isReverting:!1,isUnpublishing:!1,isClosingSuggestion:!1,isSuggesting:!1,isUpdatingTrash:!1,isMerging:!1};return e.collection&&(t.collection=e.collection),"notebook_owner"===e.type?(0,s.Z)((0,a.Z)({},t),{lastEditTime:e.last_edit_time,lastEditor:e.last_editor,lastPublishTime:e.last_publish_time,openSuggestionCount:e.open_suggestion_count,publisher:e.publisher,trashed:e.trashed,type:e.type}):t}function i(e){return e.map(r)}function l(e){return"results"in e?(0,s.Z)((0,a.Z)({},e),{results:i(e.results)}):i(e)}},23105:function(e,t,n){n.d(t,{r2:function(){return Q},TO:function(){return re},pg:function(){return be},c1:function(){return le},vR:function(){return de}});var a=n(41799),s=n(99534),r=n(85893),i=n(94184),l=n.n(i),o=n(67294),c=n(7483),d=n(8385),u=n(11163),h=n.n(u),m=n(25091),b=n(88725);const p=e=>{let{notebook:t}=e;return{onSelect:()=>{h().replace("".concat((0,b.Bi)(t),"/safe"))},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"mr2 h1 w1"}),"View in safe mode"]})}};var x=n(79209),f=n(95357),v=n(76267),g=n(46564),j=n(52155),w=n(15706),y=n(92946),k=n(22027),N=n(84749),C=n(84193),S=n(86384),L=n(43164),q=n(83065),Z=n(54239),M=n(66421);const T=e=>{let{notebook:t,dispatch:n}=e;return(0,M.rY)(t)?{onSelect:()=>n({type:"trashRequested",trashed:!1,relocate:!1}),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.Z,{className:"mr2 h1 w1"}),"Move out of trash"]})}:null};var _=n(2239),U=n(21013);const F=e=>{let{notebook:t,dispatch:n}=e;return(0,M.fW)(t)?{onSelect:()=>n({type:"showModal",modal:"setNotebookThumbnail"}),disabled:!1,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.Z,{className:"mr2 h1 w1"}),"Set thumbnail\u2026"]})}:null};var D=n(2840),z=n(77061),A=n(80453),P=n(49282),R=n(45578),E=n(88379),I=n(602),O=n(14151),V=n(12447),B=n(93939),G=n(74873),H=n(70915),Y=n(27193),W=n(3142),$=n(62990),K=n(36448),X=n(80835),J=n(65538);const Q={fontSize:"2rem"};function ee(e,t){let n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>(0,r.jsx)("span",{className:"black bg-lightest-yellow",children:e}),s=0,i=0;const l=[],c=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");if(!e)return null;for(;null!==(n=c.exec(e));)n.index!==s&&l.push(e.substring(s,n.index)),l.push(o.cloneElement(a(n[0]),{key:++i})),s=n.index+n[0].length;return s!==e.length&&l.push(e.substring(s)),l}function te(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2026";return t+=1,(e=e.trim()).length<=t?e:(e=e.substr(0,t-n.length)).substr(0,e.lastIndexOf(" "))+n}const ne=e=>{let{notebook:t}=e;const{data:n}=(0,I.h_)("/document/".concat(t.id));return(null===n||void 0===n?void 0:n.fork_of)?(0,r.jsxs)("div",{className:"mw5 pa2 pr3 f7 fw5",children:[(0,r.jsx)("div",{className:"mb1 gray",children:"Fork of"}),(0,r.jsx)(C.Z,{href:(0,b.Bi)(n.fork_of),children:(0,r.jsx)("a",{className:"no-underline dark-gray hover-blue",children:(0,Y.Ui)(n.fork_of)})}),(0,r.jsx)("span",{className:"mid-gray",children:" by "}),(0,r.jsx)(C.Z,{href:(0,K.GN)(n.fork_of.owner),children:(0,r.jsx)("a",{className:"no-underline dark-gray hover-blue",children:(0,K.RX)(n.fork_of.owner)})})]}):n?(0,r.jsx)("div",{className:"flex mw5 pa2 f7 fw5 gray items-center",children:(0,r.jsx)("span",{children:"Fork information isn\u2019t available: parent notebook may be trashed or private."})}):(0,r.jsxs)("div",{className:"flex mw5 pa2 f7 fw5 gray items-center",children:[(0,r.jsx)(k.Z,{className:"mr2 blue"}),(0,r.jsx)("span",{children:"Loading\u2026"})]})},ae=e=>{let{notebook:t}=e;return(0,r.jsx)(X.u,{label:(0,r.jsx)(ne,{notebook:t}),children:(0,r.jsxs)("span",{className:"nowrap",children:["\xa0",(0,r.jsx)(v.F,{title:"This notebook is a fork",className:"dib v-btm moon-gray"})]})})},se=e=>{let{notebook:t,url:n,format:a="grid",loading:s="lazy"}=e;const i=(0,V.GS)("(max-width: 640px)");return(0,r.jsx)(C.Z,{href:n,children:(0,r.jsx)("a",{"aria-label":(0,b.$h)(t),tabIndex:-1,children:(0,r.jsx)(c.p,{className:l()("relative ba b--silver hover-b--light-gray hover-light-shadow br2 overflow-hidden","grid"===a?"thumbnail-grid":"thumbnail-list"),style:"grid"===a?{width:"100%",paddingTop:"62.5%",backgroundImage:t.thumbnail?"none":"var(--checkerboard)"}:{width:i?72:108,height:66,backgroundImage:t.thumbnail?"none":"var(--checkerboard)"},hash:t.thumbnail,loading:s})})})},re=e=>{let{owner:t,authors:n,isTeam:a,className:s}=e;const i=n.filter((e=>{let{id:n}=e;return n!==t.id}));return(0,r.jsxs)("div",{className:l()("flex flex-wrap items-center dark-gray",s),children:[(0,r.jsx)(R.Gz,{owner:t,containerStyle:"fit",onDemand:!0,children:(0,r.jsx)(C.Z,{href:(0,K.GN)(t),children:(0,r.jsx)("a",{className:"no-underline hover-blue truncate truncate-two-lines",children:(0,K.RX)(t)})})}),i.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"ph1",children:a?"\u2022":"and"}),1===i.length?(0,r.jsx)(R.Gz,{owner:i[0],containerStyle:"fit",onDemand:!0,children:(0,r.jsx)(C.Z,{href:(0,K.GN)(i[0]),children:(0,r.jsxs)("a",{className:"inline-flex no-underline hover-blue items-center truncate lh-copy",children:[i[0].approved?(0,r.jsx)(d.q,{user:i[0],size:16,className:"br-100 mr1 nt1 nb1"}):(0,r.jsx)(x.Z,{className:"yellow w1 h1 mr1 nt1 nb1"}),(0,K.RX)(i[0])]})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"inline-flex items-center nt1 nb1",style:{marginLeft:10},children:i.slice(0,A.P).map(((e,t,a)=>(0,r.jsx)(C.Z,{href:(0,K.GN)(e),children:(0,r.jsx)("a",{children:e.approved?(0,r.jsx)(R.Gz,{owner:e,containerStyle:"fit",onDemand:!0,children:(0,r.jsx)(d.q,{user:e,size:16,style:{verticalAlign:"text-bottom",marginLeft:(-9.6*a.length-1)/a.length},className:"br-100 b--white ba mr1"})}):(0,r.jsx)(x.Z,{className:"yellow w1 h1 mr1 br-100 b--white ba",style:{verticalAlign:"text-bottom",marginLeft:(-9.6*n.length-1)/n.length}},t)})},t)))}),i.length," ",a?"authors":"others"]})]})]})},ie=(0,J.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,dispatch:a}=e;const s={currentUser:n,notebook:t,dispatch:e=>{a({type:"selectNotebook",notebook:t}),a(e)}},i={collections:(0,S.b)(s)};return(0,r.jsx)(P._i,{actions:i,buttonType:"list"})})),le=e=>{let{collection:t,format:n,hideMeta:a=!1,index:s,notebook:i,currentUser:c,query:u,saveListingSelectionEvent:h=(()=>{}),light:m=!1,maxTitleLength:p=85,loading:x="lazy"}=e;const v=t?(0,H.L7)(i,t):(0,b.Bi)(i),{owner:g,authors:w,publishTime:k,publishLevel:S,saveTime:L,commentCount:q,likes:Z,forked:T}=i,_=k||L,U=(0,O.d)((0,o.useCallback)((()=>"".concat((0,W.s9)(i)?"Published":(0,W.cg)(i)?"Shared":"Edited"," ").concat((0,$.mr)(_))),[i,_])),F=(0,Y.Ui)(i),D=null===t||void 0===t?void 0:t.ordered,z=m?"white":"near-black",A=null===c||void 0===c?void 0:c.teams.some((e=>(0,M.pb)(e))),P=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex-start",children:(0,r.jsx)(R.Gz,{owner:g,onDemand:!0,children:(0,r.jsx)(C.Z,{href:(0,K.GN)(g),children:(0,r.jsx)("a",{className:"inline-flex pr1 mr1 items-center",children:(0,r.jsx)(d.q,{user:g,size:24,className:"br-100"})})})})}),(0,r.jsxs)("div",{className:l()("flex-auto",a?"items-center":""),children:[(0,r.jsx)(re,{owner:g,authors:w,isTeam:(0,W.p0)(i)}),!a&&(0,r.jsxs)("div",{className:"gray",style:{paddingTop:2},children:[(0,r.jsx)("span",{title:U,className:"nowrap",children:(0,$.LN)(_)}),(Z>0||q>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"ph1 light-gray",children:"\u2022"}),Z>0&&(0,r.jsxs)("span",{className:"mr2 nowrap",children:[(0,r.jsx)(j.Z,{className:"v-top moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,Y.CZ)(Z)]}),q>0&&(0,r.jsxs)("span",{className:"mr2 nowrap",children:[(0,r.jsx)(f.L,{className:"v-top moon-gray",style:{width:16,height:16,marginRight:-1}})," ",(0,Y.CZ)(q)]})]})]})]})]});return(0,r.jsxs)("div",{"data-cy":"notebook-listing",className:l()("grid"===n?"":"flex items-center","pb2 relative"),onClick:h,children:[D&&"grid"!==n&&void 0!==s&&(0,r.jsxs)("div",{className:"mr2 f6 fw6",children:[s+1,"."]}),(0,r.jsx)(se,{url:v,notebook:i,format:n,loading:x}),(0,r.jsxs)("div",{className:l()("list"===n?"flex-auto":"flex justify-between","items-center"),children:[(0,r.jsxs)("div",{className:l()("grid"===n?"pt2":"pl3","flex-auto"),children:[(0,r.jsxs)("div",{style:{paddingBottom:2},className:l()("f6 fw6 no-underline",z,"lh-f7"),children:[(0,r.jsx)(C.Z,{href:v,children:(0,r.jsx)("a",{className:"break-word hover-blue",title:F,children:u?ee(F,u):te(F,p)})}),T?(0,r.jsx)(ae,{notebook:i}):(0,W.s9)({publishLevel:S})||(0,W.fN)({publishLevel:S})?null:"\xa0",!a&&(0,W.ws)({publishLevel:S})?(0,r.jsx)("span",{title:"Private",children:(0,r.jsx)(N.Z,{className:"dib v-btm moon-gray"})}):!a&&(0,W.cg)({publishLevel:S})?(0,r.jsx)("span",{title:"Shared",children:(0,r.jsx)(y.ZP,{className:"dib v-btm moon-gray"})}):null]}),(0,r.jsx)("div",{className:l()("flex pt1 f7 fw5",a?"items-center":""),children:P})]}),!a&&A&&"grid"===n&&(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(ie,{notebook:i})})]}),A&&"list"===n&&(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(ie,{notebook:i})})]})},oe=e=>{let{user:t,currentUser:n}=e;return(0,r.jsx)(R.Gz,{owner:t,children:(0,r.jsx)(C.Z,{href:(0,K.GN)(t),children:(0,r.jsx)("a",{className:"mr1 no-underline dark-gray hover-blue",children:n&&t.id===n.id?"You":(0,K.RX)(t)})})})},ce=e=>{let{notebook:t,currentUser:n}=e;const{publishTime:a,lastPublishTime:s,lastEditor:i,publisher:l,saveVersion:c,lastEditTime:d,publishVersion:u,publishLevel:h}=t,m=a||d,b=(0,B.L)(m);function p(e){const{publishTime:t,lastPublishTime:n}=e;return(0,W.s9)({publishLevel:h})?n>t?"republished":"published":(0,W.cg)({publishLevel:h})?n>t?"reshared":"shared":(0,W.fN)({publishLevel:h})?"made public":null}const x=(0,O.d)((0,o.useCallback)((()=>s?(0,$.LN)(s,b):""),[s,b])),f=(0,O.d)((0,o.useCallback)((()=>s?(0,$.mr)(s):""),[s])),v=(0,O.d)((0,o.useCallback)((()=>(0,$.LN)(d,b)),[d,b])),g=(0,O.d)((0,o.useCallback)((()=>(0,$.mr)(d)),[d]));return u&&c!==u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oe,{user:i,currentUser:n}),(0,r.jsx)("span",{className:"mr1",children:"edited"}),(0,r.jsxs)("span",{title:g,className:"mr1",children:[" ","".concat(v,",")," "]}),l.id!==i.id?(0,r.jsx)(oe,{user:l,currentUser:n}):null,(0,r.jsx)("span",{className:"mr1",children:p(t)}),(0,r.jsx)("span",{title:f,children:x})]}):s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oe,{user:l,currentUser:n}),(0,r.jsx)("span",{className:"mr1",children:p(t)}),(0,r.jsx)("span",{title:f,children:x})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oe,{user:i,currentUser:n}),(0,r.jsx)("span",{className:"mr1",children:"edited"}),(0,r.jsx)("span",{title:g,children:v})]})},de=e=>{let{notebook:t}=e;return(0,W.dI)(t)?(0,r.jsx)(r.Fragment,{children:"Trashed"}):(0,r.jsx)(E.i,{iconSize:"13",isUnstyled:!0,notebook:t})},ue=e=>{let{notebook:t}=e;const{openSuggestionCount:n,likes:a,commentCount:s}=t;return(0,r.jsxs)(r.Fragment,{children:[n>0?(0,r.jsxs)("div",{className:"dib",title:"This notebook is a suggestion",children:[(0,r.jsx)(w.g,{className:"v-top ml2 moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,Y.CZ)(n)]}):null,t.likes>0?(0,r.jsxs)("div",{className:"dib",children:[(0,r.jsx)(j.Z,{className:"v-top ml2 moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,Y.CZ)(a)]}):null,s>0?(0,r.jsxs)("div",{className:"dib",children:[(0,r.jsx)(f.L,{className:"v-top ml2 moon-gray",style:{width:16,height:16,marginRight:-1}})," ",(0,Y.CZ)(s)]}):null]})},he=(0,J.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,dispatch:a}=e;const{trashed:s}=t,i={currentUser:n,notebook:t,dispatch:e=>{a({type:"selectNotebook",notebook:t}),a(e)}},l=s?{Putback:T(i)}:{Share:(0,q.Y)(i),Fork:(0,L.AH)(i),divider_1:null,collections:(0,S.b)(i),divider_2:null,View:{safeMode:p(i)},Settings:{slug:(0,_.t)(i),thumbnail:F(i),divider_1:null,transfer:(0,D.M)(i,{relocate:!1})},divider_3:null,Delete:(0,z.q)(i,{relocate:!1})};return(0,r.jsx)(P._i,{actions:l,buttonType:"list"})})),me=e=>{const{collection:t,format:n,index:s,isMinimal:i,light:c=!1,notebook:u,query:h,reorder:m,showMenu:p=!0}=e,x=c?"white":"near-black",f=t?(0,H.L7)(u,t):(0,b.Bi)(u),v=(0,W.dI)(u),j=(0,Y.Ui)(u),w=p&&(!v||(0,M.c)(u)),y=(0,V.GS)("(max-width: 640px)"),k=null===t||void 0===t?void 0:t.ordered,N=(0,o.useRef)(null);return(0,G.z)({index:s,ref:N,dataSelector:"collection-order",onDrop:m,disabled:!k}),(0,r.jsxs)("div",{"data-cy":"notebook-listing",className:l()("grid"===n?"":"flex items-center","pb2 relative"),children:[k&&void 0!==s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{"aria-label":"Drag to reorder",className:"pv2 pr2 moon-gray hover-dark-gray bg-transparent bn tooltipped tooltipped-e",ref:N,style:{cursor:"grab",lineHeight:0},children:(0,r.jsx)(g.Z,{style:{width:14}})}),(0,r.jsxs)("div",{className:"mr2 f6 fw6",children:[s+1,"."]})]}),(y||!i)&&(0,r.jsx)(se,{url:f,notebook:u,format:n}),(0,r.jsxs)("div",{className:l()("list"!==n||!y&&i?"":"ml3","flex-auto"),children:["grid"===n&&(0,r.jsxs)("div",{className:"pt2 flex items-center justify-between f7 fw5 lh-f7 gray",children:[(0,r.jsx)("div",{className:"flex truncate flex-wrap items-center",children:(0,r.jsx)(de,{notebook:u})}),(0,r.jsx)("div",{className:"fw6 moon-gray flex-no-shrink",children:(0,r.jsx)(ue,{notebook:u})})]}),(0,r.jsxs)("div",{className:"unified"===i?"flex justify-between items-end":"relative",children:[(0,r.jsx)("div",{className:l()(i?"mr2":"mr4"),children:(0,r.jsxs)("div",{className:l()("f6 fw6 no-underline",x,"lh-f7"),children:[(0,r.jsx)(C.Z,{href:f,children:(0,r.jsx)("a",{className:"v-mid break-word hover-blue",title:j,children:h?ee(j,h):te(j,85)})}),u.forked&&(0,r.jsx)(ae,{notebook:u})]})}),"unified"===i&&(0,r.jsx)(d.q,{user:u.owner,size:16,className:"br-100"}),w&&"grid"===n&&(0,r.jsx)("div",{className:"absolute top-0 right-0 nt3 nr2",children:(0,r.jsx)(he,{notebook:u})})]}),(0,r.jsxs)("div",{className:"flex pr4 mt1 f7 fw5 gray lh-f7 flex-wrap items-center",children:[!i&&"list"===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(de,{notebook:u}),(0,r.jsx)("span",{className:"ph1 light-gray",children:"\u2022"})]}),(0,r.jsx)(ce,(0,a.Z)({},e)),"list"===n&&!i&&(0,r.jsxs)("span",{className:"ml1",children:[" ",(0,r.jsx)(ue,{notebook:u})," "]})]})]}),w&&!i&&"list"===n&&(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(he,{notebook:u})})]})},be=e=>{const{notebook:t,type:n}=e,i=(0,s.Z)(e,["notebook","type"]);return"reader"!==n&&"notebook_owner"===t.type?(0,r.jsx)(me,(0,a.Z)({notebook:t},i)):(0,r.jsx)(le,(0,a.Z)({notebook:t},i))}},7483:function(e,t,n){n.d(t,{p:function(){return l}});var a=n(41799),s=n(69396),r=n(99534),i=n(85893);n(67294);const l=e=>{var{hash:t,style:n,loading:l="lazy"}=e,o=(0,r.Z)(e,["hash","style","loading"]);return(0,i.jsx)("div",(0,s.Z)((0,a.Z)({},o),{style:(0,s.Z)((0,a.Z)({},n),{backgroundImage:t?"none":"var(--checkerboard)"}),children:t&&(0,i.jsx)("img",{alt:"thumbnail",className:"absolute top-0 left-0 w-100 h-100",style:{objectFit:"cover"},loading:l,src:"https://".concat("static.observableusercontent.com","/thumbnail/").concat(t,".jpg")})}))}},65091:function(e,t,n){n.d(t,{y:function(){return N},z:function(){return C}});var a=n(41799),s=n(69396),r=n(85893),i=n(56424),l=n(80026),o=n(41664),c=n.n(o),d=n(67294),u=n(93452),h=n(28923),m=n(37497),b=n(87769),p=n(73046),x=n(36815),f=n(51372),v=n(602),g=n(98055),j=n(66421),w=n(36448),y=n(40042),k=n(2545);const N=e=>(0,r.jsxs)("p",(0,s.Z)((0,a.Z)({},e),{children:["Contact"," ",(0,r.jsx)("a",{className:"blue",href:x.Eo.supportEnterprise,children:x.GT.supportEnterprise})," ","to make changes to your plan."," "]})),C=e=>{let{onDismiss:t,user:n,nextPath:o,initialTier:C=null}=e;var S,L,q,Z,M;const T=(0,y.I0)(),{data:_}=(0,v.h_)("/billing/".concat(n.login)),U=_?(0,k.th)(_):null,F=(0,y.v9)((e=>e.currentUser)),{0:D,1:z}=(0,d.useState)(C),{0:A,1:P}=(0,d.useState)(null),R="public"!==n.tier&&"public"===D,E="public"===n.tier&&"public"!==D,I="team"===n.type,O=!!D&&(0,j.FS)(n,n.tier,D),V=!!F&&(0,h.aZ)(n.tier,null===U||void 0===U||null===(S=U.stripe_customer)||void 0===S||null===(L=S.subscriptions)||void 0===L?void 0:L.data[0].trial_end,void 0!==(null===U||void 0===U||null===(q=U.stripe_customer)||void 0===q?void 0:q.billing)),B=!!(null===U||void 0===U||null===(Z=U.stripe_customer)||void 0===Z||null===(M=Z.subscription)||void 0===M?void 0:M.cancel_at_period_end);(0,d.useEffect)((()=>{C||_&&(z(_.tier),"public"!==_.tier&&P(_.interval))}),[_,C,P,z]),(0,d.useEffect)((()=>{P("public"===D?null:e=>null!==e&&void 0!==e?e:"year")}),[D]);const{value:G,set:H}=(0,g.$)();(0,d.useEffect)((()=>{H("in-trial-subscription",V),H("cancel-at-period-end-paying-subscription",!V&&B),H("change-tier",!!_&&D!==_.tier),H("change-interval","public"!==D&&!!_&&A!==_.interval)}),[H,_,B,A,D,V]);const Y=(0,d.useCallback)(((e,a)=>{t(),T({type:"changePlan",tier:e,interval:a,nextPath:o,user:n})}),[n,T,o,t]),W=(0,d.useCallback)(((e,a)=>{t(),T({type:"changePlan",tier:e,interval:a,nextPath:o,user:n})}),[n,T,o,t]),$=(0,d.useCallback)(((e,r)=>{t(),T((0,s.Z)((0,a.Z)({type:"createSubscription",tier:e,interval:r},o?{nextPath:o}:null),{user:n,coupon:null}))}),[t,T,o,n]),K=(0,d.useCallback)(((e,t,n)=>{!n||"pro"!==e&&"pro_enterprise"!==e||!t?"public"===e&&null===t?Y(e,t):"public"!==e&&null!==t?W(e,t):(0,l.Tb)(new Error("Invalid tier/interval combo"),{extra:{tier:e,interval:t}}):$(e,t)}),[Y,$,W]);return"pro_enterprise"===n.tier?(0,r.jsxs)(i.Vq,{onDismiss:t,"aria-label":"".concat(x.Yo," modal"),children:[(0,r.jsx)(u.xB,{title:x.Yo,onDismiss:t,icon:b.Z}),(0,r.jsx)(u.fe,{children:(0,r.jsx)(N,{})}),(0,r.jsx)(u.mz,{children:(0,r.jsx)("div",{className:"flex justify-end h2",children:(0,r.jsx)(m.aX,{text:"Cancel",type:"reset",onClick:t})})})]}):_&&D?(0,r.jsxs)(i.Vq,{onDismiss:t,"aria-label":"".concat(x.Yo," modal"),children:[(0,r.jsx)(u.xB,{title:x.Yo,onDismiss:t,icon:b.Z}),R&&(0,r.jsxs)("div",{className:"pa3 white bg-observable-dark-gold",children:[(0,r.jsx)("div",{className:"fw5 lh-copy",children:"Your notebooks will become read-only after downgrading."}),(0,r.jsxs)("div",{children:["To edit these notebooks again, you can make them public."," ",(0,r.jsx)(c(),{href:"https://observablehq.com/@observablehq/team-and-individual-workspaces",style:{textDecoration:"underline"},target:"_blank",children:"Learn more"})]})]}),(0,r.jsxs)(u.fe,{children:[(0,r.jsx)("h2",{className:"fw5 f5",children:I?"Team tier":"Tier"}),(0,r.jsxs)("p",{className:"overflow-x-hidden break-word",children:["Select a tier for"," ",I?(0,r.jsxs)(r.Fragment,{children:[" ","the ",(0,r.jsx)("b",{children:(0,w.RX)(n)})," "]}):(0,r.jsx)(r.Fragment,{children:"your personal"})," ","workspace."," ",(0,r.jsx)(c(),{href:"https://observablehq.com/@observablehq/team-and-individual-workspaces",className:"pa0 fw5 blue bn bg-transparent pointer",target:"_blank",children:"Learn more"})]}),(0,r.jsx)(f.Y,{interval:null!==A&&void 0!==A?A:"year",user:n,selected:D,setSelected:z,previous:n.tier,direction:"column",longDescription:"team"===n.type,showTrial:V}),"public"!==D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"fw5 f5 mb0",children:"Billing cycle"}),(0,r.jsx)("div",{className:"ml2",children:(0,r.jsx)(p.t,{tier:D,selected:A,setSelected:P,userType:n.type})})]})]}),(0,r.jsx)(u.mz,{children:(0,r.jsx)("div",{children:(0,r.jsxs)(m.N6,{children:[(0,r.jsx)(m.kq,{text:"Cancel",type:"reset",onClick:t}),O&&(0,r.jsx)(m.kq,{text:x.wn,onClick:e=>{e.preventDefault(),K(D,A,!0)}}),(0,r.jsx)(m.KM,{type:"submit",disabled:0===G.size,onClick:e=>{e.preventDefault(),K(D,A,!1)},text:E?x.PK:B?x.Bq:V&&"public"!==D?x.PK:x.Yo})]})})})]}):null}},39612:function(e,t,n){n.d(t,{V:function(){return Me},Z:function(){return Te}});var a=n(41799),s=n(85893),r=n(56424),i=n(67294),l=n(8385),o=n(93452),c=n(37497),d=n(33090),u=n(36448),h=n(40042);const m=e=>{const{account:t,onChange:n,options:a,restrictedOptions:r,restrictedMessage:i}=e;return(0,s.jsxs)(s.Fragment,{children:[a.map((e=>(0,s.jsx)(d.E,{name:"account",className:"mv3 flex items-center",onChange:()=>n(e),checked:t.id===e.id,label:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.q,{user:e,size:16,style:{marginBottom:-1},className:"flex mr2 br-100"}),(0,s.jsx)("span",{className:"truncate f6 fw6 near-black",children:(0,u.RX)(e)})]})},e.id))),r.map((e=>(0,s.jsx)(d.E,{className:"mv3",title:i,disabled:!0,checked:t.id===e.id,label:(0,s.jsxs)("div",{className:"flex items-center",title:i,children:[(0,s.jsx)(l.q,{user:e,size:16,className:"flex mr2 br-100",style:{marginBottom:-1}}),(0,s.jsx)("span",{className:"truncate f6 fw6",children:(0,u.RX)(e)})]})},e.id)))]})},b=(0,h.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{const{currentUser:t,title:n,icon:l,exclude:d,teams:u,restrictedTeams:h=[],restrictedMessage:b="",defaultAccount:p,onDismiss:x,onSelectAccount:f}=e,v=(0,i.useCallback)((e=>!d||d.id!==e.id),[d]),g=[(0,a.Z)({type:"individual"},t)].concat(u).filter((e=>!h.some((t=>t.id===e.id)))).filter(v),j=h.filter(v),{0:w,1:y}=(0,i.useState)(void 0!==p&&g.find((e=>e.id===p.id))||g[0]);return(0,s.jsx)(r.Vq,{onDismiss:x,"aria-labelledby":"modal-title",children:(0,s.jsxs)("form",{onSubmit:e=>{x(),f(w),e.preventDefault()},children:[(0,s.jsx)(o.xB,{title:n,onDismiss:x,icon:l}),(0,s.jsxs)(o.fe,{children:["Select an account to perform this action.",(0,s.jsx)(m,{account:w,options:g,restrictedOptions:j,restrictedMessage:b,onChange:y})]}),(0,s.jsx)(o.mz,{children:(0,s.jsxs)(c.CQ,{children:[(0,s.jsx)(c.kq,{onClick:x,text:"Cancel"}),(0,s.jsx)(c.KM,{type:"submit",text:"Confirm"})]})})]})})}));var p=n(8433),x=n(86723),f=n(12558);var v=n(65091),g=n(60357),j=n.n(g),w=n(94184),y=n.n(w),k=n(99534),N=n(48634),C=n(80026),S=n(11233),L=n(34750),q=n(60803),Z=n(49516),M=n(84193),T=n(602),_=n(12447),U=n(98055),F=n(19671);const D=["I want to evaluate Observable for my organization","I want to understand which plan is right for me","I want to buy licenses or upgrade","I have a product question","Other"],z=e=>{var{label:t,smallScreen:n,required:r=!0,autoFocus:i=!1,hasError:l=!1,errorMessage:o}=e,c=(0,k.Z)(e,["label","smallScreen","required","autoFocus","hasError","errorMessage"]);return(0,s.jsxs)("div",{className:"flex flex-column",style:{height:"72px"},children:[(0,s.jsx)("label",{className:"near-black f6 mr1 fw5 lh-f7 mb2",children:t}),(0,s.jsx)(S.Z,(0,a.Z)({required:r,spellCheck:"false",autoCorrect:"off",autoCapitalize:"none",minLength:1,maxLength:255,style:{width:"352px",maxHeight:"32px"},autoFocus:i,hasError:l},c)),l&&o&&(0,s.jsx)("div",{className:y()("f7 fw5 red",{mt1:!n}),children:o})]})};function A(){return(0,s.jsxs)("div",{className:"tc",children:[(0,s.jsx)("div",{className:"f3 fw7 tc pa3-ns mb2",children:"Thank you!"}),(0,s.jsx)("div",{className:"tc pv2 ph3",children:"A member of our team will be in touch soon."}),(0,s.jsx)("div",{className:"flex flex-column items-center h-100",style:{padding:"16px 48px 28px"},children:(0,s.jsx)("img",{alt:"Thank you for submitting",src:"".concat("https://static.observablehq.com","/assets/contact-submit-thank-you.png"),loading:"lazy"})})]})}const P=e=>{let{currentUser:t,submitted:n,setSubmitted:a,className:r,style:l={}}=e;const{0:o,1:c}=(0,i.useState)(""),{0:d,1:u}=(0,i.useState)(""),{0:h,1:m}=(0,i.useState)(""),{0:b,1:p}=(0,i.useState)(),{value:x,set:f}=(0,U.$)(),{0:v,1:g}=(0,i.useState)(!0),{0:w,1:k}=(0,i.useState)(!1),S=0===o.length||0===d.length||0===h.length||void 0===b||x.size>0,P=S||!(0,L.J)(h);(0,i.useEffect)((()=>{g(S)}),[S]);const R=(0,_.GS)(_.ro),E=(0,_.GS)(_.Mo),I=R||E,O=(0,i.useCallback)((async e=>{e.preventDefault(),k(!0),f("first-name-invalid",0===o.length),f("last-name-invalid",0===d.length),f("work-email-invalid",!(0,L.J)(h)),f("contact-reason-invalid",void 0===b),P?k(!1):await(0,T.Fv)("/contact-sales",{firstName:o,lastName:d,email:h,contactReason:b}).then((()=>{k(!1),a(!0),(0,F.MR)((0,F.a$)({type:"user:manage:contactSalesSubmit",eventVersion:2,data:{},currentUser:t}))})).catch((e=>{k(!1),(0,C.Tb)(e)}))}),[b,t,o,d,f,k,a,P,h]),V=I?"flex flex-column justify-between":"flex flex-row justify-between";return(0,s.jsx)("div",{className:y()(r,{ph4:!n}),style:l,children:n?(0,s.jsx)(A,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-d8822d07ae7cbe48 pv3 f3 fw7 tc",children:"Get in touch with a member of our sales team"}),(0,s.jsxs)("div",{className:"jsx-d8822d07ae7cbe48 tc pv2 ph3 mb4",children:["For general product questions, see our"," ",(0,s.jsx)(M.Z,{href:"/documentation",children:(0,s.jsx)("a",{className:"jsx-d8822d07ae7cbe48 blue",children:"documentation."})})]}),(0,s.jsxs)("form",{onSubmit:O,className:"jsx-d8822d07ae7cbe48 "+(y()("flex flex-column justify-center",{"items-center":I})||""),children:[(0,s.jsxs)("div",{className:"jsx-d8822d07ae7cbe48 "+(V||""),children:[(0,s.jsx)(z,{label:"First name",type:"text",name:"firstName",onChange:e=>{f("first-name-invalid",!1),c(e.target.value)},value:o,autoFocus:!0,smallScreen:I}),(0,s.jsx)(z,{label:"Last name",type:"text",name:"lastName",onChange:e=>{f("last-name-invalid",!1),u(e.target.value)},value:d,smallScreen:I})]}),(0,s.jsxs)("div",{className:"jsx-d8822d07ae7cbe48 "+(V||""),children:[(0,s.jsx)(z,{label:"Work email",name:"workEmail",onChange:e=>{f("work-email-invalid",!1),m(e.target.value)},value:h,hasError:x.has("work-email-invalid"),errorMessage:"Please enter a valid email",smallScreen:I}),(0,s.jsxs)("div",{style:{width:"352px"},className:"jsx-d8822d07ae7cbe48",children:[(0,s.jsx)("div",{"aria-label":"Contact Observable reason",className:"jsx-d8822d07ae7cbe48 near-black f6 mr1 fw5 lh-f7 mb2",children:"How can we help you?"}),(0,s.jsxs)(N.v2,{children:[(0,s.jsxs)(N.j2,{className:"flex justify-between ba b--light-gray br2 pa2 f6 fw5 dark-gray bg-white hover-bg-near-white hover-near-black",style:{width:"352px",height:"32px"},children:[(0,s.jsxs)("div",{style:{maxWidth:"95%"},className:"jsx-d8822d07ae7cbe48 dib truncate",children:[null!==b&&void 0!==b?b:"Select one"," "]}),(0,s.jsx)("span",{className:"jsx-d8822d07ae7cbe48",children:(0,s.jsx)(q.Z,{width:12,height:12})})]}),(0,s.jsx)(N.qy,{className:"bg-white br2 pa2 contact-reason-dropdown",children:D.map(((e,t)=>(0,s.jsx)(N.sN,{className:"lh-f7 f6 pointer",onSelect:()=>{f("contact-reason-invalid",!1),p(e!==b?e:void 0)},children:(0,s.jsxs)("div",{className:"jsx-d8822d07ae7cbe48 flex flex-row items-center",children:[(0,s.jsx)("span",{style:{width:"12px",height:"12px"},className:"jsx-d8822d07ae7cbe48 ma2",children:e===b&&(0,s.jsx)(Z.Z,{width:12,height:12})}),(0,s.jsx)("div",{className:"jsx-d8822d07ae7cbe48 pv1 ph2",children:e})]})},t)))})]})]})]}),(0,s.jsxs)("div",{className:"jsx-d8822d07ae7cbe48 flex flex-column items-center",children:[(0,s.jsx)("div",{className:"jsx-d8822d07ae7cbe48",children:(0,s.jsx)("button",{type:"submit",style:{width:I?"350px":"202px",height:"40px"},disabled:v,className:"jsx-d8822d07ae7cbe48 "+(y()("mt3 center pv2 ph3 br2 fw6 white bn animate-all",v?"bg-moon-gray":w?"submitting-button":"primary-button-shadow bg-near-black hover-bg-black hover-b--black pointer")||""),children:"Contact us"})}),(0,s.jsx)("div",{className:"jsx-d8822d07ae7cbe48 mt4 f7 fw4 tc mid-gray lh-copy",children:"By continuing you agree to be contacted by Observable."})]})]}),(0,s.jsx)(j(),{id:"d8822d07ae7cbe48",children:"[data-reach-menu-button]{margin-left:1px;-webkit-appearance:none;-moz-appearance:none;outline:none;accent-color:var(--blue)}[data-reach-popover][data-reach-menu-popover]{z-index:5}[data-reach-menu-item][data-selected]{color:var(--near-black);background-color:var(--near-white)}.contact-reason-dropdown{margin-left:0;width:352px;height:184px;z-index:5;-webkit-box-shadow:0px 3px 12px rgba(0,0,0,.15);-moz-box-shadow:0px 3px 12px rgba(0,0,0,.15);box-shadow:0px 3px 12px rgba(0,0,0,.15)}.primary-button-shadow:hover,.primary-button-shadow:focus{-webkit-box-shadow:0px 4px 4px rgba(0,0,0,.1);-moz-box-shadow:0px 4px 4px rgba(0,0,0,.1);box-shadow:0px 4px 4px rgba(0,0,0,.1)}.primary-button-shadow:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.submitting-button{background-color:#454545;-webkit-box-shadow:0px 3px 12px rgba(0,0,0,.15);-moz-box-shadow:0px 3px 12px rgba(0,0,0,.15);box-shadow:0px 3px 12px rgba(0,0,0,.15)}"})]})})};var R=n(89905);const E=(0,h.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{let{currentUser:t,onDismiss:n}=e;const a=(0,_.GS)(_.ro),{0:l,1:o}=(0,i.useState)(!1);function d(){n(),(0,F.MR)((0,F.a$)({type:"user:manage:contactSalesCancel",data:{},currentUser:t,eventVersion:2}))}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Vq,{onDismiss:d,"aria-label":"Contact sales",className:y()("contact-modal"),children:[(0,s.jsx)("div",{className:j().dynamic([["d4b54395b06ee350",[a?"var(--washed-yellow)":"var(--white)",l?"510px":"784px",l?"516px":"680px",l?"516px":"470px",_.hs,_.Mo]]])+" ph4 pt4 flex flex-row justify-end relative",children:(0,s.jsx)(c.hU,{icon:R.Z,onClick:d,colorless:!0,style:{padding:"0px"},className:"moon-gray"})}),(0,s.jsx)(P,{currentUser:t,submitted:l,setSubmitted:o})]}),(0,s.jsx)(j(),{id:"d4b54395b06ee350",dynamic:[a?"var(--washed-yellow)":"var(--white)",l?"510px":"784px",l?"516px":"680px",l?"516px":"470px",_.hs,_.Mo],children:"[data-reach-dialog-content]{background:".concat(a?"var(--washed-yellow)":"var(--white)","}:root{--contact-modal-not-small-width:").concat(l?"510px":"784px",";--contact-modal-medium-height:").concat(l?"516px":"680px",";--contact-modal-large-height:").concat(l?"516px":"470px","}.contact-modal{-webkit-box-shadow:0px 2px 12px rgba(0,0,0,.2);-moz-box-shadow:0px 2px 12px rgba(0,0,0,.2);box-shadow:0px 2px 12px rgba(0,0,0,.2);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;min-width:375px}@media ").concat(_.hs,"{.contact-modal{width:var(--contact-modal-not-small-width);max-width:var(--contact-modal-not-small-width);height:var(--contact-modal-large-height);max-height:var(--contact-modal-large-height)}}@media ").concat(_.Mo,"{.contact-modal{height:var(--contact-modal-medium-height);max-height:var(--contact-modal-medium-height)}}")})]})}));var I=n(53793),O=n(69396),V=n(11163),B=n.n(V),G=n(17764),H=n(42568);const Y=e=>{let{addToCollection:t,setAddToCollection:n,ownerCollections:a,selectedOwner:r}=e;return(0,s.jsx)("div",{className:"ph3 pb3",children:0===(null===a||void 0===a?void 0:a.length)?(0,s.jsx)(c.aX,{className:"w-100 flex justify-between",text:"Add a collection",onClick:()=>B().push("".concat((0,u.$2)(r),"&new=1"))}):(0,s.jsxs)(H.v2,{children:[(0,s.jsx)(c.aX,{className:"w-100 flex justify-between",loading:!a,text:t?t.title:"Select a collection\u2026",icon:G.Z,iconPosition:"right",disabled:0===(null===a||void 0===a?void 0:a.length),asMenuButton:!0}),(0,s.jsxs)(H.qy,{style:{maxHeight:"20vh",overflowY:"auto",marginLeft:0},children:[t&&(0,s.jsx)(H.sN,{onSelect:()=>n(null),children:(0,s.jsx)("span",{className:"moon-gray",children:"No collection"})},"none"),null===a||void 0===a?void 0:a.map((e=>(0,s.jsxs)(H.sN,{onSelect:()=>n(e),children:[e.title,e.id===(null===t||void 0===t?void 0:t.id)&&(0,s.jsx)(Z.Z,{className:"ml1"})]},e.id)))]})]})})};var W=n(90771),$=n(41664),K=n.n($),X=n(23869),J=n(63231),Q=n(70915),ee=n(33494),te=n(88725),ne=n(66421);const ae=e=>{let{title:t,listingId:n,notebookDescription:a,thumbnail:r,onChange:i,isSelected:l,onSubmit:o,setOperationPending:c}=e;const d=r?{background:"url(".concat((0,te.Nl)(r),")"),backgroundSize:"100%",top:-13}:{background:"var(--checkerboard)",top:-13};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{marginLeft:2},className:"jsx-59ede85f7634dcda mv3 mb4-l",children:(0,s.jsxs)("label",{className:"jsx-59ede85f7634dcda relative",children:[(0,s.jsxs)("div",{style:d,onDoubleClick:e=>{i(),c(),o({newTab:e.metaKey||e.ctrlKey})},"aria-label":"notebook-listing-button",className:"jsx-59ede85f7634dcda "+(y()("relative br2 ba w-100 pointer ph0 pv0 bg-transparent template-thumb",l?"selected b--washed-blue":"b--silver")||""),children:[(0,s.jsx)("input",{id:n,type:"radio",name:"listings",checked:l,onFocus:ee.Gf,onClick:ee.Jc,onChange:i,className:"jsx-59ede85f7634dcda absolute top-0 h-100 o-0"}),l&&(0,s.jsx)("div",{style:{left:"var(--spacing-small)",bottom:"var(--spacing-small)",borderRadius:"50%"},className:"jsx-59ede85f7634dcda w1 h1 bg-blue absolute br4 b--dark-blue",children:(0,s.jsx)(X.Z,{className:"white"})})]}),(0,s.jsx)("div",{className:"jsx-59ede85f7634dcda f6 fw6 near-black",children:t}),(0,s.jsx)("div",{className:"jsx-59ede85f7634dcda template-description mid-gray f7 mt2",children:a})]})}),(0,s.jsx)(j(),{id:"59ede85f7634dcda",children:".template-description{max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.template-thumb{padding-top:62.5%}.template-thumb:hover{-webkit-box-shadow:var(--box-shadow-2);-moz-box-shadow:var(--box-shadow-2);box-shadow:var(--box-shadow-2);-webkit-transform:translateY(-1px);-moz-transform:translateY(-1px);-ms-transform:translateY(-1px);-o-transform:translateY(-1px);transform:translateY(-1px);-webkit-transition:box-shadow.15s ease,-webkit-transform.15s ease;-moz-transition:box-shadow.15s ease,-moz-transform.15s ease;-o-transition:box-shadow.15s ease,-o-transform.15s ease;transition:box-shadow.15s ease,-webkit-transform.15s ease;transition:box-shadow.15s ease,-moz-transform.15s ease;transition:box-shadow.15s ease,-o-transform.15s ease;transition:box-shadow.15s ease,transform.15s ease;will-change:transform}.selected:focus-within{border-color:var(--observable-blue-light)}"})]})},se=e=>{let{currentUser:t,collection:n,selectedTemplate:r,setSelectedTemplate:i,selectedCollection:l,setSelectedCollection:c,setOperationPending:d,isLast:u,onSubmit:h}=e;const{title:m,id:b,listings:p}=n;return(0,s.jsxs)("div",{className:"jsx-3e764684d3a6cdf5 "+(y()("collections-section",u?"bn":"bb b--light-gray")||""),children:[(0,s.jsxs)("div",{className:"jsx-3e764684d3a6cdf5 flex justify-between",children:[(0,s.jsx)(o.pe,{title:m}),(0,ne.D7)(t,n)&&(0,s.jsxs)(K(),{href:(0,Q.WG)(n),className:"mt2 no-underline gray hover-blue f6 flex items-center",children:[(0,s.jsx)(J.Z,{className:"mr1"}),"Edit"]})]}),(0,s.jsx)("div",{className:"jsx-3e764684d3a6cdf5 listing-grid",children:p.map((e=>(0,s.jsx)(ae,(0,O.Z)((0,a.Z)({setOperationPending:()=>d(!0)},e),{isSelected:e.id===r&&m===l,onChange:()=>{i(e.id),c(m)},onSubmit:h,listingId:"".concat(b,"-").concat(e.id)}),"".concat(b,"-").concat(e.id))))}),(0,s.jsx)(j(),{id:"3e764684d3a6cdf5",children:".listing-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));grid-column-gap:1.1em}@media(max-width:30em){.listing-grid{grid-template-columns:repeat(2,1fr)}}.collections-section{min-height:275px}@media(max-width:30em){.collections-section{min-height:210px}}"})]})};var re=n(75713),ie=n(99414),le=n(62806),oe=n(61142),ce=n(40076),de=n(90627);var ue=n(82018),he=n(24018);const me="@observablehq/basic-templates",be={id:"empty"},pe={id:null,title:"Blank",notebookDescription:"Start from scratch with an empty notebook.",thumbnail:"f5beb5d202ca6efe53b577c2049fba15ea046cb43728ae00950a15682d3473dc",saveVersion:0,owner:be};function xe(e){let{login:t}=e;return"/collection/@".concat(t,"/").concat("templates").concat("observablehq"===t?"-internal":"")}const fe=(0,h.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{const{onDismiss:t,dispatch:n,presetTeam:l,presetCollectionId:d,dismissible:h=!0}=e,m=e.currentUser,{0:b,1:p}=(0,i.useState)(pe.id),{0:x,1:f}=(0,i.useState)("Basic Templates"),v=(0,u.Q4)(m),g=v.filter((e=>!(0,ne.wW)(m,e))),{0:w,1:y}=(0,i.useState)(v[0]),{0:k,1:N}=(0,i.useState)(null);(0,i.useEffect)((()=>{l&&(0,ne.wW)(m,l)?y(l):(0,ne.wW)(m,m)?y(m):y(m.teams.find((e=>(0,ne.wW)(m,e)))||m)}),[l,m,y]),(0,i.useEffect)((()=>{N(null)}),[w,N]);const{data:S}=(0,T.h_)("/collections/@".concat(w.login));(0,i.useEffect)((()=>{if(S&&d){const e=S.find((e=>e.id===d));e&&N(e)}}),[d,S,N]);const{data:L,error:q}=(0,T.h_)("/collection/".concat(me,"/public?with_listings=true&depth=1"));q&&(0,C.uT)("/collection/".concat(me," failed to load."));const{data:Z,error:M}=(0,T.h_)("/collection/".concat(he.O5,"/public?with_listings=true&depth=2"));M&&(0,C.uT)("/collection/".concat(he.O5," failed to load."));let{data:U,isValidating:D=!1,error:z}=(0,T.h_)((0,ne.LN)(w)?xe(w):null);z&&(D=!1);let{data:A,isValidating:P=!1,error:R}=(0,T.h_)((0,ne.LN)(w)?"".concat(xe(w),"?with_listings=true&depth=2"):null);R&&(P=!1);const E=(0,i.useMemo)((()=>{const e=[pe];return L&&e.push(...(0,le.x)((0,he.Bz)(L))),Z&&L&&!D&&!P?function(e,t){const n=[{title:"Basic Templates",id:"basic",slug:"basic-templates",type:"public",owner:be,listings:e}];if(t){const e=t.map((e=>{const t=(0,le.x)((0,he.Bz)(e)),{title:n,id:a,slug:s,type:r,owner:i}=e;return{title:n,id:a,slug:s,type:r,owner:i,listings:t}})).filter((e=>{let{listings:t}=e;return t.length>0}));return[...n,...e]}return n}(e,[...U?[(0,O.Z)((0,a.Z)({},U),{title:"".concat((0,u.RX)(w)," Templates")})]:[],...A?(0,he.o0)(A):[],...(0,he.o0)(Z)]):function(e,t){function n(e,t){return Array.from({length:t}).map(((t,n)=>({id:"".concat(e,"-filler-").concat(n),title:"",notebookDescription:"",saveVersion:0,thumbnail:null,owner:be})))}return[{title:"Basic Templates",id:"basic",slug:"basic-templates",owner:be,type:"public",listings:[...e,...n("basic",t-e.length)]},{title:"-",id:"second",slug:"",owner:be,type:"public",listings:n("second",t)}]}(e,3)}),[3,w,L,Z,D,U,P,A]);(0,i.useEffect)((()=>{E.map((e=>e.listings)).flat().filter((e=>e.id===b)).length||(p(pe.id),f("Basic Templates"))}),[b,p,f,E]);const{0:I,1:V}=(0,i.useState)(!1),G=h?t:()=>B().push((0,u.GN)(w));async function H(e){let{trigger:t="click",newTab:s=!1}=e;const r=E.map((e=>e.listings)).flat().filter((e=>e.id===b)),{id:i,saveVersion:l,title:o,owner:c}=r[0],d="team"===w.type?oe.uC[$]:null;let u;function h(e){s&&u?(e&&(u.location=e),V(!1)):B().push("/[at]/[...specifiers]",e)}if(s&&(u=window.open()),null===i){const e=await async function(e,t){let{live:n,teamId:s,teamRole:r,collectionId:i}=t;const l="Untitled",o=(0,a.Z)({version:te.Lr,title:l,license:null,live:n,copyright:"",nodes:[(0,a.Z)({id:0},ce.Ev.defaultNode)],edits:[{id:0,value:"# ".concat(l)}],team:s},r?{team_role:r}:void 0,i?{collection_id:i}:void 0);try{return await(0,T.Fv)("/document/new",o)}catch(c){return void(0,de.S)({dispatch:e,message:"Oops, notebook creation failed. Try again?",key:"create",error:c})}}(n,(0,O.Z)((0,a.Z)({},"team"===w.type?{teamId:w.id}:void 0),{teamRole:null!==d&&void 0!==d?d:void 0,collectionId:null===k||void 0===k?void 0:k.id,live:"public"===$}));e&&((0,F.MR)((0,F.ym)({type:"notebook:manage:create",data:{},eventVersion:5,notebook:e,currentUser:m})),ga("send","event","Notebook","Create"),gtag("event","Create",{event_category:"Notebook"}),h((0,te.Bi)(e)))}else{const e={id:i,title:o||"",saveVersion:l},t=await(0,ue.R)((0,O.Z)((0,a.Z)({notebook:e,currentUser:m,dispatch:n,trigger:"click",source:"newNotebookModal"},"team"===w.type?{teamId:w.id}:void 0),{showToast:!1,teamRole:d,live:"public"===$,collectionId:null===k||void 0===k?void 0:k.id}));t&&h("/d/".concat(t.id))}(0,F.MR)((0,F.a$)({type:"newNotebookModalCreateRequested",data:{trigger:t,parentNotebookId:i,type:o||"Untitled",action:null===i?"create":"fork",custom:c.id!==be.id&&"observablehq"!==c.login},eventVersion:1,currentUser:m}))}const{0:$,1:K}=(0,i.useState)("private");return(0,s.jsxs)(r.Vq,{onDismiss:G,className:"notebook-modal","aria-label":"New notebook",children:[(0,s.jsxs)(re.l,{className:"relative",onSubmit:e=>{e.preventDefault(),H({})},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),V(!0),H({newTab:e.metaKey||e.ctrlKey,trigger:"keypress"}))},children:[(0,s.jsx)(o.xB,{title:"New notebook",icon:ie.Z,onDismiss:G}),(0,s.jsxs)("div",{style:{background:"#fbfbfb"},className:"jsx-86af4d9d9276c6d8 "+j().dynamic([["b196a84e1241b029",[_.hs]]])+" middle-max flex-l db justify-between bt bb b--silver",children:[(0,s.jsxs)("div",{className:"jsx-86af4d9d9276c6d8 "+j().dynamic([["b196a84e1241b029",[_.hs]]])+" w-25-l w-100 br-l bb-0-l bb b--silver",children:[(0,s.jsx)(o.pe,{className:"mt3 ph3 pb2",title:"Workspace"}),(0,s.jsx)("div",{className:"jsx-86af4d9d9276c6d8 "+j().dynamic([["b196a84e1241b029",[_.hs]]])+" owner-panel flex flex-column flex-grow-1 overflow-y-auto overflow-x-hidden",children:(0,s.jsx)(W.a,{owners:v,disabledOwners:g,disabledReason:"Unable to create new notebooks here.",selectedOwner:w,setSelectedOwner:y,hasHighlightBackground:!0})}),(0,s.jsx)(o.pe,{className:"mt3 ph3 pt3 pb2 bt b--silver",title:oe.qC}),(0,s.jsx)("div",{className:"jsx-86af4d9d9276c6d8 "+j().dynamic([["b196a84e1241b029",[_.hs]]])+" ph3 flex flex-column flex-grow-1",children:(0,s.jsx)(oe.YI,{currentUser:m,selectedOwner:w,visibility:$,setVisibility:K,showProBadge:!0,handleUpsellDismiss:()=>{var e,t;n({type:"showModal",modal:"newNotebook",trigger:"click",source:"changeTierDismiss",modalProps:{dismissible:h,presetCollectionId:null!==(e=null===k||void 0===k?void 0:k.id)&&void 0!==e?e:null,presetTeam:null!==(t=(0,u.RC)(m,w.login))&&void 0!==t?t:void 0}})},nextPath:"".concat(l?"/team/@".concat(l.login,"/new"):"/new").concat(d?"?collection=".concat(d):"")})}),(0,s.jsx)(o.pe,{className:"mt3 ph3 pt3 pb2 bt b--silver",title:"Add to collection"}),(0,s.jsx)(Y,{ownerCollections:S,selectedOwner:w,addToCollection:k,setAddToCollection:N})]}),(0,s.jsx)("div",{className:"jsx-86af4d9d9276c6d8 "+j().dynamic([["b196a84e1241b029",[_.hs]]])+" templates-body ph4-l ph3 flex-grow-1 overflow-y-scroll",children:E.map(((e,t)=>(0,s.jsx)(se,{currentUser:m,collection:e,selectedTemplate:b,selectedCollection:x,setOperationPending:V,setSelectedTemplate:p,setSelectedCollection:f,onSubmit:H,isLast:t===E.length-1},e.id)))})]}),(0,s.jsx)(o.mz,{children:(0,s.jsxs)(c.CQ,{children:[(0,s.jsx)(c.kq,{text:"Cancel",type:"reset",onClick:G}),(0,s.jsx)(c.KM,{type:"submit",onClick:e=>{e.preventDefault(),V(!0),H({newTab:e.metaKey||e.ctrlKey})},loading:I,text:"Create notebook"})]})})]}),(0,s.jsx)(j(),{id:"86af4d9d9276c6d8",children:".notebook-modal{width:90vw;max-width:var(--max-width-page);height:90vh}@media screen and (min-width:30em){[data-reach-dialog-content]{margin:5vh auto}}@media screen and (max-width:30em){.notebook-modal{width:100vw}}"}),(0,s.jsx)(j(),{id:"b196a84e1241b029",dynamic:[_.hs],children:".middle-max.__jsx-style-dynamic-selector{overflow-y:scroll}@media screen and (max-width:30em){.middle-max.__jsx-style-dynamic-selector{height:-webkit-calc(100vh - 132px);height:-moz-calc(100vh - 132px);height:calc(100vh - 132px);overflow-y:scroll}}@media screen and (min-width:30em)and (max-width:60em){.middle-max.__jsx-style-dynamic-selector{height:-webkit-calc(90vh - 132px);height:-moz-calc(90vh - 132px);height:calc(90vh - 132px);overflow-y:scroll}.owner-panel.__jsx-style-dynamic-selector{max-height:180px;overflow-y:scroll}}@media ".concat(_.hs,"{.middle-max.__jsx-style-dynamic-selector{height:-webkit-calc(90vh - 132px);height:-moz-calc(90vh - 132px);height:calc(90vh - 132px)}}")})]})}));var ve=n(10099),ge=n(15612),je=n(17905),we=n(22027),ye=n(60138),ke=n(86320),Ne=n(38106),Ce=n(7131),Se=n(44754),Le=n(3142),qe=n(81816);const Ze=(0,h.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{let{currentUser:t,onDismiss:n,query:a=null}=e;const l=(0,i.useRef)(null),o=(0,_.GS)(_.ro),u=(0,Le.lJ)(t),{data:h=[]}=(0,T.h_)(t&&"/user/continue-editing?unified=true"),[m,b,p]=(0,Se.G)(a,500),{0:x,1:f}=(0,i.useState)(!1),v=null===p||p.length<2?null:x&&t?"@".concat(t.login," ").concat(p):p,{data:g,isValidating:w}=(0,T.h_)(v&&"".concat(u?"/search":"/documents/search","?").concat((0,qe.P)({query:v,sort:"relevance",direction:"desc",page:1})));(0,i.useEffect)((()=>{p&&(0,F.MR)((0,F.a$)({type:"search:searchBox",data:{query:p},eventVersion:1,currentUser:t}))}),[t,p]);const y=(0,V.useRouter)();let k=[];p&&!x&&(k=(0,Ne.O)(p));const N=(0,le.x)(null===v?h.filter((e=>!y.asPath.startsWith((0,te.Bi)(e)))):(null===g||void 0===g?void 0:g.results)||[]).filter((e=>!k.find((t=>t.url===(0,te.Bi)(e)))));function C(e){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),"Escape"===(null===e||void 0===e?void 0:e.key)&&m||n&&n(e)}const S=(0,Ce.a)(l);function L(e,n,a){"curated_result"!==e.type?function(e,n,a){v&&(0,F.MR)((0,F.a$)({type:"search:resultSelected",data:{query:v,resultSource:u?"elasticsearch":"postgres",resultId:e.id,resultTitle:e.title,rank:n,page:0,source:"suggestion",trigger:a},eventVersion:3,currentUser:t}))}(e,n,a):function(e,n,a){v&&(0,F.MR)((0,F.a$)({type:"search:resultSelected",data:{query:v,rank:n,page:0,resultSource:"curated",resultId:e.id,resultTitle:e.title,source:"suggestion",trigger:a},eventVersion:3,currentUser:t}))}(e,n,a)}function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keypress";const n=e.startsWith("curated-")?k:N,a=n.findIndex((t=>t.id===e)),s=-1===a?null:n[a];s&&(L(s,a+1,t),y.push("curated_result"===s.type?s.url:(0,te.Bi)(s)),C())}function Z(e,t,n){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?(e.stopPropagation(),L(t,n,"click")):(e.preventDefault(),q(t.id,"click"))}return(0,s.jsxs)(r.Vq,{"aria-label":"Search",style:{padding:0},onDismiss:C,children:[(0,s.jsxs)(ge.hQ,{className:"flex flex-column overflow-hidden",style:{maxHeight:o?"100vh":"75vh"},onSelect:q,openOnFocus:!0,children:[(0,s.jsxs)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa2 relative flex items-center",children:[(0,s.jsx)(ye.Z,{className:"absolute top pa2 gray"}),(0,s.jsx)(ge.gA,{autocomplete:!1,spellCheck:!1,onChange:e=>b(e.target.value),onKeyDown:S,onKeyPress:function(e){"Enter"===e.key&&m&&m.length>=2&&(y.push({pathname:"/search",query:{query:m,onlyOwner:x}}),C(e))},maxLength:256,className:"w-100 border-box",type:"search",placeholder:"Search e.g. bar chart @mbostock #plot",value:m||""}),(0,s.jsx)(c.sn,{onClick:n,text:"Cancel"})]}),(0,s.jsx)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 gray fw5 f7 bt b--silver",children:null===v&&N.length>0?"\u2026or jump to a recent notebook":(0,s.jsxs)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" flex justify-between nowrap",children:[(0,s.jsxs)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" dark-gray flex",children:[(0,s.jsx)(d.E,{label:"All Observable",className:"inline-flex mr3",checked:!x,onChange:()=>f(!1)}),(0,s.jsx)(d.E,{label:"Only your notebooks",className:"inline-flex mr3",checked:x,onChange:()=>f(!0),disabled:!t})]}),(0,s.jsx)(K(),{href:"/@observablehq/searching-on-observable",className:"blue",onClick:n,children:"Search tips"})]})}),k.length+N.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ge.Gk,{ref:l,className:"overflow-y-scroll bt b--silver near-black",children:[(0,s.jsx)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" "+((k.length>0?"pv2":"pv1")||""),children:k.map(((e,t)=>(0,s.jsx)(ge.O2,{index:t,value:e.id,className:"ph3 curated",children:(0,s.jsx)("a",{href:e.url,onClick:n=>Z(n,e,t+1),className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" no-underline",children:(0,s.jsx)(ke.H1,{result:e})})},e.id)))}),N.map(((e,t)=>(0,s.jsx)(ge.O2,{index:k.length+t,value:e.id,className:"ph3",children:(0,s.jsx)("a",{href:(0,te.Bi)(e),onClick:n=>Z(n,e,t+1),className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" no-underline",children:(0,s.jsx)(ke.R8,{notebook:e,className:t>0||k.length>0?"bt b--silver":""})})},e.id)))]}),w&&(0,s.jsxs)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 flex bt b--silver",children:[(0,s.jsx)(we.Z,{className:"blue mr2"})," Loading\u2026"]}),p&&g&&g.total>0?(0,s.jsx)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 fw6 f7 bt b--silver",children:(0,s.jsxs)(K(),{href:{pathname:"/search",query:{query:p,onlyOwner:x}},className:"blue flex items-center",children:[g.total>1?"View all ".concat(g.total.toLocaleString()," results "):"View 1 result ",(0,s.jsx)(je.Z,{})]})}):(g&&g.total>0||!v)&&(0,s.jsx)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pb2"})]}):w?(0,s.jsxs)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 flex bt b--silver",children:[(0,s.jsx)(we.Z,{className:"blue mr2"})," Loading\u2026"]}):p?(0,s.jsxs)("div",{className:j().dynamic([["87926020b5c8b00c",[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')]]])+" pa3 bt b--silver",children:["No results for \u201c",m,"\u201d"]}):null]}),(0,s.jsx)(j(),{id:"87926020b5c8b00c",dynamic:[encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>')],children:'div.__jsx-style-dynamic-selector [data-reach-combobox-input]{padding-left:1.75rem;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}div.__jsx-style-dynamic-selector ::-webkit-search-cancel-button{width:16px;height:16px;background:url("data:image/svg+xml,'.concat(encodeURIComponent('<svg width="16" height="16" viewBox="0 0 16 16" stroke="#929292" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M1 4L9 12M9 4L1 12"/></svg>'),'")}')})]})})),Me={none:null,accountSelect:b,cancelPlan:e=>{let{onDismiss:t}=e;const n=(0,x.X)(),a=(0,f.I0)();return n?(0,s.jsx)(o.On,{title:"Cancel plan",icon:p.Z,description:(0,s.jsxs)(s.Fragment,{children:["team"===n.type?(0,s.jsxs)(s.Fragment,{children:["Your team ",(0,s.jsx)("strong",{children:(0,u.RX)(n)})]}):(0,s.jsx)(s.Fragment,{children:"Your subscription"})," ","will remain active until the end of this billing cycle, and then it will be deactivated and all notebooks will become read-only."]}),onCancel:t,onConfirm:()=>{t(),a({type:"cancelPlan",user:n})},destructive:!0}):(a({type:"showErrorToast",key:"cancelPlan",message:"Oops, cancelling plan failed. Try again?"}),a({type:"dismissModal"}),null)},changeUserTier:v.z,contact:E,login:I._,newNotebook:fe,reauthenticate:ve.l,search:Ze};var Te=(0,o.zm)(Me)},36225:function(e,t,n){n.d(t,{U0:function(){return M},_D:function(){return T},gZ:function(){return C},h2:function(){return U},pb:function(){return N},pe:function(){return _},sl:function(){return k}});var a=n(85893),s=n(94184),r=n.n(s),i=n(67294),l=n(12204),o=n(37497),c=n(11233),d=n(54239),u=n(3304),h=n(19868),m=n(22027),b=n(2845),p=n(33396),x=n(602),f=n(19671),v=n(25158);const g=["google","microsoft","github","twitter","otp"];function j(e){(0,f.MR)((0,f.a$)({type:"user:manage:clickLoginProvider",eventVersion:1,data:{provider:e},currentUser:null}))}function w(e){return e.trim().toLowerCase()}const y=e=>{let{provider:t}=e;const n="w1 h1 ml1 mr2";switch(t){case"github":return(0,a.jsx)(u.Z,{className:n});case"twitter":return(0,a.jsx)(p.Z,{className:n,style:{color:"#1DA1F2"}});case"google":return(0,a.jsx)(h.Z,{className:n});case"microsoft":return(0,a.jsx)(b.ZP,{className:n});default:return null}},k=e=>{let{path:t,loginAction:n,setScreen:s,msTeams:o=!1}=e;const{0:c,1:d}=(0,i.useState)(),u=(0,i.useRef)(null),h=(0,i.useRef)(null),b=(0,i.useCallback)((e=>{const t=e.target.value;"sso"!==t?(d(t),j(t),n(),h.current&&(h.current.value=t),u.current&&(u.current.token.value=(0,x.FN)(),u.current.submit())):s("sso")}),[n,s]);return(0,a.jsxs)("form",{ref:u,action:"".concat("https://api.observablehq.com","/login"),method:"post",children:[(0,a.jsx)("input",{type:"hidden",name:"token"}),(0,a.jsx)("input",{type:"hidden",name:"path",value:t}),(0,a.jsx)("input",{type:"hidden",name:"provider",value:"",ref:h}),Array.from(N.keys()).map((e=>{const t=o&&(0,v.t)()&&"google"===e;return(0,a.jsxs)("button",{onClick:b,name:"provider",value:e,type:"button",className:r()("relative",(0,l.XK)(t)),onKeyDown:e=>{"Enter"===e.key&&b(e)},disabled:t,title:t?"".concat(N.get(e)," login is not supported in this context."):void 0,children:[t&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-100 h-100 bg-light-gray br2 o-60"}),e===c?(0,a.jsx)(m.Z,{className:"ml1 mr2 dark-gray"}):(0,a.jsx)(y,{provider:e}),"Continue with ",N.get(e)]},e)}))]})},N=new Map([["github","GitHub"],["twitter","Twitter"],["google","Google"],["microsoft","Microsoft"],["sso","SSO"]]);function C(e){return g.includes(e)?e:"sso"}const S=e=>{let{onSubmit:t,loginValidation:n,editUsername:s,rawUsername:r}=e;return(0,a.jsxs)("form",{className:"flex flex-column ",onSubmit:t,children:[(0,a.jsxs)("div",{className:"flex items-center mt3 justify-between",children:[(0,a.jsx)("div",{className:"mr1 near-black",children:"@"}),(0,a.jsx)(c.Z,{required:!0,name:"login",spellCheck:"false",autoComplete:"username",autoCorrect:"off",autoCapitalize:"none",autoFocus:!0,minLength:1,maxLength:255,className:"flex-auto",onChange:s,value:r,placeholder:"username"}),(0,a.jsx)(o.KM,{type:"submit",disabled:"notChecked"!==n,text:"Continue",className:"ml2"})]}),"notFound"===n?(0,a.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Username not found"}):"invalid"===n?(0,a.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Usernames can only include alphanumeric characters or single hyphens."}):null]})},L=e=>{let{onSubmit:t,emailValidation:n,editEmail:s,rawEmail:r}=e;return(0,a.jsxs)("form",{className:"flex flex-column",onSubmit:t,children:[(0,a.jsxs)("div",{className:"flex items-center mt2 justify-between",children:[(0,a.jsx)(c.Z,{required:!0,name:"email",spellCheck:"false",autoComplete:"email",autoCorrect:"off",autoCapitalize:"none",minLength:1,maxLength:255,className:"flex-auto",onChange:s,value:r,placeholder:"Sign in using email"}),(0,a.jsx)(o.aX,{type:"submit",disabled:"invalidEmail"===n,text:"Continue",className:"ml2"})]}),"invalidEmail"===n?(0,a.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Emails cannot include certain characters, including commas, braces, brackets, quotes, and spaces."}):"otpInvalid"===n?(0,a.jsx)("div",{className:"w-100 mt1 f6 dark-red",children:"Passwordless authentication is not supported in this context. Please sign in with another account."}):null]})},q=e=>{let{value:t}=e;return(0,a.jsx)("div",{className:"w-100 pa2 mt2 f6 fw5 dark-gray bg-near-white br2 form-default-clear form-custom-input",children:t})},Z=e=>{let{username:t,path:n,provider:s,setLoginValidation:r,loginAction:o}=e;const{0:c,1:u}=(0,i.useState)(!1),h=(0,i.useRef)(null),b=(0,i.useCallback)((()=>{u(!0),j(s),o(),h.current&&(h.current.token.value=(0,x.FN)(),h.current.submit())}),[s,o]);return(0,a.jsxs)("form",{action:"".concat("https://api.observablehq.com","/login"),method:"post",ref:h,children:[(0,a.jsx)("button",{className:"dark-gray bg-transparent hover-bg-black-05 pointer animate-all absolute pa2 f6 fw6 br-100 flex items-center ba b--transparent relative",style:{top:"-1.5rem",left:"-2.5rem"},onClick:()=>r("notChecked"),children:(0,a.jsx)(d.Z,{})}),(0,a.jsx)("div",{className:"flex h1 f6 near-black justify-between",children:(0,a.jsx)("span",{children:"Your username"})}),(0,a.jsx)(q,{value:t}),(0,a.jsx)("input",{type:"hidden",name:"token"}),(0,a.jsx)("input",{type:"hidden",name:"path",value:n}),(0,a.jsx)("input",{type:"hidden",name:"login",value:t}),(0,a.jsxs)("button",{onClick:b,type:"button",autoFocus:!0,className:(0,l.XK)(),onKeyDown:e=>{"Enter"===e.key&&b()},children:[c?(0,a.jsx)(m.Z,{className:"ml1 mr2 dark-gray"}):(0,a.jsx)(y,{provider:s}),"Continue with ",N.get(s)||"SSO"]})]})},M=e=>{let{path:t,loginAction:n,setScreen:s,msTeams:r=!1}=e;const{0:o,1:c}=(0,i.useState)(""),{0:d,1:u}=(0,i.useState)(""),{0:h,1:m}=(0,i.useState)("notChecked"),{0:b,1:p}=(0,i.useState)("notChecked"),{0:v,1:g}=(0,i.useState)(null),{0:y,1:N}=(0,i.useState)(!1);(0,i.useEffect)((()=>{y&&m("otp"===v&&r?"otpInvalid":null!==v?"valid":"notFound")}),[v,y,r]);const q=(0,i.useCallback)((e=>{const t=w(e.target.value);c(t),m(!t||l.tG.test(t)?"notChecked":"invalid"),N(!1)}),[]),M=(0,i.useCallback)((e=>{const t=w(e.target.value);u(t),p(t&&l.uM.test(t)?l.HN.test(t)?"validEmail":"invalidEmail":"notChecked"),N(!1)}),[]),T=(0,i.useCallback)((async e=>{if(e.preventDefault(),(0,f.MR)((0,f.a$)({type:"user:manage:clickLoginUsername",eventVersion:1,data:{},currentUser:null})),"validEmail"!==b){try{const{provider:e}=await(0,x.a8)("/user/@".concat(w(o),"/identity")),a=C(e);"otp"!==a||r||(j("otp"),(0,x.Fv)("/otp/invite",{path:t,login:w(o),mode:"signin"}).then((()=>{s("signInEmailSent"),n()}))),g(a)}catch(a){g(null)}N(!0)}else(0,x.Fv)("/otp/invite",{path:t,email:w(d),mode:"signin"}).then((()=>{s("signInEmailSent"),n()}))}),[o,b,d,t,s,n,r]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"f3 fw7 tc near-black",children:"Sign in"}),(0,a.jsxs)("div",{className:"mt3",children:[v&&"otp"!==v&&"valid"===h?(0,a.jsx)(Z,{username:w(o),path:t,loginAction:n,provider:v,setLoginValidation:m}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{onSubmit:T,loginValidation:h,editUsername:q,rawUsername:o}),(0,a.jsx)("div",{className:"mv3 f6 tc moon-gray",children:"\u2500\u2500\u2500\u2500\u2500\u2500 or \u2500\u2500\u2500\u2500\u2500\u2500"}),(0,a.jsx)(k,{path:t,loginAction:n,msTeams:r,setScreen:s}),!r&&(0,a.jsx)(L,{onSubmit:T,emailValidation:b,editEmail:M,rawEmail:d})]}),(0,a.jsxs)("div",{className:"w-100 mt4 f6 tc",children:[(0,a.jsx)("button",{className:l.f3,onClick:()=>s("recoverLogin"),children:"Forgot your username?"}),(0,a.jsx)("span",{className:"mh1 gray",children:"\u2022"}),(0,a.jsx)("button",{className:l.f3,onClick:()=>s("signup"),children:"Create an account"})]})]})]})},T=e=>{let{path:t,loginAction:n,setScreen:s,mode:r}=e;const{0:l,1:d}=(0,i.useState)(""),{0:u,1:h}=(0,i.useState)(!1),m=(0,i.useRef)(null);function b(e){var a;e.preventDefault(),(null===(a=m.current)||void 0===a?void 0:a.validationMessage)?h(!0):(j("otp"),(0,x.Fv)("/otp/invite",{email:l,path:t,mode:r}).then((()=>{s("signup"===r?"signUpEmailSent":"signInEmailSent"),n()})))}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{className:"flex mt2 justify-between",onSubmit:b,children:[(0,a.jsx)(c.Z,{ref:m,required:!0,type:"email",name:"email",pattern:"^[^{}\\[\\],\"' <>]+$",spellCheck:"false",autoComplete:"username",autoCorrect:"off",autoCapitalize:"none",minLength:1,maxLength:255,onChange:e=>{h(!1),d(e.target.value)},value:l,placeholder:"Sign up with email",className:"flex-auto"}),(0,a.jsx)(o.KM,{disabled:!l.trim(),className:"ml2",onClick:b,text:"signup"===r?"Continue":"Send link"})]}),(0,a.jsx)("div",{className:"truncate h2 mt1 f7 fw7 dark-pink",children:u&&m.current&&m.current.value&&m.current.validationMessage})]})},_=e=>{let{signin:t}=e;return(0,a.jsxs)("div",{className:"flex flex-column items-center",children:[(0,a.jsx)("div",{className:"w-100 f6 fw7 tc mid-gray",id:"modal-title",children:"Check your email"}),(0,a.jsx)("div",{className:"pt3 near-black lh-copy tc",children:t?(0,a.jsx)(a.Fragment,{children:"We\u2019ve emailed you a link to sign in to Observable. The link will expire in 10 minutes."}):(0,a.jsx)(a.Fragment,{children:"We\u2019ve emailed you a link to sign up for Observable. The link will expire in 10 minutes."})})]})},U=e=>{let{path:t,loginAction:n}=e;var s;const{0:r,1:l}=(0,i.useState)(""),{0:d,1:u}=(0,i.useState)(!1),h=(0,i.useRef)(null),{0:m,1:b}=(0,i.useState)(!1),p=(0,i.useRef)(null),f=(0,i.useCallback)((e=>{var t;e.preventDefault(),(null===(t=h.current)||void 0===t?void 0:t.validationMessage)?u(!0):(b(!0),j("sso"),n(),p.current&&(p.current.token.value=(0,x.FN)(),p.current.submit()))}),[n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-100 f6 fw7 tc mid-gray",children:"Enter your SSO username"}),(0,a.jsxs)("form",{className:"flex mt2 justify-between",ref:p,action:"".concat("https://api.observablehq.com","/login"),method:"post",children:[(0,a.jsx)("input",{type:"hidden",name:"token"}),(0,a.jsx)("input",{type:"hidden",name:"path",value:t}),(0,a.jsx)(c.Z,{ref:h,required:!0,type:"email",name:"sso",pattern:"^[^{}\\[\\],\"' <>]+$",spellCheck:"false",autoComplete:"email",autoCorrect:"off",autoCapitalize:"none",minLength:1,maxLength:255,onChange:e=>{u(!1),l(e.target.value)},value:r,placeholder:"username@mycompany.com",className:"flex-auto",onKeyDown:e=>{"Enter"===e.key&&f(e)}}),(0,a.jsx)(o.KM,{disabled:!r.trim(),className:"ml2",loading:m,onClick:f,text:"Continue"})]}),(0,a.jsx)("div",{className:"truncate h2 mt1 f7 fw7 dark-pink",children:d&&(null===(s=h.current)||void 0===s?void 0:s.value)&&h.current.validationMessage})]})}},53793:function(e,t,n){n.d(t,{_:function(){return S},m:function(){return w}});var a=n(85893),s=n(56424),r=n(94184),i=n.n(r),l=n(11163),o=n(67294),c=n(36225),d=n(12204),u=n(37497),h=n(11233),m=n(602),b=n(19671);const p=e=>{let{setScreen:t,email:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mv3 f6 tc dark-green lh-f6",children:"Request submitted! You'll receive an email shortly if we find an account\n        associated with ".concat(n,".")}),(0,a.jsx)(u.KM,{onClick:()=>t("login"),text:"Back to sign in",className:"w-100 mv2"}),(0,a.jsx)("div",{className:"mt3 f6 tc",children:(0,a.jsx)("span",{className:"dark-blue hover-lightest-blue shadow-hover",onClick:()=>t("signup"),children:"Create an account"})})]})},x=e=>{let{setScreen:t,recoverLogin:n,editEmail:s,email:r,status:i}=e;return(0,a.jsxs)("form",{onSubmit:n,children:[(0,a.jsx)("div",{className:"mv3 f6 tc mid-gray lh-f6",children:"Enter your email address below and we'll send you the username\n        associated with the address provided."}),(0,a.jsxs)("label",{htmlFor:"email",className:"f6 near-black",children:["Email",(0,a.jsx)(h.Z,{name:"email",type:"email",spellCheck:"false",autoComplete:"email",autoCorrect:"off",autoCapitalize:"none",autoFocus:!0,minLength:3,maxLength:255,className:"w-100 mt2",onChange:s,value:r,required:!0})]}),(0,a.jsx)(u.KM,{type:"submit",loading:"sending"===i,text:"Send email",className:"w-100 mv2"}),(0,a.jsxs)("div",{className:"mt3 f6 tc",children:[(0,a.jsx)("button",{className:d.f3,onClick:()=>t("login"),children:"Back to sign in"}),(0,a.jsx)("span",{className:"mh1 gray",children:"\u2022"}),(0,a.jsx)("button",{className:d.f3,onClick:()=>t("signup"),children:"Create an account"})]})]})},f=e=>{let{setScreen:t}=e;const{0:n,1:s}=(0,o.useState)(""),{0:r,1:i}=(0,o.useState)("notSent"),l=(0,o.useCallback)((e=>{i("notSent"),s(e.target.value)}),[]),c=(0,o.useCallback)((async e=>{e.preventDefault(),"sending"!==r&&((0,b.MR)((0,b.a$)({type:"user:manage:recoverLogin",eventVersion:1,data:{},currentUser:null})),i("sending"),await(0,m.Fv)("/recover-login",{email:n}),i("sent"))}),[n,r]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"f3 fw7 tc near-black",children:"Forgot username"}),"sent"===r?(0,a.jsx)(p,{setScreen:t,email:n}):(0,a.jsx)(x,{status:r,setScreen:t,editEmail:l,email:n,recoverLogin:c})]})};var v=n(89905),g=n(40042);const j=/^\/(error|login(-\w+)?|teams|pricing|community|explore|tutorials|document|about|product|solutions)([/?]|$)/i;function w(e){return j.test(e)}function y(e,t){let n;if("login"===t||"sso"===t)n="sign in";else{if("signup"!==t)return;n="sign up"}const a={comment:"comment on this notebook",demo:"save your copy of the demo",like:"like this notebook",fork:"save your fork",team:"create a team",suggest:"suggest this notebook",acceptTeamInvitation:"accept this team invitation",acceptNotebookInvitation:"accept this notebook invitation",files:"upload files"}[e];return a?"Please ".concat(n," to ").concat(a,"."):void 0}const k=e=>{let{path:t,loginAction:n,setScreen:s,msTeams:r=!1}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb4 f3 fw7 tc near-black",children:"Sign up"}),(0,a.jsx)(c.sl,{path:t,loginAction:n,msTeams:r,setScreen:s}),!r&&(0,a.jsx)(c._D,{path:t,mode:"signup",loginAction:n,setScreen:s}),(0,a.jsxs)("div",{className:i()("w-100 f6 tc near-black",r?"mt3":""),children:["Already have an account?"," ",(0,a.jsx)("button",{className:d.f3,onClick:()=>s("login"),children:"Sign in"})]})]})},N=e=>{let{path:t,loginAction:n,setScreen:s,msTeams:r=!1}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb4 f3 fw7 tc near-black",children:"Link account"}),(0,a.jsx)(c.sl,{path:t,loginAction:n,msTeams:r,setScreen:s}),!r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex mt1 justify-between items-center",children:(0,a.jsx)("div",{className:"mv1 center f6 mid-gray",children:"or"})}),(0,a.jsx)(c._D,{path:t,mode:"link",loginAction:n,setScreen:s})]})]})};function C(e){switch(e){case"fork":case"comment":case"like":case"team":return"signup";default:return"login"}}const S=(0,g.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),null)((e=>{let{currentUser:t,loginReason:n,loginScreen:r=C(n),loginAction:i=(()=>{}),message:d=(n?y(n,r):void 0),onDismiss:h,redirectPath:m,msTeams:p=!1}=e;const x=!!h,{0:g,1:j}=(0,o.useState)(r),S=(0,l.useRouter)();let L=null!==m&&void 0!==m?m:S.asPath;w(L)&&(L="/"),"fork"===n&&(L="/forking");const q=h&&(e=>{(0,b.MR)((0,b.a$)({type:"user:manage:signupCancel",data:{trigger:"click"===(null===e||void 0===e?void 0:e.type)?"click":"keypress"},currentUser:t,eventVersion:1})),h()});return(0,a.jsx)(s.Vq,{onDismiss:x?q:void 0,"aria-label":"Sign in",className:"narrow",style:{padding:"".concat(p?"2rem 4rem":"3rem 4rem")},children:(0,a.jsxs)("div",{className:"relative",children:[x&&(0,a.jsx)(u.hU,{icon:v.Z,onClick:q,colorless:!0,style:{top:"-1.5rem",right:"-2.5rem"},className:"absolute"}),d&&(0,a.jsx)("div",{className:"absolute w-100 tc",style:{bottom:"calc(100% + 2rem)"},children:(0,a.jsx)("div",{className:"dib ph3 pv2 f6 fw5 near-black bg-near-white bb b--light-gray br2",children:d})}),"signup"===g?(0,a.jsx)(k,{loginAction:i,path:L,setScreen:j,onDismiss:h,msTeams:p}):"linkAccount"===g?(0,a.jsx)(N,{loginAction:i,path:L,setScreen:j,onDismiss:h,msTeams:p}):"recoverLogin"===g?(0,a.jsx)(f,{setScreen:j}):"signInEmailSent"===g?(0,a.jsx)(c.pe,{signin:!0}):"signUpEmailSent"===g?(0,a.jsx)(c.pe,{signin:!1}):"sso"===g?(0,a.jsx)(c.h2,{loginAction:i,path:L}):(0,a.jsx)(c.U0,{path:L,loginAction:i,setScreen:j,msTeams:p}),(0,a.jsx)("div",{className:"mt4 f7 fw4 tc mid-gray lh-copy",children:"By continuing you agree to our"}),(0,a.jsxs)("div",{className:"f7 fw4 tc mid-gray lh-copy",children:[(0,a.jsx)("a",{className:"blue hover-dark-blue link",href:"/terms-of-service",rel:"noopener noreferrer",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,a.jsx)("a",{className:"blue hover-dark-blue link",href:"/privacy-policy",rel:"noopener noreferrer",target:"_blank",children:"Privacy Policy"}),"."]})]})})}))},12204:function(e,t,n){n.d(t,{HN:function(){return s},XK:function(){return i},f3:function(){return l},tG:function(){return a},uM:function(){return r}});const a=/^[0-9a-z][0-9a-z-]*$/,s=/^[^{}[\],"' <>]+$/,r=/^\S+@\S*$/;function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="flex w-100 justify-center pv2 pl2 pr3 mt2 f6 fw6 dark-gray bg-near-white ba b--light-gray br2 z-2";return e||(t="".concat(t," shadow-2-hover hover-near-black pointer")),t}const l="dark-blue hover-lightest-blue link bg-white b--none pointer ph0"},10099:function(e,t,n){n.d(t,{l:function(){return m}});var a=n(85893),s=n(11163),r=n(67294),i=n(93452),l=n(53793),o=n(75713),c=n(81685),d=n(602),u=n(4598),h=n(36448);const m=e=>{let{onDismiss:t,error:n}=e;var m,b,p,x;const f=(0,s.useRouter)(),v=null===n||void 0===n||null===(m=n.meta)||void 0===m?void 0:m.provider,g=null===n||void 0===n||null===(b=n.meta)||void 0===b?void 0:b.provider_org,j=null===n||void 0===n||null===(p=n.meta)||void 0===p?void 0:p.login;var w;let y=null!==(w=null===n||void 0===n||null===(x=n.meta)||void 0===x?void 0:x.path)&&void 0!==w?w:f.asPath;(0,l.m)(y)&&(y="");let k,N=!!t;"IDENTITY_NOT_VALID"===(null===n||void 0===n?void 0:n.code)?(N=!1,k=(0,a.jsx)(a.Fragment,{children:"Observable requires authorization to validate your identity."})):"MISSING_ORG"===(null===n||void 0===n?void 0:n.code)?k=(0,a.jsxs)(a.Fragment,{children:["You must be authenticated to the ",(0,a.jsx)("b",{children:g})," domain to continue."]}):"IDENTITY_CONFLICT"===(null===n||void 0===n?void 0:n.code)?(N=!1,k=(0,a.jsxs)(a.Fragment,{children:["That ",(0,a.jsx)("b",{children:g})," identity is associated with a different user. Please choose another, or sign out and re-sign in."]})):"EMAIL_CONFLICT"===(null===n||void 0===n?void 0:n.code)?(N=!0,k=(0,a.jsxs)(a.Fragment,{children:["This email address is already associated with an Observable account. Please sign-in with ",(0,a.jsx)("b",{children:(0,u.w)(v)})," to access this account."]})):"IDENTITY_VERIFICATION"===(null===n||void 0===n?void 0:n.code)?(N=!0,k=(0,a.jsxs)(a.Fragment,{children:["Click ",(0,a.jsx)("b",{children:"Continue"})," to verify the identity provider values by signing in to your ",(0,a.jsx)("b",{children:g})," account successfully."]})):k=(0,a.jsx)(a.Fragment,{children:"An authentication error occurred. Please continue to sign in again."});const C=(0,r.useRef)(null),{0:S,1:L}=(0,r.useState)(!1);return(0,a.jsxs)(o.l,{id:"signIn",action:"".concat("https://api.observablehq.com","/login"),method:"post",ref:C,children:[(0,a.jsx)("input",{type:"hidden",name:"token"}),(0,a.jsx)("input",{type:"hidden",name:"path",value:y}),(0,a.jsx)("input",{type:"hidden",name:"provider",value:v}),(0,a.jsx)("input",{type:"hidden",name:"org",value:g}),(0,a.jsx)("input",{type:"hidden",name:"login",value:j}),(0,a.jsx)(i.On,{title:"Authentication required",icon:c.Z,description:k,cancelText:N?"Back":"Sign out",confirmText:"Continue".concat(j&&v?" with ".concat((0,u.w)(v)):""),onCancel:N&&t?t:function(){C.current.action=(0,h.i8)(),C.current.token.value=(0,d.FN)(),C.current.path.value=null,C.current.org.value=null,C.current.submit()},onConfirm:function(){L(!0),C.current.token.value=(0,d.FN)(),C.current.submit()},isConfirming:S})]})}},86320:function(e,t,n){n.d(t,{H1:function(){return k},R8:function(){return y},pl:function(){return w}});var a=n(41799),s=n(69396),r=n(99534),i=n(85893),l=n(60357),o=n.n(l),c=n(94184),d=n.n(c),u=(n(67294),n(23105)),h=n(8385),m=n(95357),b=n(76267),p=n(52155),x=n(92946),f=n(84749),v=n(27193),g=n(3142),j=n(62990);const w=e=>{var{hash:t,width:n=108,className:l,style:c}=e,u=(0,r.Z)(e,["hash","width","className","style"]);return(0,i.jsx)("div",(0,s.Z)((0,a.Z)({},u),{style:(0,s.Z)((0,a.Z)({},c),{backgroundImage:t?"url(https://".concat("static.observableusercontent.com","/thumbnail/").concat(t,".jpg)"):"var(--checkerboard)"}),className:o().dynamic([["ef35223b4cd52243",[n,Math.round(n/1.6)]]])+" "+(d()("br2 ba b--silver bg-white hover-b--light-gray hover-light-shadow flex-shrink-0",t?"cover bg-center":"",l)||""),children:(0,i.jsx)(o(),{id:"ef35223b4cd52243",dynamic:[n,Math.round(n/1.6)],children:"div.__jsx-style-dynamic-selector{width:".concat(n,"px;height:").concat(Math.round(n/1.6),"px}")})}))},y=e=>{let{notebook:t,className:n=""}=e;const{commentCount:a,authors:s,forked:r,likes:l,owner:o,publishLevel:c,publishTime:y,thumbnail:k,title:N,saveTime:C}=t,S=y||C;return(0,i.jsxs)("div",{className:d()("flex pv2",n),children:[(0,i.jsx)(w,{hash:k,className:"mr3"}),(0,i.jsxs)("div",{className:"flex fw5 flex-column justify-center truncate",children:[(0,i.jsxs)("div",{className:"f6 mb1 flex items-center",children:[(0,i.jsx)("div",{className:"mr1 truncate nowrap",children:(0,v.Ui)({title:N})}),r&&(0,i.jsx)(b.F,{title:"This notebook is a fork",className:"moon-gray flex-shrink-0"}),(0,g.ws)({publishLevel:c})?(0,i.jsx)(f.Z,{title:"Private",className:"moon-gray flex-shrink-0"}):(0,g.cg)({publishLevel:c})?(0,i.jsx)(x.Vp,{title:"Published (unlisted)",className:"moon-gray flex-shrink-0"}):null]}),(0,i.jsxs)("div",{className:"f7 flex items-center relative",children:[(0,i.jsx)(h.q,{user:o,size:24,title:(0,v.KY)(o),className:"br-100 mr2"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.TO,{owner:o,authors:s,isTeam:(0,g.p0)(t),className:"pen"}),(0,i.jsxs)("div",{className:"gray flex",children:[(0,i.jsx)("span",{title:(0,j.mr)(S),children:(0,j.LN)(S)}),(l>0||a>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"mh1 light-gray",children:"\u2022"}),l>0&&(0,i.jsxs)("span",{className:"mr2 nowrap flex items-center",children:[(0,i.jsx)(p.Z,{className:"moon-gray mr1"}),(0,v.CZ)(l)]}),a>0&&(0,i.jsxs)("span",{className:"mr2 nowrap flex items-center",children:[(0,i.jsx)(m.L,{className:"moon-gray mr1"}),(0,v.CZ)(a)]})]})]})]})]})]})]})},k=e=>{let{result:{title:t,description:n,thumbnail:a,external:s},className:r=""}=e;return(0,i.jsxs)("div",{className:"jsx-724d6de7600964da "+(d()("pa1",r)||""),children:[(0,i.jsxs)("div",{className:"jsx-724d6de7600964da curated-box br2 flex nh2 pa1 bg-near-white",children:[(0,i.jsx)(w,{hash:a,className:"mr3"}),(0,i.jsxs)("div",{className:"jsx-724d6de7600964da flex fw5 flex-column justify-center",children:[(0,i.jsxs)("div",{className:"jsx-724d6de7600964da f6 mb1",children:[(0,i.jsx)("span",{className:"jsx-724d6de7600964da mr1",children:t}),s&&(0,i.jsx)(x.Pf,{className:"v-btm moon-gray"})]}),(0,i.jsx)("div",{className:"jsx-724d6de7600964da f7 dark-gray",children:n})]})]}),(0,i.jsx)(o(),{id:"4cf13cab8b47a52d",children:".nh2.jsx-724d6de7600964da{margin-left:-webkit-calc(-1*var(--spacing-small));margin-left:-moz-calc(-1*var(--spacing-small));margin-left:calc(-1*var(--spacing-small));margin-right:-webkit-calc(-1*var(--spacing-small));margin-right:-moz-calc(-1*var(--spacing-small));margin-right:calc(-1*var(--spacing-small))}"}),(0,i.jsx)(o(),{id:"44628a3017fa055",children:"[data-reach-combobox-option][data-highlighted]:hover,[data-reach-combobox-option][data-highlighted] .curated-box,[data-reach-combobox-option]:hover .curated-box{background:var(--silver)}[data-reach-combobox-option][data-highlighted]:hover .curated-box{background:var(--light-gray)}"})]})}},86384:function(e,t,n){n.d(t,{b:function(){return i}});var a=n(85893),s=(n(67294),n(54329)),r=n(66421);const i=e=>{let{notebook:t,currentUser:n,dispatch:i}=e;return n&&((0,r.Zs)(n,t)||(0,r.mc)(n,t))?{onSelect:()=>i({type:"showModal",modal:"collections",modalProps:{collectionListing:t}}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{className:"mr2 h1 w1"}),"collections"in t&&t.collections.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"nowrap",children:"In collections"}),(0,a.jsx)("span",{className:"ml2 f7 mid-gray bg-light-silver br2",style:{padding:"2px 4.5px"},children:t.collections.length})]}):(0,a.jsx)("span",{className:"nowrap",children:"Add to collections\u2026"})]})}:null}},43164:function(e,t,n){n.d(t,{AH:function(){return m},iE:function(){return b},tJ:function(){return h}});var a=n(85893),s=n(94184),r=n.n(s),i=n(76267),l=n(23952),o=n(74080),c=n(27193),d=n(66421),u=n(3142);function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,a.jsxs)(a.Fragment,{children:["Fork",n?(0,a.jsxs)("span",{className:"ml1 fw4 nowrap",children:[(0,c.CZ)(n)," unsaved change",1!==n?"s":""]}):null,(0,l.NE)(t)?(0,a.jsx)(a.Fragment,{children:"\u2026"}):""]})}const m=function(e){let{notebook:t,currentUser:n,dispatch:s}=e,{addLabel:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{addLabel:!0};if(!(0,d.rk)(n,t))return null;const c="model"in t?(0,u.ev)(t):void 0,m="click";return{onSelect:e=>s({type:"forkRequested",source:e,trigger:m}),tooltip:n?"Fork this notebook":"Sign in to fork this notebook",disabled:!(0,o.YW)(t),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:r()(l&&"mr2","h1 w1")}),l&&h(t,n,c)]})}},b=e=>{let{notebook:t,currentUser:n,dispatch:a}=e;return m({notebook:t,currentUser:n,dispatch:a},{addLabel:!1})}},83065:function(e,t,n){n.d(t,{Y:function(){return i},i:function(){return l}});var a=n(85893),s=n(87769),r=n(66421);const i=e=>{let{notebook:t,dispatch:n}=e;return(0,r.yF)(t)?{onSelect:()=>{n({type:"showModal",modal:"share"})},tooltip:"Share with others",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{className:"mr2 h1 w1"}),"Share\u2026"]})}:null},l=e=>{let{notebook:t,dispatch:n}=e;return(0,r.yF)(t)?{onSelect:()=>{n({type:"showModal",modal:"share"})},tooltip:"Share with others",children:(0,a.jsx)(s.Z,{className:"h1 w1"})}:null}},2239:function(e,t,n){n.d(t,{t:function(){return i}});var a=n(85893),s=(n(67294),n(18794)),r=n(66421);const i=e=>{let{notebook:t,dispatch:n}=e;return(0,r.mO)(t)?{onSelect:()=>n({type:"showModal",modal:"setSlug"}),disabled:!1,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{className:"mr2 h1 w1"}),"Set URL\u2026"]})}:null}},2840:function(e,t,n){n.d(t,{M:function(){return i}});var a=n(85893),s=(n(67294),n(959)),r=n(66421);const i=function(e){let{notebook:t,currentUser:n,dispatch:i}=e,{relocate:l,live:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{relocate:!0};const c=(0,r.T1)(n),d=(0,r.ev)(n,t),u=((null===n||void 0===n?void 0:n.has_workspace)?1:0)+c.length;return null===n||!(0,r.S)(t)||u<2?null:{onSelect:()=>i({type:"showModal",modal:"transfer",modalProps:{notebook:t,live:o,currentUser:n,relocate:l},trigger:"click",source:"notebookMenu"}),disabled:t.owner.id===n.id&&0===d.length,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{className:"mr2 h1 w1"}),"Transfer\u2026"]})}}},77061:function(e,t,n){n.d(t,{q:function(){return i}});var a=n(85893),s=n(8433),r=n(66421);const i=function(e){let{notebook:t,dispatch:n}=e,{relocate:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{relocate:!0};return(0,r.c)(t)?{onSelect:()=>n({type:"showModal",modal:"trash",modalProps:{relocate:i}}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{className:"mr2 h1 w1"}),"Delete\u2026"]})}:null}},80453:function(e,t,n){n.d(t,{M:function(){return w},P:function(){return f}});var a=n(85893),s=n(94184),r=n.n(s),i=n(67294),l=n(8385),o=n(37720),c=n(37497),d=n(79209),u=n(22255),h=n(84193),m=n(45578),b=n(82893),p=n(66421),x=n(36448);const f=5,v=e=>{let{author:t,isOpen:n,className:s=""}=e;const i=t.approved?(0,a.jsx)(l.q,{user:t,size:16,style:{verticalAlign:"text-bottom"},className:"w1 h1 mr1 br-100"}):(0,a.jsx)(d.Z,{className:"yellow w1 h1 mr1",style:{verticalAlign:"text-bottom"}});return(0,a.jsxs)("div",{className:r()("flex items-center",s),children:[n?i:(0,a.jsx)(m.Gz,{owner:t,buttonless:!0,children:i}),(0,a.jsx)("div",{className:"inline-flex items-center",children:n?(0,x.RX)(t):(0,a.jsx)(m.Gz,{owner:t,buttonless:!0,children:(0,x.RX)(t)})})]})},g=e=>{let t,{authors:n,isOpen:s}=e;function r(e){let{i:t,author:s}=e;return(0,a.jsx)(l.q,{user:s,size:16,style:{verticalAlign:"text-bottom",marginLeft:(-9.6*n.length-1)/n.length},className:"w1 h1 mr1 br-100 b--white ba"},t)}function i(e){let{i:t,authors:n}=e;return(0,a.jsx)(d.Z,{className:"yellow w1 h1 mr1 br-100 b--white ba",style:{verticalAlign:"text-bottom",marginLeft:(-9.6*n.length-1)/n.length}},t)}switch(n.length){case 1:t=(0,a.jsx)(v,{author:n[0],isOpen:s});break;case 2:t=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{author:n[0],className:"mr1",isOpen:s}),(0,a.jsx)("span",{className:"mr1",children:" and"}),(0,a.jsx)(v,{author:n[1],isOpen:s})]});break;default:t=(0,a.jsxs)("span",{className:"inline-flex items-center",style:{marginLeft:10},children:[n.slice(0,f).map(((e,t)=>function(e){let{i:t,author:l}=e;return l.approved?s?r({i:t,author:l}):(0,a.jsx)(m.Gz,{owner:l,buttonless:!0,children:r({i:t,author:l})}):s?i({i:t,authors:n}):(0,a.jsx)(m.Gz,{owner:l,buttonless:!0,children:i({i:t,authors:n})})}({author:e,i:t}))),(0,a.jsxs)("span",{className:"nowrap",children:[n.length," authors"]})]})}return t},j=e=>{let{author:t,showDescription:n=!1}=e;const s=(0,x.GN)(t);return(0,a.jsxs)("div",{className:"flex items-center-ns items-start bt b--silver pa2 f6 lh-f6 justify-between flex-row-ns flex-column-reverse",children:[(0,a.jsxs)("div",{className:"flex items-center overflow-hidden",children:[(0,a.jsx)(m.Gz,{owner:t,buttonless:!0,children:(0,a.jsx)(l.q,{user:t,size:46,style:{verticalAlign:"text-bottom"},link:!0,className:"w1 h1 mr2 br-100"})}),(0,a.jsxs)("div",{className:"flex flex-auto flex-column",children:[(0,a.jsx)(h.Z,{href:s,children:(0,a.jsx)("a",{className:"fw6 black hover-blue no-underline truncate",children:(0,a.jsx)(m.Gz,{owner:t,buttonless:!0,children:(0,x.RX)(t)})})}),t.approved?(0,a.jsx)("div",{className:"line-clamp-2 fw4 f6 lh-f7 mid-gray",children:t.bio}):(0,a.jsxs)("div",{className:"tr yellow fw5 flex items-center justify-start tooltipped tooltipped-n","aria-label":"".concat((0,x.RX)(t)," has not accepted the author request"),children:[(0,a.jsx)(d.Z,{className:"mr1"})," Invited"]})]})]}),n&&(0,a.jsx)("div",{className:"line-clamp-2 fw4 f6 lh-f7 mid-gray tr-ns ml2-ns pb2 pb0-ns w4-ns",style:{flexGrow:0,flexShrink:0},children:t.description})]})},w=e=>{const{notebook:t,dispatch:n,currentUser:s}=e,{authors:r}=t,{open:l,openMenu:d,closeMenu:h,triggerRef:m,uiRef:x}=(0,b.O)(),f=r.some((e=>e.description)),v=null!==s&&r.some((e=>{let{id:t,approved:n}=e;return t===s.id&&!n})),w=null!==s&&!(0,p.mG)(t)&&r.some((e=>{let{id:t,approved:n}=e;return t===s.id&&n})),y=(0,p.mG)(t)&&!v;return(0,i.useEffect)((()=>{v&&d()}),[v,d]),(0,a.jsxs)("div",{className:"relative inline-flex items-center",children:[(0,a.jsxs)("button",{"aria-label":l?"":"See who wrote this notebook",onClick:d,ref:m,className:"flex flex-wrap items-center pa0 bn bg-transparent pointer hover-blue",children:[(0,a.jsx)("span",{className:"mr1",children:"By "}),(0,a.jsx)(g,{authors:r,isOpen:l})]}),l?(0,a.jsxs)(o.J,{ref:x,extraStyle:{right:"auto",left:0,width:"".concat(22+(f?4:0),"rem"),marginTop:"0.5rem",maxWidth:"calc(100vw - 2 * var( --spacing-large ))"},children:[(0,a.jsxs)("div",{className:"flex pa2 f7 fw5 items-center justify-between",children:[r.length," author",r.length>1?"s":""]}),(0,a.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:500},children:r.map(((e,t)=>(0,a.jsx)(j,{author:e,showDescription:f,isOpen:l},t)))}),(y||w||v)&&(0,a.jsxs)("div",{className:"flex flex-row-reverse justify-between items-center bt b--silver pa2 bg-near-white",children:[y&&(0,a.jsx)(c.sn,{text:"Edit",icon:u.Z,onClick:()=>{h(),n({type:"showModal",modal:"authors"})}}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(c.sn,{text:"Deny",onClick:()=>n({type:"setAuthorAcceptance",currentUser:s,value:!1})}),(0,a.jsx)(c.sn,{text:"Accept",onClick:()=>n({type:"setAuthorAcceptance",currentUser:s,value:!0})})]}),(0,a.jsx)("div",{children:"Join author list?"})]}),w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.sn,{text:"Revoke",onClick:()=>n({type:"setAuthorAcceptance",currentUser:s,value:!1})}),(0,a.jsx)("div",{children:"Leave author list?"})]})]})]}):null]})};w.applies=e=>{let{notebook:{authors:t,owner:n}}=e;return t.length>1||1===t.length&&t[0].id!==n.id}},49282:function(e,t,n){n.d(t,{_i:function(){return x}});var a=n(41799),s=n(69396),r=n(99534),i=n(85893),l=n(60357),o=n.n(l),c=n(94184),d=n.n(c),u=(n(67294),n(14500)),h=n(42568),m=n(11210);const b=e=>{var{as:t="button",onSelect:n=(()=>{}),tooltip:l,buttonType:c="default"}=e,u=(0,r.Z)(e,["as","onSelect","tooltip","buttonType"]);const h=t;return(0,i.jsxs)(h,(0,s.Z)((0,a.Z)({},u,"button"===t?{onClick:()=>n("notebookHeaderPromotedAction")}:{}),{"aria-label":l,className:"jsx-f5b217ab23358456 "+(d()("bg-transparent pointer ba br2 f6 fw6 inline-flex items-center action-button","action-button--".concat(c),l?" tooltipped tooltipped-sw":"")||""),children:[u.children,(0,i.jsx)(o(),{id:"f5b217ab23358456",children:".action-button--default.jsx-f5b217ab23358456{border-color:var(--light-gray);color:var(--dark-gray)}.action-button--banner.jsx-f5b217ab23358456{border-color:transparent;color:var(--white)}.action-button--highlight.jsx-f5b217ab23358456{border-color:var(--light-gray);color:var(--blue)}.action-button--list.jsx-f5b217ab23358456{border-color:transparent;color:var(--moon-gray)}.action-button.jsx-f5b217ab23358456{margin-left:5px;padding:.875rem;-webkit-transition:border-color 250ms ease;-moz-transition:border-color 250ms ease;-o-transition:border-color 250ms ease;transition:border-color 250ms ease}.action-button--default.jsx-f5b217ab23358456:hover{color:var(--black);background-color:var(--near-white)}.action-button--banner.jsx-f5b217ab23358456:hover{color:var(--white);background-color:rgba(0,0,0,.1)}.action-button--highlight.jsx-f5b217ab23358456:hover{color:var(--white);background-color:var(--blue)}.action-button--list.jsx-f5b217ab23358456:hover{color:var(--dark-gray)}.action-button.jsx-f5b217ab23358456:hover{border-color:transparent}.action-button[disabled].jsx-f5b217ab23358456{display:none}.stuck .action-button.jsx-f5b217ab23358456{border-color:transparent}"})]}))};function p(e){var t;const n=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return n.startsWith("divider_")?e.length&&e[e.length-1].type!==h.R?e.concat((0,i.jsx)(h.R,{},n)):e:r?"children"in r?"href"in r?e.concat((0,i.jsx)(h.Uk,(0,s.Z)((0,a.Z)({},r),{className:"nowrap"}),n)):"actions"in r?e:e.concat((0,i.jsx)(h.sN,(0,s.Z)((0,a.Z)({},r),{onSelect:()=>"function"===typeof r.onSelect&&r.onSelect("notebookMenu"),className:"nowrap"}),n)):Object.values(r).every((e=>null===e))?e:e.concat((0,i.jsxs)(h.rS,{children:[(0,i.jsx)(i.Fragment,{children:n}),(0,i.jsx)(i.Fragment,{children:p(r)})]},n)):e}),[]);return(null===(t=n[n.length-1])||void 0===t?void 0:t.type)===h.R&&n.pop(),n}const x=e=>{let{actions:t,buttonType:n,buttonClassname:a=""}=e;return(0,i.jsxs)(h.v2,{children:[(0,i.jsx)(b,{as:h.j2,buttonType:n,children:(0,i.jsx)(u.Z,{className:d()("h1 w1",a),"aria-label":"Notebook actions"})}),(0,i.jsx)(h.qy,{style:{minWidth:"12rem"},position:h.Ly.bottomLeft,children:p(t)})]})};t.ZP=e=>{var{notebook:t,currentUser:n,dispatch:l,menuActionList:o,promotedActions:c,promotableActions:d}=e,u=(0,r.Z)(e,["notebook","currentUser","dispatch","menuActionList","promotedActions","promotableActions"]);const f={notebook:t,currentUser:n,dispatch:l};return(0,i.jsxs)("div",(0,s.Z)((0,a.Z)({},u),{children:[(0,i.jsx)(m.f,{notebook:t,dispatch:l}),c.map((e=>{let{name:t,highlight:n}=e;if(d[t]){const e=d[t](f);if(e)return"actions"in e?(0,i.jsxs)(h.v2,{children:[(0,i.jsx)(b,(0,a.Z)({as:h.j2,buttonType:n?"highlight":"default"},e)),(0,i.jsx)(h.qy,{children:p(e.actions)})]},t):(0,i.jsx)(b,(0,s.Z)((0,a.Z)({"data-cy":"promoted-action"},e),{buttonType:n?"highlight":"default"}),t)}return null})),(0,i.jsx)(x,{actions:o})]}))}},11210:function(e,t,n){n.d(t,{f:function(){return g},C:function(){return v}});var a=n(85893),s=n(80026),r=n(67294),i=n(27919),l=n(22027),o=n(41799),c=n(69396);var d=e=>(0,a.jsxs)("svg",(0,c.Z)((0,o.Z)({viewBox:"0 0 16 16",width:"16",height:"16"},e),{children:[(0,a.jsx)("path",{d:"M5.56769 5.5C4.06777 5.5 4.00146 7.78125 4.00146 7.78125C4.00146 7.78125 1.56769 8 2.06769 10.5C2.36769 12 3.56769 12 4.06777 12H12.0677",stroke:"currentColor",strokeWidth:"1.6"}),(0,a.jsx)("path",{d:"M3 3L13.5 13.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M7.00146 3.83196C7.92807 2.85759 8.93071 2.87804 9.66008 3.19372C10.3253 3.48165 10.8981 4.03315 11.1576 4.70994C11.4517 5.47666 11.2732 6.39154 10.5309 7.17217C13.0015 6 14.5 9 13.0015 10",stroke:"currentColor",strokeWidth:"1.6"})]})),u=n(84193),h=n(74080),m=n(66421),b=n(3142);const p=1e3,x=3e4;function f(e){const t=(0,r.useRef)();return e.autosave&&(0,m.mG)(e)&&(void 0===t.current?(0,b.oI)(e)&&(t.current=new Date):(0,b.oI)(e)||(t.current=void 0)),t.current?Date.now()-+t.current:0}function v(e){if(f(e)>=p)return!0;const{clientState:t}=e;return"idle"!==t&&"closed"!==t&&"saving"!==t}const g=e=>{let{notebook:t,dispatch:n,savingDelay1:i=p,savingDelay2:l=x}=e;const{autosave:o,clientState:c}=t,m=!o&&(0,h.HQ)(t),b=f(t),v=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{b>=l&&!v.current?(v.current=!0,n({type:"showErrorToast",message:(0,a.jsxs)(a.Fragment,{children:["Unable to save changes.",(0,a.jsx)(u.Z,{href:"/@observablehq/how-saving-works#connectivity",children:(0,a.jsx)("a",{className:"underline pointer ml1",children:"Learn more"})})]}),key:"clientStatus"}),(0,s.uT)("Unable to save changes","error")):0===b&&(v.current&&n({type:"removeToast",key:"clientStatus"}),v.current=!1)})),(0,a.jsx)("div",{className:"inline-flex",style:{marginLeft:5,padding:"0.875rem"},children:b>=l?(0,a.jsx)(w,{save:!0}):b>=i?(0,a.jsx)(j,{save:!0}):"closed"===c?m?(0,a.jsx)("div",{style:{display:"grid",placeItems:"center"},title:"Autosave is off",children:(0,a.jsx)(d,{className:"dark-gray"})}):(0,a.jsx)("div",{style:{width:16,height:16,visibility:"hidden"}}):"idle"===c?(0,a.jsx)("div",{style:{width:16,height:16,visibility:"hidden"}}):"saving"===c?(0,a.jsx)(j,{save:!0,faint:!0}):"opening"===c||"greeting"===c||"loading"===c||"reopening"===c?(0,a.jsx)(j,{}):"aborted"===c?(0,a.jsx)(w,{}):null})},j=e=>{let{save:t,faint:n}=e;return(0,a.jsx)("div",{"data-cy":"client-loading",style:{display:"grid",placeItems:"center"},title:t?"Saving\u2026":"Connecting\u2026",children:(0,a.jsx)(l.Z,{className:n?"light-gray":"dark-gray"})})},w=e=>{let{save:t}=e;return(0,a.jsx)("div",{className:"flex tc white bg-red bn br-100 items-center",title:t?"Unable to save changes.":"Unable to connect to server.",children:(0,a.jsx)(i.Z,{className:"w1 h1"})})}},38106:function(e,t,n){n.d(t,{O:function(){return l}});var a=n(41799),s=n(69396);const r=[{terms:["d3"],results:[{title:"D3 examples gallery",description:"Get inspired by these examples of visualizations built using the D3 library.",url:"https://observablehq.com/@d3/gallery",thumbnail:"1ef827a19d556921d616d53f79fdd6f9eb4d030acb243d70559be3993e4a7292"},{title:"D3 chart components",description:"Import re-useable code from this collection of components to get a jumpstart on building visualizations with D3.",url:"https://observablehq.com/@d3/charts?collection=@d3/charts",thumbnail:"8e02be2cb0444f15fc8b0b621839f74242b5a528df2c291ffa4f72b6f3abd875"},{title:"Learn D3 tutorial",description:"Take your first steps with D3 using this collection of tutorial notebooks.",url:"https://observablehq.com/@d3/learn-d3?collection=@d3/learn-d3",thumbnail:"6782987c12640214fe1eedf5693751984e9dde1e277f7450436345a307d51067"},{title:"D3 API reference on GitHub",description:"Dive deep into the API documentation for the D3 library.",url:"https://github.com/d3/d3/blob/main/API.md",thumbnail:"e043416c4c8cb76bc25d86c4689ca07c19dda05a91c0431b8cf04962e797e927",external:!0}]},{terms:["map","maps"],results:[{title:"Mapping with Observable Plot",description:"Learn about drawing maps in Observable Plot using different marks and projections.",url:"https://observablehq.com/@observablehq/build-your-first-map-with-observable-plot?collection=@observablehq/tutorial",thumbnail:"02dc8bc250505e431f0ba894d600cb034bcb5fc0be4ee55252712916a19d444f"},{title:"Build your first map",description:"This tutorial walks through the process of building a bubble map of United States power plant capacities.",url:"https://observablehq.com/@observablehq/build-your-first-map-with-observable-plot?collection=@observablehq/tutorial",thumbnail:"b68e36d1adcfebca1c13bf04e2d06c1a6ea2519860b1e02d1d0e6321c97a294d"},{title:"Plot geo",description:"The Plot geo mark draws geographic features and other polygonal geometry, often as maps.",url:"https://observablehq.com/@observablehq/plot-geo?collection=@observablehq/plot",thumbnail:"8f82539b36f5f734374bdf7ce911223054432a29f63300ef9d137c934bec5e5d"},{title:"d3-geo collection",description:"Explore a wide variety of examples for creating geographic data visualizations.",url:"https://observablehq.com/@d3/gallery",thumbnail:"0b71820de41fb7a5f7844f3610c40f5dae75153f67129057070a6ac3e1ac9749"},{title:"Hello, Leaflet",description:"Get started with the popular open-source Leaflet library for making interactive web maps.",url:"https://observablehq.com/@observablehq/hello-leaflet",thumbnail:"86d7c86cb381031dc112ab874d742a6f48038c6d35fe9965c48d8d4656bca9b2"},{title:"Hello, Mapbox",description:"Get started with the powerful MapBox-GL library for making fast interactive web maps.",url:"https://observablehq.com/@observablehq/hello-mapbox-gl?collection=@observablehq/hello",thumbnail:"b32dba5c2da06aa16a84aed95aeeb1c9186aa88f77c2ee804fa58567535574e0"},{title:"Array.map docs on MDN",description:"The JavaScript Array.map function is commonly used when working with data in the browser.",url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map",thumbnail:"360fa8ccc5c2e26748a64488dc2bf535f2a101cf31ba5a07433df071cb4d25e3",external:!0}]},{terms:["tree","trees"],results:[{title:"D3 Tree component",description:"Create a tree diagram quickly and easily using D3's Tree component.",url:"https://observablehq.com/@d3/tree?collection=@d3/charts",thumbnail:"a370f746b2ca1dd73fdf59e19418bc1f1dc56544ea764f2d905d871a3646651a"},{title:"Collapsible tree example",description:"See how you can create an interactive tree diagram whose nodes can be collapsed and expanded.",url:"https://observablehq.com/@d3/collapsible-tree",thumbnail:"d97ae774d210ccc8d26096ff0ba2caa67d60f3d3cabc28ef9453a76b6a6201c4"},{title:"Indented tree example",description:"Learn how to show a hierarchy with attributes (such as a file tree) from this example.",url:"https://observablehq.com/@d3/indented-tree",thumbnail:"9fe3af4592b011fa2d59a464255925aeb3cedd6c899de1a597b22d0c21b671e5"},{title:"d3-hierarchy collection",description:"Explore beautiful examples of hierarchy visualizations: node-link diagrams, treemaps, icicle plots, and more!",url:"https://observablehq.com/collection/@d3/d3-hierarchy",thumbnail:"8370acd91d7dc815d044b572bd956d72ebc10606c884688633cb5a5c441a6f33"}]},{terms:["bar","bar chart","barchart"],results:[{title:"Plot: Bar",description:"Learn how to create bar charts for ordinal data using Observable Plot.",url:"https://observablehq.com/@observablehq/plot-bar",thumbnail:"3d378538d99293ba7b7285b0e70fe18009337de7dd829c75dbd6d693517432ca"},{title:"Plot: Rect",description:"Learn how to plot rectangles with Observable Plot.",url:"https://observablehq.com/@observablehq/plot-rect",thumbnail:"e4bf03d155af21a24533562d7fa68d3de7b69039f83294594bd3db0f7e5fa934"},{title:"D3 BarChart component",description:"Create a bar chart using D3 Charts.",url:"https://observablehq.com/@d3/bar-chart?collection=@d3/charts",thumbnail:"9bcd1ad630deaaf0ee00d9460dea1eae56d024a8ed6ab0cee8eec9d13505278b"}]},{terms:["graph","graphs"],results:[{title:"D3 ForceGraph component",description:"Create a force-directed graph using D3 Charts.",url:"https://observablehq.com/@d3/force-directed-graph?collection=@d3/charts",thumbnail:"7946b7b7d21d9ee10f9d07974e0a31b2c593bf848f5e72ed0a4d8fedd2cf1eda"},{title:"GraphViz",description:"Learn how to use Graphviz, a tool for drawing graphs in the DOT language.",url:"https://observablehq.com/@observablehq/dot",thumbnail:"557949e9175dc43701f9586ad5a22325e9c27462603a09638ec1bf5686dd74ca"},{title:"Mermaid",description:"Learn how to use Mermaid, a tool for drawing graphs in Markdown-inspired text.",url:"https://observablehq.com/@observablehq/mermaid",thumbnail:"c7c3d63d31d1ed419ed9c8e56f463a6403fe261a7779ef1963996dce5ce7c487"},{title:"Introduction to Plot",description:"Quickly visualize tabular data with Observable's open-source plotting library.",url:"https://observablehq.com/@observablehq/plot?collection=@observablehq/plot",thumbnail:"64f414fef8a91248865f5759641b0cf537bc87c0aaf57dc368ffe673013eccaa"}]},{terms:["vegalite","vega","vega-lite"],results:[{title:"Introduction to Vega-Lite",description:"Learn the basics of Vega-Lite: loading data, marks and encodings, aggregation, creating visualizations, etc.",url:"https://observablehq.com/@uwdata/introduction-to-vega-lite",thumbnail:"f4c0623fa0ac9a8d9f5783a8eeecb1c2868440a83398a8ca6be0b5fba8989210"},{title:"Vega-Lite API examples",description:"Explore visualization examples, including maps, line charts, parallel coordinates, donut charts, scatterplots, and more.",url:"https://observablehq.com/collection/@vega/vega-lite-api",thumbnail:"a82509c12c3f68973737748d84527f4cd223c4a9896a6f6e8f277f46a91b6a4b"},{title:"Charting with Vega-Lite",description:"A quick introduction to creating Vega-Lite charts on Observable, with an overview of the most important functions.",url:"https://observablehq.com/@observablehq/vega-lite",thumbnail:"820c1ce779bde2347e128aab81a550e16f95126993729412583ac517dd0c2c1f"},{title:"Vega-Lite Chart Types",description:"A gallery of Vega-Lite charts with many examples and code snippets for reuse.",url:"https://observablehq.com/@observablehq/vega-lite-chart-types",thumbnail:"952f69217f91a85d6f86d267c77b1bdb8bee4ddb02814b10878593615a3c6380"},{title:"Plot & Vega-Lite",description:"How does Plot compare to Vega-Lite? This notebooks answers this question and presents a number of side-by-side examples.",url:"https://observablehq.com/@observablehq/plot-vega-lite",thumbnail:"72eb5ca0661f6764e5fe7787551f8fa6d296472cfe67529717972051fc4f37d5"}]},{terms:["line","linechart","line chart"],results:[{title:"Plot: Line",description:"Use the line mark to create line charts of time series, connected scatterplots, and more!",url:"https://observablehq.com/@observablehq/plot-line",thumbnail:"42bfda8e0c228d0dbc5e661296742a4ec39baf9f9c60c280be85d237e0cd73fc"},{title:"D3 LineChart component",description:"Create time series line charts quickly and easily with D3's LineChart component.",url:"https://observablehq.com/@d3/line-chart?collection=@d3/charts",thumbnail:"52e0b19deab0300aa648f56848dc2d05ae17aa2337309df6ef2b4fff120753a5"}]},{terms:["input","inputs"],results:[{title:"Observable Inputs",description:"Create interactive input elements like buttons, sliders, dropdowns, tables, etc., quickly and easily.",url:"https://observablehq.com/@observablehq/inputs?collection=@observablehq/inputs",thumbnail:"2ac6f275bf8c2c8d920f672e948c122f247e035463378f21c85f2edad461fbf1"},{title:"Introduction to Views",description:"An overview of Views, a user interface element that directly controls a value in the notebook.",url:"https://observablehq.com/@observablehq/introduction-to-views",thumbnail:"57a391168263198f11e93345c4c5ac58fdbd6b9ebec5e5f310d195ade7986afb"}]},{terms:["tooltip","tooltips"],results:[{title:"D3 Line Chart with Tooltip",description:"Add an interactive tooltip to a line chart using D3's LineChart component.",url:"https://observablehq.com/@d3/line-with-tooltip?collection=@d3/charts",thumbnail:"779e3f7bee0cdceeb51080085fcb48ce038b74c00491b03348446b08e1bad045"},{title:"Plot Tooltip component",description:"Learn how you can easily add tooltips to Plot charts using the title field.",url:"https://observablehq.com/@mkfreeman/plot-tooltip",thumbnail:"de7e4276e777465b25562d23a0f10a2a12d5af35665e0a3eb4811b743ba36f96"}]},{terms:["force","force-directed","force directed"],results:[{title:"D3 Force Graph component",description:"Create a force-directed graph using D3 Charts.",url:"https://observablehq.com/@d3/force-directed-graph?collection=@d3/charts",thumbnail:"7946b7b7d21d9ee10f9d07974e0a31b2c593bf848f5e72ed0a4d8fedd2cf1eda"}]},{terms:["gantt"],results:[{title:"Plot: Bar",description:"Build a gantt chart in Plot using the Bar Mark.",url:"https://observablehq.com/@observablehq/plot-bar?collection=@observablehq/plot",thumbnail:"3d378538d99293ba7b7285b0e70fe18009337de7dd829c75dbd6d693517432ca"},{title:"Mermaid",description:"Use Mermaid, available in Observable's standard library, to render a Gantt chart.",url:"https://observablehq.com/@observablehq/mermaid",thumbnail:"c7c3d63d31d1ed419ed9c8e56f463a6403fe261a7779ef1963996dce5ce7c487"}]},{terms:["plot"],results:[{title:"Observable Plot",description:"The JavaScript library for exploratory data visualization. Create expressive charts with concise code",url:"https://observablehq.com/plot/",thumbnail:"64f414fef8a91248865f5759641b0cf537bc87c0aaf57dc368ffe673013eccaa"},{title:"Introduction to Observable Plot",description:"Quickly visualize tabular data with Observable's open-source plotting library.",url:"https://observablehq.com/plot/features/plots",thumbnail:"3d378538d99293ba7b7285b0e70fe18009337de7dd829c75dbd6d693517432ca"}]},{terms:["sankey"],results:[{title:"D3 Sankey component",description:"Create a Sankey diagram using D3 Charts.",url:"https://observablehq.com/@d3/sankey",thumbnail:"e917a00e5d3d10fa2d6ba0af84645bf5026d94a3afd4c5c199a0d2fb2327066c"}]},{terms:["data","database","databases"],results:[{title:"Introduction to Data",description:"How to get data into Observable for analysis and visualization.",url:"https://observablehq.com/@observablehq/introduction-to-data",thumbnail:"447d9e47a921a37ee4f7ec90af241b674fc7f26d1195fe225af36d02fe0f9036"},{title:"Connecting to databases",description:"How to get data from your databases into Observable.",url:"https://observablehq.com/@observablehq/databases",thumbnail:"c5380fc4b102228421e7398522352188716a34faa7c0a02376388ed75bf344f2"},{title:"Data table cell",description:"View your data in an interactive table.",url:"https://observablehq.com/@observablehq/data-table-cell?collection=@observablehq/sql",thumbnail:"1403d21aeb8bac287fd786358b70e115b014d154b5e529ef1fd2707bf6fa3407"}]},{terms:["require","module"],results:[{title:"Introduction to require",description:"Use thousands of open-source JavaScript modules in your notebooks.",url:"https://observablehq.com/@observablehq/require",thumbnail:"2a14d25e63725591b24a7ca1f8e84f762ffb96f5b26f8e905f8bb0ccfa7a5e6a"},{title:"How to require stubborn modules",description:"Learn about the different ways to load modules.",url:"https://observablehq.com/@observablehq/how-to-require-stubborn-modules",thumbnail:"f2704dba63acece7d4e42b21bee696f9c475eb8eb5e5456a65a30911b8191cb0"},{title:"Module require debugger",description:"Try different methods to load a module.",url:"https://observablehq.com/@observablehq/module-require-debugger",thumbnail:"ab1c8d6f816523ec2858765d8c3eedf11de6fc35c269bd5a3db8c49784195174"}]},{terms:["zip"],results:[{title:"FileAttachment.zip()",description:"Learn how to use .zip files in your notebooks.",url:"https://observablehq.com/@observablehq/zip",thumbnail:"96ca1deac49b0451b9de5bb739d9e7a08e9b65fe963a0742b3aa343bc0fc69de"}]},{terms:["sheets","sheet","spreadsheet","spreadsheets","excel","xls","xlsx"],results:[{title:"FileAttachment.xlsx()",description:"Accessing .xlsx files in your notebooks.",url:"https://observablehq.com/@observablehq/xlsx?collection=@observablehq/getting-data-in-and-out",thumbnail:"f18c60866289d1d2c3495c333040d019b2314ae9e13dbf4871eeb110d5e7f983"},{title:"Cloud files",description:"Accessing your private cloud files.",url:"https://observablehq.com/@observablehq/cloud-files?collection=@observablehq/getting-data-in-and-out",thumbnail:"a70f4e41cbb0715b04dfbe26fbc158b83583c92e458505035915b384b162303d"},{title:"File attachments",description:"Uploading your files to Observable.",url:"https://observablehq.com/@observablehq/file-attachments?collection=@observablehq/getting-data-in-and-out",thumbnail:"257a9e3dd9ce74a6caf75f708a472a1f0da069060501056acd29fc0b9587f58d"}]},{terms:["files","file","attachment","attachments","file attachment","file attachments","cloud"],results:[{title:"File attachments",description:"Uploading your files to Observable.",url:"https://observablehq.com/@observablehq/file-attachments?collection=@observablehq/getting-data-in-and-out",thumbnail:"257a9e3dd9ce74a6caf75f708a472a1f0da069060501056acd29fc0b9587f58d"},{title:"Cloud files",description:"Accessing your private cloud files.",url:"https://observablehq.com/@observablehq/cloud-files?collection=@observablehq/getting-data-in-and-out",thumbnail:"a70f4e41cbb0715b04dfbe26fbc158b83583c92e458505035915b384b162303d"}]},{terms:["javascript"],results:[{title:"Learn just enough JavaScript",description:"This notebook will walk you through some of the key introductory concepts in JavaScript.",url:"https://observablehq.com/@observablehq/learn-javascript-introduction?collection=@observablehq/learning-javascript-for-data-scientists",thumbnail:"f20856d23c7b6bbf5984dc58c2f4adccc6068c30f3cb81f71792c26471a4a400"},{title:"Observable JavaScript",description:"Learn the key differences between plain JavaScript and Observable JavaScript.",url:"https://observablehq.com/@observablehq/observable-javascript",thumbnail:"cb87f89169919c3d42d0f0e5b890ab37f4213f71aab98304c7e8697aa9e84a18"}]},{terms:["sql"],results:[{title:"Working with SQL",description:"A number of ways to leverage SQL in the browser for faster analysis.",url:"https://observablehq.com/@observablehq/working-with-sql?collection=@observablehq/sql",thumbnail:"2288196232a2167891e8b8b2e089ef61d4537e8c9febc02b0578f695015c174a"},{title:"SQL cell",description:"Explore your databasesby writing SQL directly in a cell and exploring the results in a table.",url:"https://observablehq.com/@observablehq/sql-cell?collection=@observablehq/sql",thumbnail:"f28780d80dcce19dd1d69be4552aa91cb7af079d629498400136bd08b4a82c5b"},{title:"Data table cell",description:"View your data in an interactive table.",url:"https://observablehq.com/@observablehq/data-table-cell?collection=@observablehq/sql",thumbnail:"1403d21aeb8bac287fd786358b70e115b014d154b5e529ef1fd2707bf6fa3407"},{title:"SQL mystery game",description:"Try solving the mystery game with our in-notebook SQL features.",url:"https://observablehq.com/@observablehq/sql-mystery-game-sql-tutorial?collection=@observablehq/sql-mystery-game",thumbnail:"47fd1bd7fcf40bdd86c0f557ebcfa95ea6d2000c55a4a06546830d4003c9eb62"}]},{terms:["python","pyton","jupyter","jupiter"],results:[{title:"Observable for Jupyter users",description:"This tutorial shows Jupyter users how to make the most of Observable.",url:"https://observablehq.com/@observablehq/observable-for-jupyter-users?collection=@observablehq/observable-for-jupyter-users",thumbnail:"1ed18181910450f65d3888dd6b59f4ccabe336ac66ac923a21d42a8a4dc4df13"},{title:"Observable for Python users",description:"This notebook will help you get comfortable with the JavaScript equivalents of the data manipulation tools you're comfortable with in Python.",url:"https://observablehq.com/@observablehq/learn-just-enough-javascript-python-users?collection=@observablehq/observable-for-python-users",thumbnail:"d4a8b5dbfad00f9f94da1fa1df7c89e87762001f8041a77586cda63dd2283564"}]},{terms:["matplot","matplotlib"],results:[{title:"Plot for Matplotlib users",description:"If you're used to working in Python and creating charts using Matplotlib, this notebook will walk you through related concepts in Observable Plot.",url:"https://observablehq.com/@observablehq/plot-overview-for-matplotlib-users?collection=@observablehq/plot-for-matplotlib-users",thumbnail:"43c72d40502395fbd3822618b31ebb097c49c575c636ef9ed5967524e8e392b1"}]},{terms:["safe","safe mode"],results:[{title:"Safe mode",description:"Fix issues that prevent the notebook from running properly.",url:"https://observablehq.com/@observablehq/safe-mode?collection=@observablehq/visualizing-debugging-notebooks",thumbnail:"1320484af73f97b03ae60ab1b86154d9045c118a155d8fb05dfe749a620aaf86"}]},{terms:["markdown","md","mark down"],results:[{title:"Markdown",description:"An introduction to formatting Markdown text in Observable",url:"https://observablehq.com/@observablehq/markdown-quick-reference?collection=@observablehq/notebook-fundamentals",thumbnail:"fab06ac86e17952f7bcfca3cf066a9f4dda0b4eb2f1f553d7b38e1808835492f"}]}].map((e=>{let{terms:t,results:n}=e;return{terms:t,results:n.map(((e,n)=>(0,s.Z)((0,a.Z)({},e),{type:"curated_result",id:"curated-".concat(t[0],"-").concat(n)})))}})),i=new Map;for(const{terms:o,results:c}of r)for(const e of o)i.set(e,c);function l(e){return i.get(e.trim().toLowerCase().replace(/[*]/gi,""))||[]}},73046:function(e,t,n){n.d(t,{t:function(){return i}});var a=n(85893),s=n(33090),r=n(98153);const i=e=>{let{selected:t,setSelected:n,tier:s,userType:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{interval:"year",selected:t,setSelected:n,tier:s,label:"Pay yearly",userType:r}),(0,a.jsx)(l,{interval:"month",selected:t,setSelected:n,tier:s,label:"Pay monthly",userType:r}),(0,a.jsx)("div",{className:"gray f7 mt3",children:"All dollar amounts are in USD."})]})},l=e=>{let{interval:t,selected:n,setSelected:i,tier:l,label:o,userType:c}=e;const d="year"===t?1-(0,r.V_)(l,"year",c)/(0,r.V_)(l,"month",c):null;return(0,a.jsxs)("button",{className:"flex b--none bg-inherit pointer flex items-center ph0",onClick:()=>i(t),children:[(0,a.jsx)(s.E,{className:"pv1",checked:n===t,readOnly:!0}),(0,a.jsxs)("div",{className:"dib flex items-center",children:[o,!!d&&(0,a.jsxs)("span",{className:"bg-silver pa1 dark-gray ml1 f7 br2",children:[(100*d).toFixed(0),"% discount"]})]})]})}},51372:function(e,t,n){n.d(t,{Y:function(){return w}});var a=n(85893),s=n(60357),r=n.n(s),i=n(765),l=n(94184),o=n.n(l),c=n(33090),d=n(36815),u=n(49516),h=n(41799),m=n(69396);n(67294);var b=e=>(0,a.jsxs)("svg",(0,m.Z)((0,h.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,a.jsx)("rect",{x:"2",y:"3",width:"12",height:"10",rx:"0.5",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M9.53033 7.46967L13.5303 11.4697L12.4697 12.5303L8.46967 8.53033L9.53033 7.46967ZM2.46967 11.4697L6.46967 7.46967L7.53033 8.53033L3.53033 12.5303L2.46967 11.4697Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8 9L7.29289 9.70711C7.68342 10.0976 8.31658 10.0976 8.70711 9.70711L8 9ZM2.29289 4.70711L7.29289 9.70711L8.70711 8.29289L3.70711 3.29289L2.29289 4.70711ZM8.70711 9.70711L13.7071 4.70711L12.2929 3.29289L7.29289 8.29289L8.70711 9.70711Z",fill:"currentColor"})]})),p=n(84193),x=n(12447),f=n(27193),v=n(66421),g=n(98153);const j=e=>{let{tier:t,interval:n,selected:s,setSelected:l,previous:h,footnote:m,longDescription:x,featureList:v,footnotePosition:j="outside",userType:w,showTrial:y,canDelayBilling:k,label:N=(0,d._n)(t)}=e;const C="team"===w,S=(0,f.XU)((0,g.V_)(t,n,w)),L=(0,i.M)(),q=C?d.zJ:d.VM;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>l(t),style:s===t?{boxShadow:"0px 0px 0px 3px var(--faint-blue)"}:{},role:"radio","aria-checked":s===t,tabIndex:0,disabled:"pro_enterprise"===t,onKeyPress:()=>l(t),className:"jsx-923ea5dea019d354 "+(o()("bg-white pa3 ba br3 pointer flex items-start",s===t?"b--blue":"b--silver")||""),children:["pro_enterprise"===t?(0,a.jsx)(b,{className:"mr2"}):(0,a.jsx)(c.E,{"aria-labelledby":L,checked:s===t,readOnly:!0,tabIndex:-1}),(0,a.jsxs)("div",{style:{gap:"8px"},className:"jsx-923ea5dea019d354 tl flex flex-column h-100 w-100",children:[(0,a.jsxs)("label",{id:L,"data-cy":"tier-label",className:"jsx-923ea5dea019d354 f5 fw5 flex",children:[(0,a.jsx)("span",{className:"jsx-923ea5dea019d354 flex-auto",children:N}),h&&h===t&&(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 bg-faint-blue dark-blue br2 pa1 f7 lh-solid",children:y?"Trial active":"Current plan"})]}),x?(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 f6 fw4 lh-copy",children:q[t].description}):(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 f6 fw4 lh-copy flex-auto",children:d.qJ[t]}),(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 flex-auto",children:v&&q[t].features.map(((e,t)=>(0,a.jsxs)("div",{className:"jsx-923ea5dea019d354 pt2 inline-flex w-100",children:[(0,a.jsx)(u.Z,{className:"flex-shrink-0"}),(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 ml2",children:e})]},t)))}),(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 flex items-center mt2 pt3 bt b--silver",children:"pro_enterprise"===t?(0,a.jsxs)("div",{className:"jsx-923ea5dea019d354",children:[(0,a.jsx)("div",{className:"jsx-923ea5dea019d354",children:"Email us "}),(0,a.jsx)(p.Z,{href:"mailto:sales@observablehq.com?subject=Enterprise%20subscriptions",children:(0,a.jsx)("a",{className:"jsx-923ea5dea019d354 blue",children:"sales@observablehq.com"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 f3 mr2 serif",children:S}),C?" per editor":""," per month",k?", 30-day free trial":"",x&&"pro"===t&&"individual"===w?(0,a.jsx)("strong",{className:"jsx-923ea5dea019d354",children:", 30 days free"}):"",m&&("outside"===j?(0,a.jsx)("span",{className:"jsx-923ea5dea019d354 mid-gray",children:"*"}):(0,a.jsxs)(a.Fragment,{children:[", ",m]}))]})})]})]}),(0,a.jsx)("div",{className:"jsx-923ea5dea019d354 tr mid-gray",children:m&&"outside"===j&&(0,a.jsxs)(a.Fragment,{children:["* ",m]})}),(0,a.jsx)(r(),{id:"923ea5dea019d354",children:"button.jsx-923ea5dea019d354:focus{-webkit-box-shadow:0px 0px 0px 3px var(--black-10);-moz-box-shadow:0px 0px 0px 3px var(--black-10);box-shadow:0px 0px 0px 3px var(--black-10)}"})]})},w=e=>{let t,{interval:n,selected:s,setSelected:i,direction:l="auto",previous:o,user:c,userType:d,longDescription:u,featureList:h,showTrial:m}=e;t=c?c.type:d;const b="team"===t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:r().dynamic([["9596bd0b0f6f130d",[x.pp,b?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+(("auto"===l?"price-grid":"price-grid-wide")||""),children:[(0,a.jsx)(j,{tier:"public",interval:n,selected:s,setSelected:i,previous:o,userType:t,longDescription:u,featureList:h,showTrial:m}),(0,a.jsx)(j,{tier:"pro",interval:n,selected:s,setSelected:i,previous:o,userType:t,longDescription:u,featureList:h,showTrial:m,canDelayBilling:!!o&&(0,v.FS)(c,o,"pro")}),b&&(0,a.jsx)(j,{tier:"pro_enterprise",interval:n,selected:s,setSelected:i,previous:o,footnotePosition:"column"===l?"inside":"outside",userType:t,longDescription:u,featureList:h,showTrial:m,canDelayBilling:!!o&&(0,v.FS)(c,o,"pro_enterprise")})]}),(0,a.jsx)(r(),{id:"9596bd0b0f6f130d",dynamic:[x.pp,b?"repeat(3, 1fr)":"repeat(2, 1fr)"],children:".price-grid.__jsx-style-dynamic-selector{display:grid;grid-gap:8px 15px;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;grid-template-columns:auto}@media ".concat(x.pp,"{.price-grid.__jsx-style-dynamic-selector{grid-template-columns:").concat(b?"repeat(3, 1fr)":"repeat(2, 1fr)",";grid-template-rows:repeat(2,auto);grid-auto-flow:column}}.price-grid-wide.__jsx-style-dynamic-selector{display:grid;grid-gap:8px 8px;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}")})]})}},88379:function(e,t,n){n.d(t,{i:function(){return m}});var a=n(41799),s=n(99534),r=n(85893),i=n(72815),l=n(92946),o=n(5163),c=n(11846),d=n(87769),u=n(34091),h=n(3142);const m=e=>{var{notebook:t,isUnstyled:n=!1}=e,m=(0,s.Z)(e,["notebook","isUnstyled"]);const b=(0,h.fN)(t);let p,x,f,v="",g="";return(0,h.os)(t)&&(g=" (Read-only)",n||(x="yellow")),n||x||(x=b?"green":(0,h.s9)(t)||(0,h.cg)(t)?"yellow":"purple"),(0,h.nv)(t)?(v="Unlisted",f="Only people with the link can see edits to this notebook.",p=l.ZP):b?(v="Public",f="Anyone can see edits to this notebook.",p=d.Z):(0,h.s9)(t)?(v="Published",f="Anyone can see the published version of this notebook.",p=d.Z):(0,h.cg)(t)?(v="Published unlisted",f="Only people with the link can see the shared version of this notebook.",p=l.ZP):(0,h.hv)(t)?(v="Only you",f="Only you can see your edits to this notebook.",p=u.Z):(0,h.PW)(t)?(v="Shared",f="People you've invited can see edits to this notebook.",p=o.Z):(0,h.nt)(t)&&(v="Team",f="Your team can see edits to this notebook.",p=c.Z),(0,r.jsx)(i.C,(0,a.Z)({className:"lh-f7",icon:p,label:v+g,type:x,title:f},m))}},86723:function(e,t,n){n.d(t,{X:function(){return r}});var a=n(36448),s=n(40042);function r(){const{currentUser:e,context:t}=(0,s.v9)((e=>({currentUser:e.currentUser,context:e.context.context})));if(!e)return null;if(t){const n=e.teams.find((e=>e.id===t.id));if(n&&(0,a.qb)(e,n))return n}return e}},74873:function(e,t,n){n.d(t,{z:function(){return r}});var a=n(67294);const s=()=>{};function r(e){const{index:t,ref:n,dataSelector:r,onDrop:i,onMove:l=s,disabled:o=!1}=e,[,c]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{threshold:t=75,speed:n=4}=e,{0:s,1:r}=(0,a.useState)(null),{0:i,1:l}=(0,a.useState)(null);return(0,a.useEffect)((()=>{null===i?r(null):i<t?r(-1):i>window.innerHeight-t?r(1):r(null)}),[i,t]),(0,a.useEffect)((()=>{let e;const t=a=>{const r=performance.now()-a,i=-1===s&&0===window.scrollY,l=1===s&&document.body.scrollHeight-window.scrollY<=window.innerHeight;null===s||i||l||(window.scrollBy(0,r*s*n),e=window.requestAnimationFrame(t))};if(null!==s)return e=window.requestAnimationFrame(t),()=>window.cancelAnimationFrame(e)}),[s,n]),[i,l]}();(0,a.useEffect)((()=>{if(!o&&(null===n||void 0===n?void 0:n.current)){const e=n.current;let a,s;const o=()=>{const e=r.split("-").map(((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.substring(1))).join("");return[...document.querySelectorAll("[data-".concat(r,"]"))].map((t=>{const n=t.getBoundingClientRect();return{index:+(t.dataset[e]||0),top:n.top+window.scrollY,bottom:n.bottom+window.scrollY}}))},d=e=>{let t=1/0,n=null,a=null;for(let r=0;r<s.length;r++){const i=s[r],l=Math.abs(e-i.top),o=Math.abs(e-i.bottom);l<t&&(t=l,n=i.index),o<t&&(t=o,n=s.length>r+1?s[r+1].index:null,a=i.index)}return{next:n,previous:a}},u=()=>{for(const e of document.querySelectorAll(".show-before,.show-after"))e.classList.remove("show-before","show-after")},h=e=>{const{next:t,previous:n}=d(e);var a;if(u(),null!==t)null===(a=document.querySelector("[data-".concat(r,'="').concat(t,'"]')))||void 0===a||a.classList.add("show-before");else if(n){var s;null===(s=document.querySelector("[data-".concat(r,'="').concat(n,'"]')))||void 0===s||s.classList.add("show-after")}},m=()=>{addEventListener("pointermove",x,!0),addEventListener("pointerup",f,!0)},b=()=>{removeEventListener("pointermove",x,!0),removeEventListener("pointerup",f,!0)},p=e=>{i&&void 0!==t&&(s=o(),a=e.clientY,m())},x=e=>{const t=e.pageY,n=e.clientY;null!==a&&Math.abs(t-a)>10&&(l(e),h(t),c(n))},f=e=>{if(i&&void 0!==t){const n=e.pageY,{next:r,previous:l}=d(n);i(t,r,l),c(null),u(),b(),a=null,s=[]}};return e.addEventListener("pointerdown",p),()=>{e.removeEventListener("pointerdown",p),b()}}}),[t,n,r,o,l,i,c])}},98055:function(e,t,n){n.d(t,{$:function(){return s}});var a=n(67294);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{0:t,1:n}=(0,a.useState)(new Set(e)),s=(0,a.useCallback)((e=>n((t=>t.has(e)?t:new Set([...t,e])))),[n]),r=(0,a.useCallback)((e=>n((t=>t.has(e)?new Set([...t].filter((t=>t!==e))):t))),[n]),i=(0,a.useCallback)(((e,t)=>{(t?s:r)(e)}),[s,r]),l=(0,a.useCallback)((e=>n((t=>t.has(e)?new Set([...t].filter((t=>t!==e))):new Set([...t,e])))),[n]),o=(0,a.useCallback)((()=>n(new Set)),[n]);return{value:t,add:s,remove:r,set:i,toggle:l,removeAll:o}}},70915:function(e,t,n){n.d(t,{BL:function(){return d},L7:function(){return o},WG:function(){return l},iM:function(){return c}});var a=n(41799),s=n(69396),r=n(88725),i=n(602);function l(e){return"/collection/@".concat(e.owner.login,"/").concat(e.slug)}function o(e,t){return"".concat((0,r.Bi)(e),"?collection=@").concat(t.owner.login,"/").concat(t.slug)}function c(e){return"private"===e.type?"team"===e.owner.type?"Team Private":"Private":"Public"}async function d(e,t,n,r){const l=await(0,i.Fv)("/collection/new",{title:e,type:t,owner:n.id,description:r});if(l)return(0,s.Z)((0,a.Z)({},l),{owner:n})}},98153:function(e,t,n){function a(e,t,n){if("team"===n)switch(e){case"public":return 0;case"pro":return"year"===t?20:24;case"pro_enterprise":return 75}else switch(e){case"public":return 0;case"pro":return"year"===t?12:15;default:throw new Error("Unexpected individual tier ".concat(e))}}function s(e,t,n){return"pro_enterprise"===e?i([{upTo:25,flatAmount:1875,unitAmount:0},{upTo:75,flatAmount:0,unitAmount:75},{upTo:1/0,flatAmount:0,unitAmount:24}],n):n*a(e,t,"team")}function r(e){var t;const n=null===(t=e.subscriptions)||void 0===t?void 0:t.data[0];if(!n)return null;const a=n.plan;if(!a)return null;var s;const r=null!==(s=n.quantity)&&void 0!==s?s:1,l="day"!==a.interval&&"week"!==a.interval?a.interval:"month";if(a.amount)return{amountTotal:a.amount/100*r,amountPerEditor:a.amount/100,interval:l,scheme:"per_unit"};if(a.tiers){var o,c,d;return{amountTotal:i([...a.tiers].map((e=>({upTo:null!==(o=e.up_to)&&void 0!==o?o:1/0,flatAmount:null!==(c=e.flat_amount)&&void 0!==c?c:0,unitAmount:null!==(d=e.unit_amount)&&void 0!==d?d:0}))),r)/100,interval:l,scheme:"tiered"}}return null}function i(e,t){e=[...e].sort(((e,t)=>e.upTo-t.upTo));let n=0,a=0;for(const s of e){if(a+=s.flatAmount,!(t>=s.upTo)){a+=(t-n)*s.unitAmount;break}a+=(s.upTo-n)*s.unitAmount,n=s.upTo}return a}n.d(t,{V_:function(){return a},Xl:function(){return r},j3:function(){return s}})},81816:function(e,t,n){function a(e){const t=new URLSearchParams;for(const n of Object.keys(e)){const a=e[n];void 0!==a&&t.append(n,a.toString())}return t.toString()}n.d(t,{P:function(){return a}})},24018:function(e,t,n){n.d(t,{Bz:function(){return l},O5:function(){return r},o0:function(){return i}});var a=n(41799),s=n(69396);const r="@observablehq/templates";function i(e){return e.listings.map((e=>(0,s.Z)((0,a.Z)({},e),{title:e.title.replace("Templates: ","")}))).filter((e=>"collection"===e.listing_type))}function l(e){return e.listings.filter((e=>"notebook"===e.listing_type)).sort(((e,t)=>e.title.localeCompare(t.title)))}},98843:function(e,t,n){n.d(t,{f:function(){return a}});const a=()=>({type:"common",slices:{},listeners:{}})},65538:function(e,t,n){n.d(t,{$j:function(){return r},zt:function(){return a.zt}});var a=n(14416),s=n(54924);const r=(0,s.S3)();(0,s.gR)()},12558:function(e,t,n){n.d(t,{$j:function(){return r},I0:function(){return i},v9:function(){return l},zt:function(){return a.zt}});var a=n(14416),s=n(54924);const r=(0,s.S3)();function i(){return(0,a.I0)()}const l=(0,s.gR)()},2545:function(e,t,n){n.d(t,{gj:function(){return c},th:function(){return o},xl:function(){return d}});var a=n(41799),s=n(69396),r=n(11163),i=n.n(r),l=n(602);function o(e){try{var t,n,r,i;const d=null===(t=e.stripe_customer)||void 0===t?void 0:t.subscriptions.data[0],u=null===(n=e.stripe_payment_methods)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.card,h=null===d||void 0===d?void 0:d.items.data[0].plan,m=null===h||void 0===h?void 0:h.interval,b="day"!==m&&"week"!==m&&m?m:"month";var l,o,c;return{tier:e.tier,interval:e.interval,stripe_customer:(0,a.Z)((0,s.Z)((0,a.Z)({},d?(0,a.Z)({subscription:{amount:null!==(l=null===h||void 0===h?void 0:h.amount)&&void 0!==l?l:1,quantity:null!==(o=d.items.data[0].quantity)&&void 0!==o?o:1,interval:b,cancel_at_period_end:d.cancel_at_period_end,current_period_start:d.current_period_start,current_period_end:d.current_period_end,tier:e.tier}},u?{billing:{card:u}}:null):{}),{id:null!==(c=null===(i=e.stripe_customer)||void 0===i?void 0:i.id)&&void 0!==c?c:""}),d?{subscriptions:{data:[(0,s.Z)((0,a.Z)({},h?{plan:{billing_scheme:h.billing_scheme,interval:h.interval,amount:h.amount}}:null),{quantity:d.items.data[0].quantity,trial_end:d.trial_end,trial_start:d.trial_start})]}}:null)}}catch(d){return e}}const c=async(e,t,n)=>{const a=i().query.update;n({type:"customerUpdated",customer:o(await(0,l.a8)("/billing/".concat(t.user.login).concat(a?"?update=true":"")))})},d=(e,t)=>{let{customer:n}=t;return{customer:n}}}}]);