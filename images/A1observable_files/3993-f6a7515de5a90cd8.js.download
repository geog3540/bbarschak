"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3993],{64063:function(e){e.exports=function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){if(n.constructor!==t.constructor)return!1;var r,o,i;if(Array.isArray(n)){if((r=n.length)!=t.length)return!1;for(o=r;0!==o--;)if(!e(n[o],t[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if((r=(i=Object.keys(n)).length)!==Object.keys(t).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=r;0!==o--;){var a=i[o];if(!e(n[a],t[a]))return!1}return!0}return n!==n&&t!==t}},63999:function(e,n,t){function r(e){return new o(e)}t.d(n,{Z:function(){return D}});class o extends Error{}function i({id:e,value:n="",pinned:t=!1,mode:o="js",data:i=null,name:s=null}={}){if((e=+e)!==(0|e)||e<0)throw r("invalid node id");return null!==n&&(n+=""),null!==s&&(s+=""),new a(e,n,!!t,o+"",i,s)}function a(e,n,t,r,o,i){Object.defineProperties(this,{id:{value:e,enumerable:!0},value:{value:n,enumerable:!0},pinned:{value:t,enumerable:!0},mode:{value:r,enumerable:!0},data:{value:o,enumerable:!0},name:{value:i,enumerable:!0}})}Object.defineProperties(a,{of:{value:i,writable:!0,configurable:!0}});var s=t(64063);function u(e){const n=new Set;return Array.from(e,(e=>{const[t,o]=function({specifier:e,type:n,value:t}){if(null==e)throw r("invalid specifier");if(null==n)throw r("invalid specifier type");if(null==t)throw r("invalid resolution");return l(n+"",e+"",t+"")}(e);if(n.has(t))throw r("duplicate resolution");return n.add(t),o}))}function c({specifier:e,specifier_type:n,new_resolution:t}){if(null==e)throw r("invalid specifier");if(null==n)throw r("invalid specifier type");return l(n+"",e+"",null==t?null:t+"")}function l(e,n,t){return[d({type:e,specifier:n}),{type:e,specifier:n,value:t}]}function d({type:e,specifier:n}){return`${e}:${n}`}const f=new WeakMap;function p(e){let n=f.get(e);return void 0===n&&(n=new Map(e.map((e=>[d(e),e.value]))),f.set(e,n)),n}const w="create",m="insert_node",h="modify_node",_="modify_title",v="move_node",y="remove_node",b="pin_node",g="unpin_node",A="resolve_dependency",x="revert",k="modify_license",E="modify_copyright",T="mode_node",j="modify_data",N="modify_name",q="noop";function O(){}function S(e){const n=new Map;for(const[t,r]of e)n.set(r,t);return n}function C(e,n){return Array.from({length:Math.min(e.version,n.version)+1},((e,n)=>[n,n]))}function I(e){Object.defineProperties(this,{_node:{value:e,writable:!0}})}function $({version:e=0,title:n="",license:t=null,copyright:o="",nodes:a=[],resolutions:s=[]}={}){if((e=+e)!==(0|e)||e<0)throw r("invalid version");null!==t&&(t+=""),a=Array.from(a,i),s=u(s);const c=new Array(e+1);for(let i=0;i<a.length;++i){const{id:n}=a[i];if(n>e)throw r("invalid node_id");if(n in c)throw r("duplicate node_id");c[n]=i}return new D({version:e,title:n+"",license:t,copyright:o+"",nodes:a,events:new Array(e+1),resolutions:s})}function*R(e,n,t){for(;t<n;){const r=e[n--];if("revert"===r.type){const{old_version:n,node_id:o}=r;if(n<=t)return yield*R(e,o,t);yield*R(e,o,n)}else{const e=L(r);if(yield e,e.version===t)return}}for(;n<t;){const r=e[++n];if("revert"===r.type){const{old_version:n,node_id:o}=r;if(o>=t)return yield*R(e,n,t);yield*R(e,n,o)}else{const e=M(r);if(yield e,e.version===t)return}}}function M(e){if(void 0===e)throw r("insufficient history");const{version:n,type:t,node_id:o,new_node_value:i,new_node_pinned:a,new_next_node_id:s,new_node_mode:u,new_node_data:c,new_node_name:l,specifier:d,specifier_type:f,new_resolution:p}=e;switch(t){case _:return{version:n,type:t,new_node_value:i};case m:return{version:n,type:t,node_id:o,new_node_value:i,new_next_node_id:s,new_node_pinned:a,new_node_mode:u,new_node_data:c,new_node_name:l};case y:return{version:n,type:t,node_id:o};case v:return{version:n,type:t,node_id:o,new_next_node_id:s};case h:return{version:n,type:t,node_id:o,new_node_value:i};case b:case g:return{version:n,type:t,node_id:o};case k:case E:return{version:n,type:t,new_node_value:i};case T:return{version:n,type:t,node_id:o,new_node_mode:u,new_node_value:i,new_node_pinned:a,new_node_data:c,new_node_name:l};case j:return{version:n,type:t,node_id:o,new_node_data:c};case N:return{version:n,type:t,node_id:o,new_node_name:l};case A:return{version:n,type:t,specifier:d,specifier_type:f,new_resolution:p};case q:return{version:n,type:t};case w:throw r("cannot redo create");case x:throw r("cannot redo revert");default:throw r("unknown type")}}function L(e){if(void 0===e)throw r("insufficient history");const{old_version:n,type:t,node_id:o,old_node_value:i,old_node_pinned:a,old_next_node_id:s,old_node_mode:u,old_node_data:c,old_node_name:l,specifier:d,specifier_type:f,old_resolution:p}=e;switch(t){case _:return{version:n,type:t,new_node_value:i};case m:return{version:n,type:y,node_id:o};case y:return{version:n,type:m,node_id:o,new_node_value:i,new_node_pinned:a,new_next_node_id:s,new_node_mode:u,new_node_data:c,new_node_name:l};case v:return{version:n,type:t,node_id:o,new_next_node_id:s};case h:return{version:n,type:t,node_id:o,new_node_value:i};case b:return{version:n,type:g,node_id:o};case g:return{version:n,type:b,node_id:o};case k:case E:return{version:n,type:t,new_node_value:i};case T:return{version:n,type:t,node_id:o,new_node_mode:u,new_node_value:i,new_node_pinned:a,new_node_data:c,new_node_name:l};case j:return{version:n,type:t,node_id:o,new_node_data:c};case N:return{version:n,type:t,node_id:o,new_node_name:l};case A:return{version:n,type:t,specifier:d,specifier_type:f,new_resolution:p};case q:return{version:n,type:t};case w:throw r("cannot undo create");case x:throw r("cannot undo revert");default:throw r("unknown type")}}function D({version:e,title:n,license:t,copyright:r,nodes:o,events:i,resolutions:a}){Object.defineProperties(this,{version:{value:e,enumerable:!0},title:{value:n,enumerable:!0},license:{value:t,enumerable:!0},copyright:{value:r,enumerable:!0},nodes:{value:o,enumerable:!0},events:{value:i,enumerable:!0},resolutions:{value:a,enumerable:!0}})}Object.defineProperties(I.prototype,{[Symbol.iterator]:{value:function(){return this},writable:!0,configurable:!0},next:{value:function(){if(null==this._node)return{done:!0};const e=this._node;return this._node=this._node.next,{done:!1,value:e}},writable:!0,configurable:!0}}),Object.defineProperties(D,{create:{value:function({version:e,title:n="",nodes:t=[],license:o=null,copyright:a="",resolutions:s=[]}={}){t=Array.from(t,i),s=u(s);const c=new Set,l=[];if(void 0!==e&&((e=+e)!==(0|e)||e<0))throw r("invalid version");let d=-1,f=-1;(n+="")&&(l[++d]={version:d,type:_,new_node_value:n}),null!==o&&(l[++d]={version:d,type:k,new_node_value:o+=""}),(a+="")&&(l[++d]={version:d,type:E,new_node_value:a});for(const{id:i,value:u,pinned:p,mode:w,data:h,name:_}of t){if(c.has(i))throw r("duplicate node_id");c.add(i),l[++d]={version:d,type:m,node_id:i,new_next_node_id:null,new_node_value:u,new_node_pinned:p,new_node_mode:w,new_node_data:h,new_node_name:_},i>f&&(f=i)}for(const{type:r,specifier:i,value:u}of s)l[++d]={version:d,type:A,specifier:i,specifier_type:r,new_resolution:u};if(void 0===e)e=Math.max(d,f)+1;else if(d>=e||e<f)throw r("invalid version");return l[e]={version:e,type:w},new D({version:e,title:n,nodes:t,events:l,license:o,copyright:a,resolutions:s})},writable:!0,configurable:!0},from:{value:function(e){let n="",t=-1,o=null,i="",a=-1,s=!1;const u=new Map,l=new Map;let d=null,f=null;function p(e,n){const t=n?n.previous:d;n?(e.next=n,n.previous=e):d=e,t?(e.previous=t,t.next=e):f=e}function x(e){const n=e.next,t=e.previous;n?(n.previous=t,e.next=null):d=t,t?(t.next=n,e.previous=null):f=n}for(const O of e){let e=+O.version;if(e!==(0|e)||!(e>=t))throw r("invalid version");switch(t=e,O.type){case w:if(s)throw r("duplicate create");if(a>t)throw r("invalid node_id");s=!0;break;case _:n=O.new_node_value;break;case m:{let e=t;if(void 0!==O.node_id){if(e=+O.node_id,e!==(0|e)||e<0||s&&e>t)throw r("invalid node_id");if(u.has(e))throw r("duplicate node_id")}let n=null;if(null!=O.new_next_node_id&&(n=u.get(+O.new_next_node_id),void 0===n))throw r("invalid new_next_node_id");a=Math.max(e,a);const o={id:e,value:O.new_node_value,pinned:O.new_node_pinned,mode:O.new_node_mode,data:O.new_node_data,name:O.new_node_name,next:null,previous:null};p(o,n),u.set(e,o);break}case h:{const e=u.get(+O.node_id);if(void 0===e)throw r("invalid node_id");e.value=O.new_node_value;break}case v:{const e=u.get(+O.node_id);if(void 0===e)throw r("invalid node_id");let n=null;if(null!=O.new_next_node_id&&(n=u.get(+O.new_next_node_id),void 0===n))throw r("invalid new_next_node_id");e.next!==n&&e!==n&&(x(e),p(e,n));break}case y:{const e=+O.node_id,n=u.get(e);if(void 0===n)throw r("invalid node_id");x(n),u.delete(e);break}case b:case g:{const e=u.get(+O.node_id);if(void 0===e)throw r("invalid node_id");e.pinned=O.type===b;break}case T:{const e=u.get(+O.node_id);if(void 0===e)throw r("invalid node_id");e.mode=O.new_node_mode,void 0!==O.new_node_value&&(e.value=O.new_node_value),void 0!==O.new_node_pinned&&(e.pinned=O.new_node_pinned),void 0!==O.new_node_data&&(e.data=O.new_node_data),void 0!==O.new_node_name&&(e.name=O.new_node_name);break}case N:{const e=u.get(+O.node_id);if(void 0===e)throw r("invalid node_id");e.name=O.new_node_name;break}case j:{const e=u.get(+O.node_id);if(void 0===e)throw r("invalid node_id");e.data=O.new_node_data;break}case k:o=O.new_node_value;break;case E:i=O.new_node_value;break;case A:{const[e,n]=c(O);if(null!==n.value)l.set(e,n);else{if(!l.has(e))throw r("invalid resolution");l.delete(e)}break}case q:break;default:throw r("unknown type")}}if(!s)throw r("expected create");return $({version:t,title:n,license:o,copyright:i,nodes:new I(f),resolutions:l.values()})},writable:!0,configurable:!0},of:{value:$,writable:!0,configurable:!0},Node:{value:a,writable:!0,configurable:!0},Error:{value:o,writable:!0,configurable:!0}}),Object.defineProperties(D.prototype,{apply:{value:function(e,n=O){let t=this.version,o=this.title,i=this.license,u=this.copyright,l=this.nodes,f=this.events,p=this.resolutions;for(const O of e){const e=t;switch(t=f.length,f===this.events&&(f=f.slice()),O.type){case _:{const r=void 0===O.new_node_value?"":O.new_node_value+"";if(o===r)break;n(f[f.length]={version:t,old_version:e,type:_,old_node_value:o,new_node_value:r}),o=r;continue}case m:{let o=t;if(void 0!==O.node_id){if(o=+O.node_id,o!==(0|o)||o<0||o>t)throw r("invalid node_id");if(l.findIndex((e=>e.id===o))>=0)throw r("duplicate node_id")}let i=l.length,s=null;if(null!=O.new_next_node_id&&(s=+O.new_next_node_id,i=l.findIndex((e=>e.id===s)),i<0))throw r("invalid new_next_node_id");const u=void 0===O.new_node_value?"":null===O.new_node_value?null:O.new_node_value+"",c=!!O.new_node_pinned,d=void 0===O.new_node_mode?"js":O.new_node_mode+"",p=null==O.new_node_data?null:O.new_node_data,w=null==O.new_node_name?null:O.new_node_name+"";l===this.nodes&&(l=l.slice());const h=new a(o,u,c,d,p,w);l.splice(i,0,h),n(f[f.length]={version:t,old_version:e,type:m,node_id:o,new_next_node_id:s,new_node_value:h.value,new_node_pinned:h.pinned,new_node_mode:h.mode,new_node_data:h.data,new_node_name:h.name});continue}case h:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const s=l[i].value,u=void 0===O.new_node_value?"":null===O.new_node_value?null:O.new_node_value+"";if(s===u)break;l===this.nodes&&(l=l.slice()),l[i]=new a(o,u,l[i].pinned,l[i].mode,l[i].data,l[i].name),n(f[f.length]={version:t,old_version:e,type:h,node_id:o,old_node_value:s,new_node_value:u});continue}case v:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const a=l[i];let s=l.length,u=null;if(null!=O.new_next_node_id&&(u=+O.new_next_node_id,s=l.findIndex((e=>e.id===u)),s<0))throw r("invalid new_next_node_id");const c=i<l.length-1?l[i+1].id:null;if(i===s&&(u=c),c===u)break;l===this.nodes&&(l=l.slice()),l.splice(i,1),l.splice(s-(i<s),0,a),n(f[f.length]={version:t,old_version:e,type:v,node_id:o,old_next_node_id:c,new_next_node_id:u});continue}case y:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const a=i<l.length-1?l[i+1].id:null,s=l[i];l===this.nodes&&(l=l.slice()),l.splice(i,1),n(f[f.length]={version:t,old_version:e,type:y,node_id:o,old_next_node_id:a,old_node_value:s.value,old_node_pinned:s.pinned,old_node_mode:s.mode,old_node_data:s.data,old_node_name:s.name});continue}case b:case g:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const s=O.type===b;if(l[i].pinned===s)break;l===this.nodes&&(l=l.slice()),l[i]=new a(o,l[i].value,s,l[i].mode,l[i].data,l[i].name),n(f[f.length]={version:t,old_version:e,type:O.type,node_id:o});continue}case T:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const s=l[i].mode,u=O.new_node_mode+"";if(s===u)break;const c=l[i].value,d=void 0===O.new_node_value?c:null===O.new_node_value?O.new_node_value:O.new_node_value+"",p=l[i].pinned,w=void 0===O.new_node_pinned?p:!!O.new_node_pinned,m=l[i].name,h=void 0===O.new_node_name?m:null===O.new_node_name?O.new_node_name:O.new_node_name+"",_=l[i].data,v=void 0===O.new_node_data?_:O.new_node_data;l===this.nodes&&(l=l.slice()),l[i]=new a(o,d,w,u,v,h),n(f[f.length]={version:t,old_version:e,type:O.type,node_id:o,new_node_mode:u,old_node_mode:s,new_node_value:d,old_node_value:c,new_node_pinned:w,old_node_pinned:p,new_node_data:v,old_node_data:_,new_node_name:h,old_node_name:m});continue}case x:{t=+O.node_id;const r=new D({version:e,title:o,nodes:l,events:f,license:i,copyright:u,resolutions:p});({version:t,title:o,nodes:l,license:i,copyright:u,resolutions:p}=r.reset(t,n)),f[f.length]={version:f.length,old_version:e,type:x,node_id:t};continue}case k:{const r=null==O.new_node_value?null:O.new_node_value+"";if(i===r)break;n(f[f.length]={version:t,old_version:e,type:k,old_node_value:i,new_node_value:r}),i=r;continue}case E:{const r=void 0===O.new_node_value?"":O.new_node_value+"";if(u===r)break;n(f[f.length]={version:t,old_version:e,type:E,old_node_value:u,new_node_value:r}),u=r;continue}case A:{const[r,{specifier:o,type:i,value:a}]=c(O),s=p.findIndex((e=>d(e)===r));if(s>=0&&p[s].value===a||s<0&&null===a)break;p===this.resolutions&&(p=p.slice());const u=s<0?null:p[s].value;null===a?p.splice(s,1):s<0?p.push({specifier:o,type:i,value:a}):p[s]={...p[s],value:a},n(f[f.length]={version:t,old_version:e,type:A,specifier:o,specifier_type:i,old_resolution:u,new_resolution:a});continue}case j:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const u=l[i].data,c=null==O.new_node_data?null:O.new_node_data;if(s(c,u))break;l===this.nodes&&(l=l.slice()),l[i]=new a(o,l[i].value,l[i].pinned,l[i].mode,c,l[i].name),n(f[f.length]={version:t,old_version:e,node_id:o,type:O.type,old_node_data:u,new_node_data:c});continue}case N:{const o=+O.node_id,i=l.findIndex((e=>e.id===o));if(i<0)throw r("invalid node_id");const s=l[i].name,u=null==O.new_node_name?null:O.new_node_name+"";if(s===u)break;l===this.nodes&&(l=l.slice()),l[i]=new a(o,l[i].value,l[i].pinned,l[i].mode,l[i].data,u),n(f[f.length]={version:t,old_version:e,type:O.type,node_id:o,new_node_name:u,old_node_name:s});continue}case q:break;case w:throw r("cannot apply create");default:throw r("unknown type")}n(f[f.length]={version:t,old_version:e,type:q})}return f===this.events?this:new D({version:t,title:o,nodes:l,events:f,license:i,copyright:u,resolutions:p})},writable:!0,configurable:!0},diff:{value:function(e,n=C(e,this)){const t=new Map(this.nodes.map((e=>[e.id,e]))),r=new Map(e.nodes.map((e=>[e.id,e]))),o=new Map(n),i=S(n),a=e.nodes.map((e=>{const n=i.get(e.id),r=t.get(n);return r?{type:r.value===e.value?q:h,base:r,target:e}:{type:null==n?m:y,target:e}}));e:for(let s=0,u=this.nodes.length;s<u;++s){const e=this.nodes[s],n=o.get(e.id);if(r.has(n))continue;const t={type:null==n?m:y,base:e};for(let i=s+1;i<u;++i){const e=r.get(o.get(this.nodes[i].id));if(e){a.splice(a.findIndex((n=>n.target===e)),0,t);continue e}}a.push(t)}return a},writable:!0,configurable:!0},merge:{value:function(e,n){let t,o;if(Array.isArray(e)||(e=Array.from(e)),n&&(n=function(e){return function(n){e(M(n))}}(n)),0===e.length)return[this,new Map];const i=+e[0].version,a=e.length,u=this.version-i+1,c=Math.min(a,u),l=this.reset(i-1,n).apply(e,n);for(e=l.events.slice(i),t=0;t<c;++t){const n=e[t],r=this.events[n.version];if(n.type===m&&n.node_id===n.version||n.type!==r.type||n.specifier!==r.specifier||n.specifier_type!==r.specifier_type||n.new_resolution!==r.new_resolution||n.node_id!==r.node_id||n.new_node_value!==r.new_node_value||n.new_node_pinned!==r.new_node_pinned||n.new_next_node_id!==r.new_next_node_id||n.new_node_mode!==r.new_node_mode||n.new_node_name!==r.new_node_name||!s(n.new_node_data,r.new_node_data))break}if(t===a)return[this,new Map];if(t===u)return[l,new Map];const d=new Set,f=new Map;for(o=t;o<a;++o){const n=e[o];switch(n.type){case m:n.node_id<i&&d.add(n.node_id),f.delete(n.node_id);break;case y:d.delete(n.node_id),f.set(n.node_id,n.old_next_node_id)}}const p=new Map,w=[];for(o=i+t;o<=this.version;++o){const e=this.events[o];switch(e.type){case _:w.push({type:_,new_node_value:e.new_node_value});break;case m:{let n=e.node_id;p.has(n)?n=p.get(n):(n>=i||d.has(n))&&p.set(n,n=l.version+w.length+1);let t=e.new_next_node_id;if(p.has(t))t=p.get(t);else for(;f.has(t);)t=f.get(t);f.delete(n),w.push({type:m,node_id:n,new_node_value:e.new_node_value,new_node_pinned:e.new_node_pinned,new_next_node_id:t,new_node_mode:e.new_node_mode,new_node_data:e.new_node_data,new_node_name:e.new_node_name});break}case h:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;w.push({type:h,node_id:n,new_node_value:e.new_node_value});break}case v:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;let t=e.new_next_node_id;if(p.has(t))t=p.get(t);else for(;f.has(t);)t=f.get(t);w.push({type:v,node_id:n,new_next_node_id:t});break}case y:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;d.delete(n),w.push({type:y,node_id:n});break}case b:case g:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;w.push({type:e.type,node_id:n});break}case T:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;w.push({type:e.type,node_id:n,new_node_mode:e.new_node_mode,new_node_pinned:e.new_node_pinned,new_node_value:e.new_node_value,new_node_data:e.new_node_data,new_node_name:e.new_node_name});break}case j:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;w.push({type:e.type,node_id:n,new_node_data:e.new_node_data});break}case N:{let n=e.node_id;if(p.has(n))n=p.get(n);else if(f.has(n))break;w.push({type:e.type,node_id:n,new_node_name:e.new_node_name});break}case k:w.push({type:k,new_node_value:e.new_node_value});break;case E:w.push({type:E,new_node_value:e.new_node_value});break;case A:w.push({type:A,specifier:e.specifier,specifier_type:e.specifier_type,new_resolution:e.new_resolution});break;case q:break;default:throw r("unknown type")}}return[l.apply(w,n),p]},writable:!0,configurable:!0},patch:{value:function(e,n=C(e,this)){const t=new Map(this.nodes.map((e=>[e.id,e]))),r=new Map(this.nodes.slice(0,-1).map(((e,n)=>[e.id,this.nodes[n+1].id]))),o=new Map(this.nodes.slice(1).map(((e,n)=>[e.id,this.nodes[n].id]))),i=new Map(n),a=S(n);let u=this.nodes.length?this.nodes[this.nodes.length-1].id:void 0;const c=new Set(e.nodes.map((e=>e.id))),l=[],f=new Map;let w=this.events.length-1;this.title!==e.title&&(++w,l.push({type:_,new_node_value:e.title})),this.license!==e.license&&(++w,l.push({type:k,new_node_value:e.license})),this.copyright!==e.copyright&&(++w,l.push({type:E,new_node_value:e.copyright}));for(const{id:s}of this.nodes)if(!c.has(i.get(s))){++w,l.push({type:y,node_id:s});const e=o.get(s),n=r.get(s);void 0!==n?(r.set(s,r.get(n)),o.set(n,e)):u=e,void 0!==e&&(o.set(s,o.get(e)),r.set(e,n))}for(let d=e.nodes.length-1;d>=0;--d){const n=e.nodes[d],c=e.nodes[d+1]&&a.get(e.nodes[d+1].id),{id:p}=n;let _=a.get(p);const y=t.get(_);if(y){y.mode!==n.mode?(++w,l.push({type:T,node_id:_,new_node_mode:n.mode,new_node_value:n.value,new_node_pinned:n.pinned,new_node_name:n.name,new_node_data:n.data})):(y.value!==n.value&&(++w,l.push({type:h,node_id:_,new_node_value:n.value})),y.pinned!==n.pinned&&(++w,l.push({type:n.pinned?b:g,node_id:_})),y.name!==n.name&&(++w,l.push({type:N,node_id:_,new_node_name:n.name})),s(y.data,n.data)||(++w,l.push({type:j,node_id:_,new_node_data:n.data})));const e=r.get(_);if(e!==c){++w,l.push({type:v,node_id:_,new_next_node_id:void 0===c?null:c});const n=o.get(_),t=void 0!==c?o.get(c):u;void 0!==n&&r.set(n,e),void 0!==e&&o.set(e,n),r.set(_,c),o.set(_,t),void 0!==t&&r.set(t,_),void 0!==c?o.set(c,_):u=_}}else{const e=++w;null==_&&(_=e,a.set(p,_),i.set(_,p),f.set(_,p)),l.push({type:m,node_id:_,new_node_value:n.value,new_node_pinned:n.pinned,new_next_node_id:void 0===c?null:c,new_node_mode:n.mode,new_node_data:n.data,new_node_name:n.name});const t=void 0!=c?o.get(c):u;void 0!=t&&r.set(t,_),void 0!=c?o.set(c,_):u=_,r.set(_,c),o.set(_,t)}}const x=p(this.resolutions);for(const s of e.resolutions){x.get(d(s))!==s.value&&l.push({type:A,specifier:s.specifier,specifier_type:s.type,new_resolution:s.value})}const q=p(e.resolutions);for(const s of this.resolutions)q.has(d(s))||l.push({type:A,specifier:s.specifier,specifier_type:s.type,new_resolution:null});return[l,f]},writable:!0,configurable:!0},reset:{value:function(e,n){if((e=+e)<0||e>=this.events.length||e!==(0|e))throw r("invalid version");if(e===this.events.length-1)return this;const t=Array.from(R(this.events,this.version,e));n&&t.forEach(n);const{title:o,license:i,copyright:a,nodes:s,resolutions:u}=this.apply(t);return t.length&&(e=t[t.length-1].version),new D({version:e,title:o,license:i,copyright:a,nodes:s,events:this.events.slice(0,e+1),resolutions:u})},writable:!0,configurable:!0},resolve:{value:function(e,n){if(null==e)throw r(`invalid specifier type: ${e}`);if(null==n)throw r(`invalid specifier: ${n}`);return p(this.resolutions).get(d({type:e,specifier:n}))},writable:!0,configurable:!0}})},29391:function(e,n,t){function r(e){return e&&"function"===typeof e.toArrowBuffer}t.r(n),t.d(n,{isArqueroTable:function(){return r}})},57938:function(e,n,t){t.r(n),t.d(n,{getArrowTableSchema:function(){return a},isArrowTable:function(){return i},loadArrow:function(){return c}});var r=t(67363),o=t(19204);function i(e){return e&&"function"===typeof e.getChild&&"function"===typeof e.toArray&&e.schema&&Array.isArray(e.schema.fields)}function a(e){return e.schema.fields.map(s)}function s(e){return{name:e.name,type:u(e.type),nullable:e.nullable,databaseType:String(e.type)}}function u(e){switch(e.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";default:return"other"}}async function c(){return await t(61187)(`${o.cdn}${r.arrow11.resolve()}`)}},67363:function(e,n,t){t.r(n),t.d(n,{arquero:function(){return g},arrow11:function(){return b},arrow4:function(){return v},arrow9:function(){return y},d3:function(){return o},duckdb:function(){return T},exceljs:function(){return x},graphviz:function(){return s},highlight:function(){return u},htl:function(){return d},inputs:function(){return i},jszip:function(){return f},katex:function(){return c},leaflet:function(){return E},lodash:function(){return l},marked:function(){return p},mermaid:function(){return k},plot:function(){return a},sql:function(){return w},topojson:function(){return A},vega:function(){return m},vegalite:function(){return h},vegaliteApi:function(){return _}});var r=t(10170);const o=(0,r.dependency)("d3","7.8.4","dist/d3.min.js"),i=(0,r.dependency)("@observablehq/inputs","0.10.4","dist/inputs.min.js"),a=(0,r.dependency)("@observablehq/plot","0.6.6","dist/plot.umd.min.js"),s=(0,r.dependency)("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),u=(0,r.dependency)("@observablehq/highlight.js","2.0.0","highlight.min.js"),c=(0,r.dependency)("@observablehq/katex","0.11.1","dist/katex.min.js"),l=(0,r.dependency)("lodash","4.17.21","lodash.min.js"),d=(0,r.dependency)("htl","0.3.1","dist/htl.min.js"),f=(0,r.dependency)("jszip","3.10.1","dist/jszip.min.js"),p=(0,r.dependency)("marked","0.3.12","marked.min.js"),w=(0,r.dependency)("sql.js","1.8.0","dist/sql-wasm.js"),m=(0,r.dependency)("vega","5.22.1","build/vega.min.js"),h=(0,r.dependency)("vega-lite","5.6.0","build/vega-lite.min.js"),_=(0,r.dependency)("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),v=(0,r.dependency)("apache-arrow","4.0.1","Arrow.es2015.min.js"),y=(0,r.dependency)("apache-arrow","9.0.0","+esm"),b=(0,r.dependency)("apache-arrow","11.0.0","+esm"),g=(0,r.dependency)("arquero","4.8.8","dist/arquero.min.js"),A=(0,r.dependency)("topojson-client","3.1.0","dist/topojson-client.min.js"),x=(0,r.dependency)("exceljs","4.3.0","dist/exceljs.min.js"),k=(0,r.dependency)("mermaid","9.2.2","dist/mermaid.min.js"),E=(0,r.dependency)("leaflet","1.9.3","dist/leaflet.js"),T=(0,r.dependency)("@duckdb/duckdb-wasm","1.24.0","+esm")},10170:function(e,n,t){function r(e,n,t){return{resolve:(r=t)=>`${e}@${n}/${r}`}}t.r(n),t.d(n,{dependency:function(){return r}})},76342:function(e,n,t){function r(e,n){var t=document.createElement("canvas");return t.width=e,t.height=n,t}t.r(n),t.d(n,{canvas:function(){return r}})},24937:function(e,n,t){function r(e,n,t){null==t&&(t=devicePixelRatio);var r=document.createElement("canvas");r.width=e*t,r.height=n*t,r.style.width=e+"px";var o=r.getContext("2d");return o.scale(t,t),o}t.r(n),t.d(n,{context2d:function(){return r}})},32938:function(e,n,t){function r(e,n="untitled",t="Save"){const r=document.createElement("a"),o=r.appendChild(document.createElement("button"));async function i(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),o.textContent=t,o.disabled=!1}return o.textContent=t,r.download=n,r.onclick=async n=>{if(o.disabled=!0,r.href)return i();o.textContent="Saving\u2026";try{const n=await("function"===typeof e?e():e);o.textContent="Download",r.href=URL.createObjectURL(n)}catch(a){o.textContent=t}if(n.eventPhase)return i();o.disabled=!1},r}t.r(n),t.d(n,{download:function(){return r}})},63380:function(e,n,t){t.r(n),t.d(n,{element:function(){return o}});var r={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(e,n){var t,o=e+="",i=o.indexOf(":");i>=0&&"xmlns"!==(o=e.slice(0,i))&&(e=e.slice(i+1));var a=r.hasOwnProperty(o)?document.createElementNS(r[o],e):document.createElement(e);if(n)for(var s in n)i=(o=s).indexOf(":"),t=n[s],i>=0&&"xmlns"!==(o=s.slice(0,i))&&(s=s.slice(i+1)),r.hasOwnProperty(o)?a.setAttributeNS(r[o],s,t):a.setAttribute(s,t);return a}},81820:function(e,n,t){t.r(n),t.d(n,{canvas:function(){return r.canvas},context2d:function(){return o.context2d},download:function(){return i.download},element:function(){return a.element},input:function(){return s.input},range:function(){return u.range},select:function(){return c.select},svg:function(){return l.svg},text:function(){return d.text},uid:function(){return f.uid}});var r=t(76342),o=t(24937),i=t(32938),a=t(63380),s=t(37585),u=t(57170),c=t(31106),l=t(55895),d=t(30281),f=t(81831)},37585:function(e,n,t){function r(e){var n=document.createElement("input");return null!=e&&(n.type=e),n}t.r(n),t.d(n,{input:function(){return r}})},57170:function(e,n,t){function r(e,n,t){1===arguments.length&&(n=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=n=null==n?1:+n,r.step=null==t?"any":t=+t,r.type="range",r}t.r(n),t.d(n,{range:function(){return r}})},31106:function(e,n,t){function r(e){var n=document.createElement("select");return Array.prototype.forEach.call(e,(function(e){var t=document.createElement("option");t.value=t.textContent=e,n.appendChild(t)})),n}t.r(n),t.d(n,{select:function(){return r}})},55895:function(e,n,t){function r(e,n){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewBox",[0,0,e,n]),t.setAttribute("width",e),t.setAttribute("height",n),t}t.r(n),t.d(n,{svg:function(){return r}})},30281:function(e,n,t){function r(e){return document.createTextNode(e)}t.r(n),t.d(n,{text:function(){return r}})},81831:function(e,n,t){t.r(n),t.d(n,{uid:function(){return o}});var r=0;function o(e){return new i("O-"+(null==e?"":e+"-")+ ++r)}function i(e){this.id=e,this.href=new URL(`#${e}`,location)+""}i.prototype.toString=function(){return"url("+this.href+")"}},93874:function(e,n,t){t.r(n),t.d(n,{DuckDBClient:function(){return c}});var r=t(29391),o=t(57938),i=t(67363),a=t(98513),s=t(19204);let u;class c{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,n){const t=await this._db.connect();let r,i;try{if(n?.length>0){const o=await t.prepare(e);r=await o.send(...n)}else r=await t.send(e);if(i=await r.next(),i.done)throw new Error("missing first batch")}catch(a){throw await t.close(),a}return{schema:(0,o.getArrowTableSchema)(i.value),async*readRows(){try{for(;!i.done;)yield i.value.toArray(),i=await r.next()}finally{await t.close()}}}}async query(e,n){const t=await this.queryStream(e,n),r=[];for await(const o of t.readRows())for(const e of o)r.push(e);return r.schema=t.schema,r}async queryRow(e,n){const t=(await this.queryStream(e,n)).readRows();try{const{done:e,value:n}=await t.next();return e||!n.length?null:n[0]}finally{await t.return()}}async sql(e,...n){return await this.query(e.join("?"),n)}queryTag(e,...n){return[e.join("?"),n]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map((({name:e})=>({name:e})))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map((({column_name:e,column_type:n,null:t})=>({name:e,type:p(n),nullable:"NO"!==t,databaseType:n})))}static async of(e={},n={}){const p=await async function(){void 0===u&&(u=async function(){const e=await t(61187)(`${s.cdn}${i.duckdb.resolve()}`),n=await e.selectBundle({mvp:{mainModule:`${s.cdn}${i.duckdb.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${s.cdn}${i.duckdb.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${s.cdn}${i.duckdb.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${s.cdn}${i.duckdb.resolve("dist/duckdb-browser-eh.worker.js")}`}}),r=new e.ConsoleLogger;return{module:e,bundle:n,logger:r}}());const{module:e,bundle:n,logger:r}=await u,o=await e.createWorker(n.mainWorker),a=new e.AsyncDuckDB(r,o);return await a.instantiate(n.mainModule),a}();return void 0===n.query?.castTimestampToDate&&(n={...n,query:{...n.query,castTimestampToDate:!0}}),void 0===n.query?.castBigIntToDouble&&(n={...n,query:{...n.query,castBigIntToDouble:!0}}),await p.open(n),await Promise.all(Object.entries(e).map((async([e,n])=>{if(n instanceof a.FileAttachment)await l(p,e,n);else if((0,o.isArrowTable)(n))await d(p,e,n);else if(Array.isArray(n))await f(p,e,n);else if((0,r.isArqueroTable)(n))await async function(e,n,t){const r=(await(0,o.loadArrow)()).tableFromIPC(t.toArrowBuffer());return await d(e,n,r)}(p,e,n);else if("data"in n){const{data:t,...r}=n;(0,o.isArrowTable)(t)?await d(p,e,t,r):await f(p,e,t,r)}else{if(!("file"in n))throw new Error(`invalid source: ${n}`);{const{file:t,...r}=n;await l(p,e,t,r)}}}))),new c(p)}}async function l(e,n,t,r){const o=await t.url();if(o.startsWith("blob:")){const n=await t.arrayBuffer();await e.registerFileBuffer(t.name,new Uint8Array(n))}else await e.registerFileURL(t.name,o,4);const i=await e.connect();try{switch(t.mimeType){case"text/csv":case"text/tab-separated-values":return await i.insertCSVFromPath(t.name,{name:n,schema:"main",...r}).catch((async e=>{if(e.toString().includes("Could not convert"))return await async function(e,n,t){const r=await e.prepare(`CREATE TABLE '${t}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`);return await r.send(n.name)}(i,t,n);throw e}));case"application/json":return await i.insertJSONFromPath(t.name,{name:n,schema:"main",...r});default:if(/\.arrow$/i.test(t.name)){const e=new Uint8Array(await t.arrayBuffer());return await i.insertArrowFromIPCStream(e,{name:n,schema:"main",...r})}if(/\.parquet$/i.test(t.name))return await i.query(`CREATE VIEW '${n}' AS SELECT * FROM parquet_scan('${t.name}')`);throw new Error(`unknown file type: ${t.mimeType}`)}}finally{await i.close()}}async function d(e,n,t,r){const o=await e.connect();try{await o.insertArrowTable(t,{name:n,schema:"main",...r})}finally{await o.close()}}async function f(e,n,t,r){const i=(await(0,o.loadArrow)()).tableFromJSON(t);return await d(e,n,i,r)}function p(e){switch(e){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(e)?"integer":"other"}}Object.defineProperty(c.prototype,"dialect",{value:"duckdb"})},98513:function(e,n,t){t.r(n),t.d(n,{AbstractFile:function(){return h},FileAttachment:function(){return _},FileAttachments:function(){return y},NoFileAttachments:function(){return v},ZipArchive:function(){return b},enforceSchema:function(){return w}});var r=(0,t(59038).Z)("\t"),o=r.parse,i=r.parseRows,a=(r.format,r.formatBody,r.formatRows,r.formatRow,r.formatValue,t(76348)),s=t(46531),u=t(67363),c=t(19204),l=t(64054),d=t(77642),f=t(40538);async function p(e){const n=await fetch(await e.url());if(!n.ok)throw new Error(`Unable to load file: ${e.name}`);return n}function w(e,n){const t=new Map(n.map((({name:e,type:n})=>[e,n])));return Object.assign(e.map((e=>(0,d.coerceRow)(e,t,n))),{schema:n})}async function m(e,n,{array:t=!1,typed:r=!1}={}){const u=await e.text(),c="\t"===n?t?i:o:t?a.Bj:a.ue;if("auto"===r&&!t){const e=c(u);return w(e,(0,d.inferSchema)(e,e.columns))}return c(u,r&&s.Z)}class h{constructor(e,n){Object.defineProperty(this,"name",{value:e,enumerable:!0}),void 0!==n&&Object.defineProperty(this,"mimeType",{value:n+"",enumerable:!0})}async blob(){return(await p(this)).blob()}async arrayBuffer(){return(await p(this)).arrayBuffer()}async text(){return(await p(this)).text()}async json(){return(await p(this)).json()}async stream(){return(await p(this)).body}async csv(e){return m(this,",",e)}async tsv(e){return m(this,"\t",e)}async image(e){const n=await this.url();return new Promise(((t,r)=>{const o=new Image;new URL(n,document.baseURI).origin!==new URL(location).origin&&(o.crossOrigin="anonymous"),Object.assign(o,e),o.onload=()=>t(o),o.onerror=()=>r(new Error(`Unable to load file: ${this.name}`)),o.src=n}))}async arrow({version:e=4}={}){switch(e){case 4:{const[e,n]=await Promise.all([(0,c.requireDefault)(u.arrow4.resolve()),p(this)]);return e.Table.from(n)}case 9:{const[e,n]=await Promise.all([t(61187)(`${c.cdn}${u.arrow9.resolve()}`),p(this)]);return e.tableFromIPC(n)}case 11:{const[e,n]=await Promise.all([t(61187)(`${c.cdn}${u.arrow11.resolve()}`),p(this)]);return e.tableFromIPC(n)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return l.SQLiteDatabaseClient.open(p(this))}async zip(){const[e,n]=await Promise.all([(0,c.requireDefault)(u.jszip.resolve()),this.arrayBuffer()]);return new b(await e.loadAsync(n))}async xml(e="application/xml"){return(new DOMParser).parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,n]=await Promise.all([(0,c.requireDefault)(u.exceljs.resolve()),this.arrayBuffer()]);return new f.Workbook(await(new e.Workbook).xlsx.load(n))}}class _ extends h{constructor(e,n,t){super(n,t),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function v(e){throw new Error(`File not found: ${e}`)}function y(e){return Object.assign((n=>{const t=e(n+="");if(null==t)throw new Error(`File not found: ${n}`);if("object"===typeof t&&"url"in t){const{url:e,mimeType:r}=t;return new _(e,n,r)}return new _(t,n)}),{prototype:_.prototype})}class b{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter((n=>!e.files[n].dir))}file(e){const n=this._.file(e+="");if(!n||n.dir)throw new Error(`file not found: ${e}`);return new g(n)}}class g extends h{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}},43825:function(e,n,t){function r(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(){n(r.result)},r.onerror=t,r.readAsArrayBuffer(e)}))}t.r(n),t.d(n,{buffer:function(){return r}})},46155:function(e,n,t){t.r(n),t.d(n,{buffer:function(){return r.buffer},text:function(){return o.text},url:function(){return i.url}});var r=t(43825),o=t(9974),i=t(12174)},9974:function(e,n,t){function r(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(){n(r.result)},r.onerror=t,r.readAsText(e)}))}t.r(n),t.d(n,{text:function(){return r}})},12174:function(e,n,t){function r(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(){n(r.result)},r.onerror=t,r.readAsDataURL(e)}))}t.r(n),t.d(n,{url:function(){return r}})},12238:function(e,n,t){t.r(n),t.d(n,{disposable:function(){return o}});var r=t(5243);function o(e,n){let t=!1;if("function"!==typeof n)throw new Error("dispose is not a function");return{[Symbol.iterator]:r.that,next:()=>t?{done:!0}:(t=!0,{done:!1,value:e}),return:()=>(t=!0,n(e),{done:!0}),throw:()=>({done:t=!0})}}},45731:function(e,n,t){function*r(e,n){for(var t,r=-1;!(t=e.next()).done;)n(t.value,++r)&&(yield t.value)}t.r(n),t.d(n,{filter:function(){return r}})},26785:function(e,n,t){t.r(n),t.d(n,{disposable:function(){return r.disposable},filter:function(){return o.filter},input:function(){return i.input},map:function(){return a.map},observe:function(){return s.observe},queue:function(){return u.queue},range:function(){return c.range},valueAt:function(){return l.valueAt},worker:function(){return d.worker}});var r=t(12238),o=t(45731),i=t(13443),a=t(33921),s=t(61367),u=t(49042),c=t(52707),l=t(15890),d=t(8179)},13443:function(e,n,t){t.r(n),t.d(n,{input:function(){return o}});var r=t(61367);function o(e){return(0,r.observe)((function(n){var t=function(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(e),r=i(e);function o(){n(i(e))}return e.addEventListener(t,o),void 0!==r&&n(r),function(){e.removeEventListener(t,o)}}))}function i(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];case"select-multiple":return Array.from(e.selectedOptions,(e=>e.value));default:return e.value}}},33921:function(e,n,t){function*r(e,n){for(var t,r=-1;!(t=e.next()).done;)yield n(t.value,++r)}t.r(n),t.d(n,{map:function(){return r}})},61367:function(e,n,t){t.r(n),t.d(n,{observe:function(){return o}});var r=t(5243);function o(e){let n,t,o=!1;const i=e((function(e){t?(t(e),t=null):o=!0;return n=e}));if(null!=i&&"function"!==typeof i)throw new Error("function"===typeof i.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:r.that,throw:()=>({done:!0}),return:()=>(null!=i&&i(),{done:!0}),next:function(){return{done:!1,value:o?(o=!1,Promise.resolve(n)):new Promise((e=>t=e))}}}}},49042:function(e,n,t){t.r(n),t.d(n,{queue:function(){return o}});var r=t(5243);function o(e){let n;const t=[],o=e((function(e){t.push(e),n&&(n(t.shift()),n=null);return e}));if(null!=o&&"function"!==typeof o)throw new Error("function"===typeof o.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:r.that,throw:()=>({done:!0}),return:()=>(null!=o&&o(),{done:!0}),next:function(){return{done:!1,value:t.length?Promise.resolve(t.shift()):new Promise((e=>n=e))}}}}},52707:function(e,n,t){function*r(e,n,t){e=+e,n=+n,t=(o=arguments.length)<2?(n=e,e=0,1):o<3?1:+t;for(var r=-1,o=0|Math.max(0,Math.ceil((n-e)/t));++r<o;)yield e+r*t}t.r(n),t.d(n,{range:function(){return r}})},15890:function(e,n,t){function r(e,n){if(!(!isFinite(n=+n)||n<0||n!==n|0))for(var t,r=-1;!(t=e.next()).done;)if(++r===n)return t.value}t.r(n),t.d(n,{valueAt:function(){return r}})},8179:function(e,n,t){t.r(n),t.d(n,{worker:function(){return o}});var r=t(12238);function o(e){const n=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),t=new Worker(n);return(0,r.disposable)(t,(()=>{t.terminate(),URL.revokeObjectURL(n)}))}},46566:function(e,n,t){t.r(n),t.d(n,{html:function(){return r}});const r=(0,t(19225).template)((function(e){var n=document.createElement("template");return n.innerHTML=e.trim(),document.importNode(n.content,!0)}),(function(){return document.createElement("span")}))},7138:function(e,n,t){t.r(n),t.d(n,{AbstractFile:function(){return r.AbstractFile},FileAttachments:function(){return r.FileAttachments},Library:function(){return o.Library},applyDataTableOperations:function(){return s.__table},arrayIsPrimitive:function(){return s.arrayIsPrimitive},getArrowTableSchema:function(){return i.getArrowTableSchema},getSchema:function(){return s.getSchema},getTypeValidator:function(){return s.getTypeValidator},inferSchema:function(){return s.inferSchema},isArqueroTable:function(){return a.isArqueroTable},isArrowTable:function(){return i.isArrowTable},isDataArray:function(){return s.isDataArray},isDatabaseClient:function(){return s.isDatabaseClient},loadDataSource:function(){return s.loadDataSource},makeQueryTemplate:function(){return s.makeQueryTemplate}});var r=t(98513),o=t(64739),i=t(57938),a=t(29391),s=t(77642)},53861:function(e,n,t){t.r(n),t.d(n,{leaflet:function(){return o}});var r=t(67363);async function o(e){const n=await e(r.leaflet.resolve());if(!n._style){const t=document.createElement("link");t.rel="stylesheet",t.href=await e.resolve(r.leaflet.resolve("dist/leaflet.css")),n._style=document.head.appendChild(t)}return n}},64739:function(e,n,t){t.r(n),t.d(n,{Library:function(){return E}});var r=t(88961),o=t(81820),i=t(46155),a=t(98513),s=t(26785),u=t(93874),c=t(46566),l=t(53861),d=t(21715),f=t(29376),p=t(30221),w=t(3666),m=t(15898),h=t(95545),_=t(19204),v=t(64054),y=t(54745),b=t(40667),g=t(70423),A=t(10282),x=t(67363),k=t(77642);const E=Object.assign(Object.defineProperties((function(e){const n=(0,_.requirer)(e);var t;Object.defineProperties(this,(t={FileAttachment:()=>a.NoFileAttachments,Mutable:()=>p.Mutable,now:w.now,width:A.width,dot:()=>n(x.graphviz.resolve()),htl:()=>n(x.htl.resolve()),html:()=>c.html,md:()=>(0,d.md)(n),svg:()=>y.svg,tex:()=>(0,b.tex)(n),_:()=>n(x.lodash.resolve()),aq:()=>n.alias({"apache-arrow":x.arrow4.resolve()})(x.arquero.resolve()),Arrow:()=>n(x.arrow4.resolve()),d3:()=>n(x.d3.resolve()),DuckDBClient:()=>u.DuckDBClient,Inputs:()=>n(x.inputs.resolve()).then((e=>({...e,file:e.fileOf(a.AbstractFile)}))),L:()=>(0,l.leaflet)(n),mermaid:()=>(0,f.mermaid)(n),Plot:()=>n(x.plot.resolve()),__query:()=>k.__query,require:()=>n,resolve:()=>h.resolve,SQLite:()=>(0,v.SQLite)(n),SQLiteDatabaseClient:()=>v.SQLiteDatabaseClient,topojson:()=>n(x.topojson.resolve()),vl:()=>(0,g.vl)(n),aapl:()=>new a.FileAttachment("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new a.FileAttachment("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new a.FileAttachment("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new a.FileAttachment("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new a.FileAttachment("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new a.FileAttachment("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new a.FileAttachment("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new a.FileAttachment("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new a.FileAttachment("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new a.FileAttachment("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new a.FileAttachment("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:o,Files:i,Generators:s,Promises:m},Object.fromEntries(Object.entries(t).map(T))))}),{resolve:{get:()=>_.requireDefault.resolve,enumerable:!0,configurable:!0},require:{get:()=>_.requireDefault,set:_.setDefaultRequire,enumerable:!0,configurable:!0}}),{resolveFrom:r.f1,requireFrom:r.ZW});function T([e,n]){return[e,{value:n,writable:!0,enumerable:!0}]}},21715:function(e,n,t){t.r(n),t.d(n,{md:function(){return i}});var r=t(67363),o=t(19225);function i(e){return e(r.marked.resolve()).then((function(n){return(0,o.template)((function(t){var o=document.createElement("div");o.innerHTML=n(t,{langPrefix:""}).trim();var i=o.querySelectorAll("pre code[class]");return i.length>0&&e(r.highlight.resolve()).then((function(n){i.forEach((function(t){function o(){n.highlightBlock(t),t.parentNode.classList.add("observablehq--md-pre")}n.getLanguage(t.className)?o():e(r.highlight.resolve("async-languages/index.js")).then((o=>{if(o.has(t.className))return e(r.highlight.resolve("async-languages/"+o.get(t.className))).then((e=>{n.registerLanguage(t.className,e)}))})).then(o,o)}))})),o}),(function(){return document.createElement("div")}))}))}},29376:function(e,n,t){t.r(n),t.d(n,{mermaid:function(){return i}});var r=t(67363),o=t(81831);async function i(e){const n=await e(r.mermaid.resolve());return n.initialize({securityLevel:"loose",theme:"neutral"}),function(){const e=document.createElement("div");return e.innerHTML=n.render((0,o.uid)().id,String.raw.apply(String,arguments)),e.removeChild(e.firstChild)}}},30221:function(e,n,t){t.r(n),t.d(n,{Mutable:function(){return o}});var r=t(61367);function o(e){let n;Object.defineProperties(this,{generator:{value:(0,r.observe)((e=>{n=e}))},value:{get:()=>e,set:t=>n(e=t)}}),void 0!==e&&n(e)}},3666:function(e,n,t){function*r(){for(;;)yield Date.now()}t.r(n),t.d(n,{now:function(){return r}})},52984:function(e,n,t){function r(e,n){return new Promise((function(t){setTimeout((function(){t(n)}),e)}))}t.r(n),t.d(n,{delay:function(){return r}})},15898:function(e,n,t){t.r(n),t.d(n,{delay:function(){return r.delay},tick:function(){return o.tick},when:function(){return i.when}});var r=t(52984),o=t(22989),i=t(37782)},22989:function(e,n,t){t.r(n),t.d(n,{tick:function(){return o}});var r=t(37782);function o(e,n){return(0,r.when)(Math.ceil((Date.now()+1)/e)*e,n)}},37782:function(e,n,t){t.r(n),t.d(n,{when:function(){return o}});var r=new Map;function o(e,n){var t;return(t=r.get(e=+e))?t.then((()=>n)):(t=Date.now())>=e?Promise.resolve(n):function(e,n){var t=new Promise((function(t){r.delete(n);var o=n-e;if(!(o>0))throw new Error("invalid time");if(o>2147483647)throw new Error("too long to wait");setTimeout(t,o)}));return r.set(n,t),t}(t,e).then((()=>n))}},19204:function(e,n,t){t.r(n),t.d(n,{cdn:function(){return o},requireDefault:function(){return i},requirer:function(){return s},setDefaultRequire:function(){return a}});var r=t(88961);const o="https://cdn.observableusercontent.com/npm/";let i=r.pF;function a(e){i=e}function s(e){return null==e?i:(0,r.ZW)(e)}},95545:function(e,n,t){function r(e,n){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==n?location:n).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}t.r(n),t.d(n,{resolve:function(){return r}})},64054:function(e,n,t){t.r(n),t.d(n,{SQLite:function(){return i},SQLiteDatabaseClient:function(){return a}});var r=t(67363),o=t(19204);async function i(e){const[n,t]=await Promise.all([e(r.sql.resolve()),e.resolve(r.sql.resolve("dist/"))]);return n({locateFile:e=>`${t}${e}`})}class a{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[n,t]=await Promise.all([i(o.requireDefault),Promise.resolve(e).then(u)]);return new a(new n.Database(t))}async query(e,n){return await async function(e,n,t){const[r]=await e.exec(n,t);if(!r)return[];const{columns:o,values:i}=r,a=i.map((e=>Object.fromEntries(e.map(((e,n)=>[o[n],e])))));return a.columns=o,a}(this._db,e,n)}async queryRow(e,n){return(await this.query(e,n))[0]||null}async explain(e,n){return c("pre",{className:"observablehq--inspect"},[l((await this.query(`EXPLAIN QUERY PLAN ${e}`,n)).map((e=>e.detail)).join("\n"))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${null==e?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,null==e?[]:[e])}async describeColumns({schema:e,table:n}={}){if(null==n)throw new Error("missing table");const t=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${null==e?"":", ?"}) ORDER BY cid`,null==e?[n]:[n,e]);if(!t.length)throw new Error(`table not found: ${n}`);return t.map((({name:e,type:n,notnull:t})=>({name:e,type:s(n),databaseType:n,nullable:!t})))}async describe(e){const n=await(void 0===e?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!n.length)throw new Error("Not found");const{columns:t}=n;return c("table",{value:n},[c("thead",[c("tr",t.map((e=>c("th",[l(e)]))))]),c("tbody",n.map((e=>c("tr",t.map((n=>c("td",[l(e[n])])))))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...n){return[e.join("?"),n]}}function s(e){switch(e){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":case"DATE":case"DATETIME":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(e)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(e)?"number":"other"}}function u(e){return"string"===typeof e?fetch(e).then(u):e instanceof Response||e instanceof Blob?e.arrayBuffer().then(u):e instanceof ArrayBuffer?new Uint8Array(e):e}function c(e,n,t){2===arguments.length&&(t=n,n=void 0);const r=document.createElement(e);if(void 0!==n)for(const o in n)r[o]=n[o];if(void 0!==t)for(const o of t)r.appendChild(o);return r}function l(e){return document.createTextNode(e)}Object.defineProperty(a.prototype,"dialect",{value:"sqlite"})},54745:function(e,n,t){t.r(n),t.d(n,{svg:function(){return r}});const r=(0,t(19225).template)((function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.innerHTML=e.trim(),n}),(function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}))},77642:function(e,n,t){function r(e,n){return null==e||null==n?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function o(e,n=r){let t,o=!1;if(1===n.length){let i;for(const a of e){const e=n(a);(o?r(e,i)>0:0===r(e,e))&&(t=a,i=e,o=!0)}}else for(const r of e)(o?n(r,t)>0:0===n(r,r))&&(t=r,o=!0);return t}t.r(n),t.d(n,{__query:function(){return v},__table:function(){return Q},arrayIsPrimitive:function(){return w},coerceRow:function(){return Y},coerceToType:function(){return z},getSchema:function(){return G},getTypeValidator:function(){return Z},inferSchema:function(){return X},isDataArray:function(){return l},isDatabaseClient:function(){return c},loadDataSource:function(){return y},makeQueryTemplate:function(){return T}});var i=t(98513),a=t(29391),s=t(57938),u=t(93874);function c(e,n){return e&&("function"===typeof e.sql||"function"===typeof e.queryTag&&("function"===typeof e.query||"function"===typeof e.queryStream))&&("table"!==n||"function"===typeof e.describeColumns)&&e!==v}function l(e){return Array.isArray(e)&&(d(e.schema)||f(e.columns)||function(e){const n=Math.min(20,e.length);for(let t=0;t<n;++t){const n=e[t];if(null===n||"object"!==typeof n)return!1}return n>0&&function(e){for(const n in e)return!0;return!1}(e[0])}(e)||m(e)||h(e))||_(e)}function d(e){return Array.isArray(e)&&e.every(p)}function f(e){return Array.isArray(e)&&e.every((e=>"string"===typeof e))}function p(e){return e&&"string"===typeof e.name&&"string"===typeof e.type}function w(e){return _(e)||m(e)||h(e)}function m(e){const n=Math.min(20,e.length);if(!(n>0))return!1;let t,r=!1;for(let o=0;o<n;++o){const n=e[o];if(null==n)continue;const i=typeof n;if(void 0===t)switch(i){case"number":case"boolean":case"string":case"bigint":t=i;break;default:return!1}else if(i!==t)return!1;r=!0}return r}function h(e){const n=Math.min(20,e.length);if(!(n>0))return!1;let t=!1;for(let r=0;r<n;++r){const n=e[r];if(null!=n){if(!(n instanceof Date))return!1;t=!0}}return t}function _(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}const v=Object.assign((async(e,n,t,r)=>{if(c(e=await A(await e,r)))return E(e,T(n,e),t);if(l(e))return Q(e,n);if(!e)throw new Error("missing data source");throw new Error("invalid data source")}),{sql:(e,n,t)=>async function(){return E(await x(await e,t),arguments,n)}});async function y(e,n,t){switch(n){case"chart":return g(e);case"table":return A(e,t);case"sql":return x(e,t)}return e}function b(e){const n=new WeakMap;return(t,r)=>{if(!t)throw new Error("data source not found");let o=n.get(t);return(!o||l(t)&&t.length!==o._numRows)&&(o=e(t,r),o._numRows=t.length,n.set(t,o)),o}}const g=b((async e=>{if(e instanceof i.FileAttachment){switch(e.mimeType){case"text/csv":return e.csv({typed:"auto"});case"text/tab-separated-values":return e.tsv({typed:"auto"});case"application/json":return e.json()}throw new Error(`unsupported file type: ${e.mimeType}`)}return e})),A=b((async(e,n)=>{if(e instanceof i.FileAttachment){switch(e.mimeType){case"text/csv":return e.csv();case"text/tab-separated-values":return e.tsv();case"application/json":return e.json();case"application/x-sqlite3":return e.sqlite()}if(/\.(arrow|parquet)$/i.test(e.name))return k(e,n);throw new Error(`unsupported file type: ${e.mimeType}`)}return(0,s.isArrowTable)(e)||(0,a.isArqueroTable)(e)?k(e,n):l(e)&&w(e)?Array.from(e,(e=>({value:e}))):e})),x=b((async(e,n)=>{if(e instanceof i.FileAttachment){switch(e.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return k(e,n);case"application/x-sqlite3":return e.sqlite()}if(/\.(arrow|parquet)$/i.test(e.name))return k(e,n);throw new Error(`unsupported file type: ${e.mimeType}`)}return l(e)?k(await async function(e,n){const t=await(0,s.loadArrow)();return w(e)?t.tableFromArrays({[n]:e}):t.tableFromJSON(e)}(e,n),n):(0,s.isArrowTable)(e)||(0,a.isArqueroTable)(e)?k(e,n):e}));function k(e,n=(e instanceof i.FileAttachment?function(e){return e.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}(e):"__table")){return u.DuckDBClient.of({[n]:e})}async function E(e,n,t){if(!e)throw new Error("missing data source");if("function"===typeof e.queryTag){const r=new AbortController,o={signal:r.signal};if(t.then((()=>r.abort("invalidated"))),"function"===typeof e.queryStream)return async function*(e){let n=performance.now();const t=await e,r=[];r.done=!1,r.error=null,r.schema=t.schema;try{for await(const e of t.readRows()){performance.now()-n>150&&r.length>0&&(yield r,n=performance.now());for(const n of e)r.push(n)}r.done=!0,yield r}catch(o){r.error=o,yield r}}(e.queryStream(...e.queryTag.apply(e,n),o));if("function"===typeof e.query)return e.query(...e.queryTag.apply(e,n),o)}if("function"===typeof e.sql)return e.sql.apply(e,n);throw new Error("source does not implement query, queryStream, or sql")}function T(e,n){const t="function"===typeof n.escape?n.escape:e=>e,{select:r,from:o,filter:i,sort:a,slice:s}=e;if(!o.table)throw new Error("missing from table");if(r.columns&&0===r.columns.length)throw new Error("at least one column must be selected");const u=new Map(e.names?.map((({column:e,name:n})=>[e,n]))),c=[[`SELECT ${r.columns?r.columns.map((e=>{const n=u.get(e);return n?`${t(e)} AS ${t(n)}`:t(e)})).join(", "):"*"} FROM ${j(o.table,t)}`]];for(let l=0;l<i.length;++l)N(l?"\nAND ":"\nWHERE ",c),O(i[l],c,t);for(let l=0;l<a.length;++l)N(l?", ":"\nORDER BY ",c),q(a[l],c,t);if("mssql"===n.dialect||"oracle"===n.dialect){if(null!==s.to||null!==s.from){if(!a.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");N("\nORDER BY ",c),q({column:r.columns[0],direction:"ASC"},c,t)}N(`\nOFFSET ${s.from||0} ROWS`,c),N(`\nFETCH NEXT ${null!==s.to?s.to-(s.from||0):1e9} ROWS ONLY`,c)}}else null===s.to&&null===s.from||N("\nLIMIT "+(null!==s.to?s.to-(s.from||0):1e9),c),null!==s.from&&N(` OFFSET ${s.from}`,c);return c}function j(e,n){if("object"===typeof e){let t="";return null!=e.database&&(t+=n(e.database)+"."),null!=e.schema&&(t+=n(e.schema)+"."),t+=n(e.table),t}return n(e)}function N(e,n){const t=n[0];t[t.length-1]+=e}function q({column:e,direction:n},t,r){N(`${r(e)} ${n.toUpperCase()}`,t)}function O({type:e,operands:n},t,r){if(n.length<1)throw new Error("Invalid operand length");if(1===n.length||"v"===e||"nv"===e)switch(S(n[0],t,r),e){case"n":case"nv":return void N(" IS NULL",t);case"nn":case"v":return void N(" IS NOT NULL",t);default:throw new Error("Invalid filter operation")}if(2!==n.length||["in","nin"].includes(e)){var o;switch(S(n[0],t,r),e){case"in":N(" IN (",t);break;case"nin":N(" NOT IN (",t);break;default:throw new Error("Invalid filter operation")}!function(e,n){let t=!0;for(const r of e)t?t=!1:N(",",n),n.push(r.value),n[0].push("")}(n.slice(1),t),N(")",t)}else{if(["c","nc"].includes(e)){switch(S(n[0],t,r),e){case"c":N(" LIKE ",t);break;case"nc":N(" NOT LIKE ",t)}return void S((o=n[1],{...o,value:`%${o.value}%`}),t,r)}switch(S(n[0],t,r),e){case"eq":N(" = ",t);break;case"ne":N(" <> ",t);break;case"gt":N(" > ",t);break;case"lt":N(" < ",t);break;case"gte":N(" >= ",t);break;case"lte":N(" <= ",t);break;default:throw new Error("Invalid filter operation")}S(n[1],t,r)}}function S(e,n,t){"column"===e.type?N(t(e.value),n):(n.push(e.value),n[0].push(""))}function C(e,n){return(null==e||!(e>=e))-(null==n||!(n>=n))}function I(e,n){return C(e,n)||(e<n?-1:e>n?1:0)}function $(e,n){return C(e,n)||(e>n?-1:e<n?1:0)}const R=e=>"number"===typeof e&&!Number.isNaN(e),M=e=>Number.isInteger(e)&&!Number.isNaN(e),L=e=>"string"===typeof e,D=e=>"boolean"===typeof e,P=e=>"bigint"===typeof e,F=e=>e instanceof Date&&!isNaN(e),U=e=>e instanceof ArrayBuffer,B=e=>Array.isArray(e),W=e=>"object"===typeof e&&null!==e,H=e=>null!=e;function Z(e){switch(e){case"string":return L;case"bigint":return P;case"boolean":return D;case"number":return R;case"integer":return M;case"date":return F;case"buffer":return U;case"array":return B;case"object":return W;default:return H}}const V=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function z(e,n){switch(n){case"string":return"string"===typeof e||null==e?e:String(e);case"boolean":if("string"===typeof e){const n=e.trim().toLowerCase();return"true"===n||"false"!==n&&null}return"boolean"===typeof e||null==e?e:Boolean(e);case"bigint":return"bigint"===typeof e||null==e?e:Number.isInteger("string"!==typeof e||e.trim()?+e:NaN)?BigInt(e):void 0;case"integer":case"number":return"number"===typeof e?e:null==e||"string"===typeof e&&!e.trim()?NaN:Number(e);case"date":{if(e instanceof Date||null==e)return e;if("number"===typeof e)return new Date(e);const n=String(e).trim();return"string"!==typeof e||n?new Date(V.test(n)?n:NaN):null}case"array":case"object":case"buffer":case"other":return e;default:throw new Error(`Unable to coerce to type: ${n}`)}}function G(e){const{columns:n}=e;let{schema:t}=e;return d(t)?{schema:t,inferred:!1}:(t=X(e,f(n)?n:void 0),{schema:t,inferred:!0})}function Q(e,n){const t=e;let{columns:r}=e,{schema:o,inferred:i}=G(e);const a=new Map(o.map((({name:e,type:n})=>[e,n])));if(n.types){for(const{name:e,type:r}of n.types){a.set(e,r),o===t.schema&&(o=o.slice());const n=o.findIndex((n=>n.name===e));n>-1&&(o[n]={...o[n],type:r})}e=e.map((e=>Y(e,a,o)))}else i&&(e=e.map((e=>Y(e,a,o))));for(const{type:c,operands:l}of n.filter){const[{value:n}]=l,t=l.slice(1).map((({value:e})=>e));switch(c){case"v":{const[r]=t,o=Z(r);e=e.filter((e=>o(e[n])));break}case"nv":{const[r]=t,o=Z(r);e=e.filter((e=>!o(e[n])));break}case"eq":{const[r]=t;if(r instanceof Date){const t=+r;e=e.filter((e=>+e[n]===t))}else e=e.filter((e=>e[n]===r));break}case"ne":{const[r]=t;e=e.filter((e=>e[n]!==r));break}case"c":{const[r]=t;e=e.filter((e=>"string"===typeof e[n]&&e[n].includes(r)));break}case"nc":{const[r]=t;e=e.filter((e=>"string"===typeof e[n]&&!e[n].includes(r)));break}case"in":{const r=new Set(t);e=e.filter((e=>r.has(e[n])));break}case"nin":{const r=new Set(t);e=e.filter((e=>!r.has(e[n])));break}case"n":e=e.filter((e=>null==e[n]));break;case"nn":e=e.filter((e=>null!=e[n]));break;case"lt":{const[r]=t;e=e.filter((e=>e[n]<r));break}case"lte":{const[r]=t;e=e.filter((e=>e[n]<=r));break}case"gt":{const[r]=t;e=e.filter((e=>e[n]>r));break}case"gte":{const[r]=t;e=e.filter((e=>e[n]>=r));break}default:throw new Error(`unknown filter type: ${c}`)}}for(const{column:c,direction:l}of function(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}(n.sort)){const n="desc"===l?$:I;e===t&&(e=e.slice()),e.sort(((e,t)=>n(e[c],t[c])))}let{from:s,to:u}=n.slice;if(s=null==s?0:Math.max(0,s),u=null==u?1/0:Math.max(0,u),(s>0||u<1/0)&&(e=e.slice(Math.max(0,s),Math.max(0,u))),n.select.columns){if(o){const e=new Map(o.map((e=>[e.name,e])));o=n.select.columns.map((n=>e.get(n)))}r&&(r=n.select.columns),e=e.map((e=>Object.fromEntries(n.select.columns.map((n=>[n,e[n]])))))}if(n.names){const t=new Map(n.names.map((e=>[e.column,e])));o&&(o=o.map((e=>{const n=t.get(e.name);return{...e,...n?{name:n.name}:null}}))),r&&(r=r.map((e=>t.get(e)?.name??e))),e=e.map((e=>Object.fromEntries(Object.keys(e).map((n=>[t.get(n)?.name??n,e[n]])))))}return e!==t&&(o&&(e.schema=o),r&&(e.columns=r)),e}function Y(e,n,t){const r={};for(const o of t){const t=n.get(o.name),i=e[o.name];r[o.name]="raw"===t?i:z(i,t)}return r}const J=["boolean","integer","number","date","bigint","array","object","buffer"];function X(e,n=function(e){const n=new Set;for(const t of e)if(t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.add(e);return Array.from(n)}(e)){const t=[],r=e.slice(0,100),i={};for(const a of n){const e=i[a]={boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0};for(const t of r){let n=t[a];if(null==n)continue;const r=typeof n;if("string"!==r)++e.defined,Array.isArray(n)?++e.array:n instanceof Date?++e.date:n instanceof ArrayBuffer?++e.buffer:"number"===r?(++e.number,Number.isInteger(n)&&++e.integer):r in e&&++e[r];else{if(n=n.trim(),!n)continue;++e.defined,++e.string,/^(true|false)$/i.test(n)?++e.boolean:n&&!isNaN(n)?(++e.number,Number.isInteger(+n)&&++e.integer):V.test(n)&&++e.date}}const n=Math.max(1,.9*e.defined),s=o(J,(t=>e[t]>=n?e[t]:NaN))??(e.string>=n?"string":"other");t.push({name:a,type:s,inferred:s})}return t}},19225:function(e,n,t){function r(e,n){return function(t){var r,o,i,a,s,u,c,l,d=t[0],f=[],p=null,w=-1;for(s=1,u=arguments.length;s<u;++s){if((r=arguments[s])instanceof Node)f[++w]=r,d+="\x3c!--o:"+w+"--\x3e";else if(Array.isArray(r)){for(c=0,l=r.length;c<l;++c)(o=r[c])instanceof Node?(null===p&&(f[++w]=p=document.createDocumentFragment(),d+="\x3c!--o:"+w+"--\x3e"),p.appendChild(o)):(p=null,d+=o);p=null}else d+=r;d+=t[s]}if(p=e(d),++w>0){for(i=new Array(w),a=document.createTreeWalker(p,NodeFilter.SHOW_COMMENT,null,!1);a.nextNode();)o=a.currentNode,/^o:/.test(o.nodeValue)&&(i[+o.nodeValue.slice(2)]=o);for(s=0;s<w;++s)(o=i[s])&&o.parentNode.replaceChild(f[s],o)}return 1===p.childNodes.length?p.removeChild(p.firstChild):11===p.nodeType?((o=n()).appendChild(p),o):p}}t.r(n),t.d(n,{template:function(){return r}})},40667:function(e,n,t){t.r(n),t.d(n,{tex:function(){return a}});var r=t(67363),o=String.raw;function i(e){return new Promise((function(n,t){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=t,r.onload=n,document.head.appendChild(r)}))}function a(e){return Promise.all([e(r.katex.resolve()),e.resolve(r.katex.resolve("dist/katex.min.css")).then(i)]).then((function(e){var n=e[0],t=r();function r(e){return function(){var t=document.createElement("div");return n.render(o.apply(String,arguments),t,e),t.removeChild(t.firstChild)}}return t.options=r,t.block=r({displayMode:!0}),t}))}},5243:function(e,n,t){function r(){return this}t.r(n),t.d(n,{that:function(){return r}})},70423:function(e,n,t){t.r(n),t.d(n,{vl:function(){return o}});var r=t(67363);async function o(e){const[n,t,o]=await Promise.all([r.vega,r.vegalite,r.vegaliteApi].map((n=>e(n.resolve()))));return o.register(n,t)}},10282:function(e,n,t){t.r(n),t.d(n,{width:function(){return o}});var r=t(61367);function o(){return(0,r.observe)((function(e){var n=e(document.body.clientWidth);function t(){var t=document.body.clientWidth;t!==n&&e(n=t)}return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}))}},40538:function(e,n,t){t.r(n),t.d(n,{Workbook:function(){return r}});class r{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map((e=>e.name)),enumerable:!0}})}sheet(e,n){const t="number"===typeof e?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(null==t)throw new Error(`Sheet not found: ${e}`);return function(e,{range:n,headers:t}={}){let[[r,i],[u,c]]=function(e=":",{columnCount:n,rowCount:t}){if(!(e+="").match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,o=0],[i=n-1,a=t-1]]=e.split(":").map(s);return[[r,o],[i,a]]}(n,e);const l=t?e._rows[i++]:null;let d=new Set(["#"]);for(let s=r;s<=u;s++){const e=l?o(l.findCell(s+1)):null;let n=e&&e+""||a(s);for(;d.has(n);)n+="_";d.add(n)}d=new Array(r).concat(Array.from(d));const f=new Array(c-i+1);for(let a=i;a<=c;a++){const n=f[a-i]=Object.create(null,{"#":{value:a+1}}),t=e.getRow(a+1);if(t.hasValues)for(let e=r;e<=u;e++){const r=o(t.findCell(e+1));null!=r&&(n[d[e+1]]=r)}}return f.columns=d.filter((()=>!0)),f}(this._.getWorksheet(t),n)}}function o(e){if(!e)return;const{value:n}=e;if(n&&"object"===typeof n&&!(n instanceof Date)){if(n.formula||n.sharedFormula)return n.result&&n.result.error?NaN:n.result;if(n.richText)return i(n);if(n.text){let{text:e}=n;return e.richText&&(e=i(e)),n.hyperlink&&n.hyperlink!==e?`${n.hyperlink} ${e}`:e}return n}return n}function i(e){return e.richText.map((e=>e.text)).join("")}function a(e){let n="";e++;do{n=String.fromCharCode(64+(e%26||26))+n}while(e=Math.floor((e-1)/26));return n}function s(e){const[,n,t]=e.match(/^([A-Z]*)(\d*)$/);let r=0;if(n)for(let o=0;o<n.length;o++)r+=Math.pow(26,n.length-o-1)*(n.charCodeAt(o)-64);return[r?r-1:void 0,t?+t-1:void 0]}},46531:function(e,n,t){function r(e){for(var n in e){var t,r,i=e[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(t=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;o&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=t;else i=null;e[n]=i}return e}t.d(n,{Z:function(){return r}});const o=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours()},76348:function(e,n,t){t.d(n,{Bj:function(){return i},ue:function(){return o}});var r=(0,t(59038).Z)(","),o=r.parse,i=r.parseRows;r.format,r.formatBody,r.formatRows,r.formatRow,r.formatValue},59038:function(e,n,t){t.d(n,{Z:function(){return c}});var r={},o={};function i(e){return new Function("d","return {"+e.map((function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'})).join(",")+"}")}function a(e){var n=Object.create(null),t=[];return e.forEach((function(e){for(var r in e)r in n||t.push(n[r]=r)})),t}function s(e,n){var t=e+"",r=t.length;return r<n?new Array(n-r+1).join(0)+t:t}function u(e){var n,t=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((n=e.getUTCFullYear())<0?"-"+s(-n,6):n>9999?"+"+s(n,6):s(n,4))+"-"+s(e.getUTCMonth()+1,2)+"-"+s(e.getUTCDate(),2)+(i?"T"+s(t,2)+":"+s(r,2)+":"+s(o,2)+"."+s(i,3)+"Z":o?"T"+s(t,2)+":"+s(r,2)+":"+s(o,2)+"Z":r||t?"T"+s(t,2)+":"+s(r,2)+"Z":"")}function c(e){var n=new RegExp('["'+e+"\n\r]"),t=e.charCodeAt(0);function s(e,n){var i,a=[],s=e.length,u=0,c=0,l=s<=0,d=!1;function f(){if(l)return o;if(d)return d=!1,r;var n,i,a=u;if(34===e.charCodeAt(a)){for(;u++<s&&34!==e.charCodeAt(u)||34===e.charCodeAt(++u););return(n=u)>=s?l=!0:10===(i=e.charCodeAt(u++))?d=!0:13===i&&(d=!0,10===e.charCodeAt(u)&&++u),e.slice(a+1,n-1).replace(/""/g,'"')}for(;u<s;){if(10===(i=e.charCodeAt(n=u++)))d=!0;else if(13===i)d=!0,10===e.charCodeAt(u)&&++u;else if(i!==t)continue;return e.slice(a,n)}return l=!0,e.slice(a,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(i=f())!==o;){for(var p=[];i!==r&&i!==o;)p.push(i),i=f();n&&null==(p=n(p,c++))||a.push(p)}return a}function c(n,t){return n.map((function(n){return t.map((function(e){return d(n[e])})).join(e)}))}function l(n){return n.map(d).join(e)}function d(e){return null==e?"":e instanceof Date?u(e):n.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,n){var t,r,o=s(e,(function(e,o){if(t)return t(e,o-1);r=e,t=n?function(e,n){var t=i(e);return function(r,o){return n(t(r),o,e)}}(e,n):i(e)}));return o.columns=r||[],o},parseRows:s,format:function(n,t){return null==t&&(t=a(n)),[t.map(d).join(e)].concat(c(n,t)).join("\n")},formatBody:function(e,n){return null==n&&(n=a(e)),c(e,n).join("\n")},formatRows:function(e){return e.map(l).join("\n")},formatRow:l,formatValue:d}}},88961:function(e,n,t){t.d(n,{ZW:function(){return m},f1:function(){return p},pF:function(){return w}});const r=new Map,o=[],i=o.map,a=o.some,s=o.hasOwnProperty,u=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,c=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,l=/(?:\.[^/]*|\/)$/;class d extends Error{constructor(e){super(e)}}function f(e){const n=u.exec(e);return n&&{name:n[1],version:n[2],path:n[3]}}function p(e="https://cdn.jsdelivr.net/npm/",n=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(e))throw new Error("origin lacks trailing slash");function t(n){const t=`${e}${n.name}${n.version?`@${n.version}`:""}/package.json`;let o=r.get(t);return o||r.set(t,o=fetch(t).then((e=>{if(!e.ok)throw new d("unable to load package.json");return e.redirected&&!r.has(e.url)&&r.set(e.url,o),e.json()}))),o}return async function(r,o){if(r.startsWith(e)&&(r=r.substring(e.length)),/^(\w+:)|\/\//i.test(r))return r;if(/^[.]{0,2}\//i.test(r))return new URL(r,null==o?location:o).href;if(!r.length||/^[\s._]/.test(r)||/\s$/.test(r))throw new d("illegal name");const i=f(r);if(!i)return`${e}${r}`;if(!i.version&&null!=o&&o.startsWith(e)){const n=await t(f(o.substring(e.length)));i.version=n.dependencies&&n.dependencies[i.name]||n.peerDependencies&&n.peerDependencies[i.name]}if(i.path&&!l.test(i.path)&&(i.path+=".js"),i.path&&i.version&&c.test(i.version))return`${e}${i.name}@${i.version}/${i.path}`;const a=await t(i);return`${e}${a.name}@${a.version}/${i.path||function(e){for(const t of n){let n=e[t];if("string"===typeof n)return n.startsWith("./")&&(n=n.slice(2)),l.test(n)?n:`${n}.js`}}(a)||"index.js"}`}}d.prototype.name=d.name;var w=m(p());function m(e){const n=new Map,t=a(null);function r(e){if("string"!==typeof e)return e;let t=n.get(e);return t||n.set(e,t=new Promise(((n,t)=>{const r=document.createElement("script");r.onload=()=>{try{n(o.pop()(a(e)))}catch(i){t(new d("invalid module"))}r.remove()},r.onerror=()=>{t(new d("unable to load module")),r.remove()},r.async=!0,r.src=e,window.define=y,document.head.appendChild(r)}))),t}function a(n){return t=>Promise.resolve(e(t,n)).then(r)}function s(e){return arguments.length>1?Promise.all(i.call(arguments,t)).then(h):t(e)}return s.alias=function(n){return m(((t,r)=>t in n&&(r=null,"string"!==typeof(t=n[t]))?t:e(t,r)))},s.resolve=e,s}function h(e){const n={};for(const t of e)for(const e in t)s.call(t,e)&&(null==t[e]?Object.defineProperty(n,e,{get:_(t,e)}):n[e]=t[e]);return n}function _(e,n){return()=>e[n]}function v(e){return"exports"===(e+="")||"module"===e}function y(e,n,t){const r=arguments.length;r<2?(t=e,n=[]):r<3&&(t=n,n="string"===typeof e?[]:e),o.push(a.call(n,v)?e=>{const r={},o={exports:r};return Promise.all(i.call(n,(n=>"exports"===(n+="")?r:"module"===n?o:e(n)))).then((e=>(t.apply(null,e),o.exports)))}:e=>Promise.all(i.call(n,e)).then((e=>"function"===typeof t?t.apply(null,e):t)))}y.amd={}}}]);