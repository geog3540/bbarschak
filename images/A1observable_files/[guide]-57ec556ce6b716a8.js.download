(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1749],{22007:function(e,t){"use strict";var n={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},r=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],s=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],o=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],l="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},i="fullscreenEnabled"in l&&Object.keys(n)||r[0]in l&&r||s[0]in l&&s||o[0]in l&&o||[],c={requestFullscreen:function(e){return e[i[n.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[i[n.requestFullscreen]]},get exitFullscreen(){return l[i[n.exitFullscreen]].bind(l)},get fullscreenPseudoClass(){return":"+i[n.fullscreen]},addEventListener:function(e,t,r){return l.addEventListener(i[n[e]],t,r)},removeEventListener:function(e,t,r){return l.removeEventListener(i[n[e]],t,r)},get fullscreenEnabled(){return Boolean(l[i[n.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return l[i[n.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return l[("on"+i[n.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return l[("on"+i[n.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return l[("on"+i[n.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return l[("on"+i[n.fullscreenerror]).toLowerCase()]=e}};t.Z=c},45181:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guide/[guide]",function(){return n(79265)}])},94717:function(e,t,n){"use strict";n.d(t,{i:function(){return f}});var r=n(41799),s=n(69396),o=n(99534),l=n(85893),i=n(60357),c=n.n(i),u=n(80026),a=n(22007),d=n(67294);const f=e=>{var{isFullscreen:t,children:n,dispatch:i}=e,f=(0,o.Z)(e,["isFullscreen","children","dispatch"]);const p=(0,d.useRef)(null);return(0,d.useEffect)((()=>{function e(){p.current&&(a.Z.fullscreenElement?(p.current.focus(),p.current.classList.add("fullscreen-stretch")):(i({type:"exitFullscreen"}),p.current.classList.remove("fullscreen-stretch")))}function t(){(0,u.uT)("Fullscreen error")}return a.Z.addEventListener("fullscreenchange",e),a.Z.addEventListener("fullscreenerror",t),()=>{a.Z.removeEventListener("fullscreenchange",e),a.Z.removeEventListener("fullscreenerror",t)}}),[i]),(0,d.useEffect)((()=>{t&&!a.Z.fullscreenElement&&p.current&&a.Z.requestFullscreen(p.current)}),[t]),(0,l.jsxs)("div",(0,s.Z)((0,r.Z)({},f),{ref:p,className:"jsx-60a718ae68b8f767 "+(f&&null!=f.className&&f.className||""),children:[n,(0,l.jsx)(c(),{id:"60a718ae68b8f767",children:".fullscreen-stretch.jsx-60a718ae68b8f767{padding:1em 4em;background-color:var(--white);width:100%;height:100%;overflow-y:scroll}"})]}))}},9532:function(e,t,n){"use strict";var r=n(41799),s=n(69396),o=n(85893);n(67294);t.Z=e=>(0,o.jsxs)("svg",(0,s.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},e),{children:[(0,o.jsx)("path",{d:"M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,o.jsx)("path",{d:"M7 3H9V7.58579L11.2071 9.79289L9.79289 11.2071L7 8.41421V3Z"})]}))},54713:function(e,t,n){"use strict";n.d(t,{K:function(){return i},y:function(){return l}});var r=n(41799),s=n(69396),o=n(85893);n(67294);const l=e=>(0,o.jsxs)("svg",(0,s.Z)((0,r.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},e),{children:[(0,o.jsx)("path",{d:"M10.3438 0.5C10.3438 4.4585 12.483 8 15.5 8C12.483 8 10.3438 11.5417 10.3438 15.5C10.3438 11.5417 8.2045 8 5.1875 8C8.2045 8 10.3438 4.4585 10.3438 0.5Z"}),(0,o.jsx)("path",{d:"M4.25 8C4.25 9.9795 5.31925 11.75 6.82825 11.75C5.31925 11.75 4.25 13.521 4.25 15.5C4.25 13.521 3.18075 11.75 1.67175 11.75C3.18075 11.75 4.25 9.9795 4.25 8Z"}),(0,o.jsx)("path",{d:"M3.078 0.5C3.078 2.47925 4.14725 4.25 5.65625 4.25C4.1475 4.25 3.078 6.021 3.078 8C3.078 6.021 2.00875 4.25 0.49975 4.25C2.00875 4.25 3.078 2.47925 3.078 0.5Z"})]})),i=e=>(0,o.jsxs)("svg",(0,s.Z)((0,r.Z)({width:"90",height:"88",viewBox:"0 0 90 88",fill:"currentColor"},e),{children:[(0,o.jsx)("path",{d:"M38.4229 37.4613C27.2517 37.4613 19.2115 45.538 19.2115 56.7596C19.2115 45.538 11.1712 37.4613 0 37.4613C11.1712 37.4613 19.2115 29.3847 19.2115 18.1631C19.2115 29.3847 27.2517 37.4613 38.4229 37.4613Z"}),(0,o.jsx)("path",{d:"M54.7641 63.8318C48.0401 63.8318 43.2034 68.6904 43.2034 75.4448C43.2034 68.6904 38.3666 63.8318 31.6426 63.8318C38.3666 63.8318 43.2034 58.9731 43.2034 52.2188C43.2034 58.9731 48.0401 63.8318 54.7641 63.8318Z"})]}))},65074:function(e,t,n){"use strict";n.d(t,{P:function(){return b},y:function(){return y}});var r=n(85893),s=n(3764),o=n(61777),l=n(86057),i=n(28041),c=n(9532),u=n(26492),a=n(98807),d=n(60138),f=n(52433),p=n(54713),h=n(11222),g=n(66421),v=n(3142);function y(e){let t=0;for(const{status:n}of e.files.values())"deleted"!==n&&"deletepending"!==n&&++t;return(0,v.cE)(e)&&(t+=e.model.resolutions.filter(v.HC).length),t>0?t:void 0}function m(e){return e.suggestionsTo.length?e.suggestionsTo.length:void 0}const b=(0,n(4242).$j)((e=>{let{page:t,notebook:n,decorations:r}=e;return{paneType:t.pane,guide:t.guide,canViewHelpSignpost:null!==n.focusId||"help"===r.signpost,canViewHistoryPane:(0,g.pT)(n),canViewInsights:(0,g.ED)(n),filesCount:y(n),suggestionCount:m(n),hasCloudFileError:(0,v.wy)(n)}}),(e=>({dispatch:e})))((e=>{let{guide:t,canViewHelpSignpost:n,canViewHistoryPane:g,canViewInsights:v,hasCloudFileError:y,filesCount:m,suggestionCount:b}=e;const E=[t?{type:"guide",icon:()=>(0,r.jsx)(p.y,{color:"var(--blue)",width:"16"}),label:"guide pane"}:null,{type:"files",icon:i.Z,count:m,label:"files pane",badgeStyle:y?"error":void 0},{type:"databases",icon:s.Z,label:"databases pane"},!t&&g?{type:"history",icon:c.Z,count:b,badgeStyle:"filled",label:b?"history pane (".concat(1===b?"1 suggestion":"".concat(b," suggestions"),")"):"history pane"}:null,{type:"minimap",icon:u.Z,label:"minimap pane"},t?null:{type:"dependencies",icon:o.Z,label:"dependencies pane"},!t&&v?{type:"insights",icon:l.Z,label:"insights pane"}:null,{type:"find",icon:d.Z,label:"find pane"},{type:"help",icon:a.Z,label:"help pane",signpost:n?"help":null}];return(0,r.jsx)(f.YE,{panes:E.filter(h.K)})}))},65878:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(41799),s=n(99534),o=n(85893),l=(n(67294),n(95542)),i=n(51970);function c(e){return t=>{var{error:n}=t,c=(0,s.Z)(t,["error"]);const u=(0,i.S)(c);return n?(0,o.jsx)(l.Z,{error:n,initialCurrentUser:u.initialCurrentUser,initialContext:null}):(0,o.jsx)(e,(0,r.Z)({},u))}}},82029:function(e,t,n){"use strict";n.d(t,{D:function(){return m}});var r=n(67294),s=n(11163);var o=n(51289),l=n(18274),i=n(63527),c=n(3142);function u(e){return null!==e.focusId}function a(e){return null!==e.selectionFocusId||0!==e.selection.size}function d(e){return null!==e.selectionFocusId}function f(){return null!=document.querySelector("[role=dialog]")}const p=(0,i.V)([["Alt-Tab","Shift-Alt-Tab",(e,t)=>{let{editors:n,dispatch:r}=e;return n.refocus()||r({type:t.shiftKey?"focusLast":"focusFirst"}),!0}],["Shift-Mod-j",(e,t)=>{let{editors:n,dispatch:r}=e;return!(0,l.Z)(t)&&(n.refocus()||r({type:"focusLast"}),!0)}],["Escape",()=>document.activeElement instanceof HTMLElement&&document.activeElement!==document.body&&!(0,l.hz)(document.activeElement)&&(document.activeElement.blur(),!0)],[o.Mq?"Mod-g":"F3",o.Mq?"Shift-Mod-g":"Shift-F3",(e,t)=>{let{notebook:n,dispatch:r}=e;return!(!n.searchTerm||!n.searchResultsVisible)&&(r({type:t.shiftKey?"selectPreviousSearchResult":"selectNextSearchResult"}),!0)}]]),h=(e,t)=>{let{notebook:n,dispatch:r}=e;const{focusStack:s,selectionFocusId:o}=n,l=null===o&&s.length?s[s.length-1]:o;return r({type:"openInsertMenu",id:l,before:t.shiftKey!==(null===l),trigger:"keypress",source:"nodeSelection"}),!0},g=(e,t)=>{let{dispatch:n,currentUser:r}=e;return n({type:"selectionInsert",mode:(0,c.Sx)(r),before:t.shiftKey,trigger:"keypress"}),!0},v=(0,i.V)([["?","Shift-?",e=>{let{dispatch:t}=e;return t({type:"togglePane",pane:"help",focusKeyboardShortcuts:!0}),!0}],["k","Shift-k",(e,t)=>{let{dispatch:n}=e;return n({type:"selectionFocusBefore",add:t.shiftKey}),!0}],["j","Shift-j",(e,t)=>{let{dispatch:n}=e;return n({type:"selectionFocusAfter",add:t.shiftKey}),!0}],["ArrowUp","Shift-ArrowUp",(e,t)=>{let{notebook:n,dispatch:r}=e;return!!d(n)&&(r({type:"selectionFocusBefore",add:t.shiftKey}),!0)}],["ArrowDown","Shift-ArrowDown",(e,t)=>{let{notebook:n,dispatch:r}=e;return!!d(n)&&(r({type:"selectionFocusAfter",add:t.shiftKey}),!0)}],["Shift-ArrowLeft",e=>{let{notebook:t,dispatch:n}=e;return!!d(t)&&(n({type:"selectionUpstream"}),!0)}],["Shift-ArrowRight",e=>{let{notebook:t,dispatch:n}=e;return!!d(t)&&(n({type:"selectionDownstream"}),!0)}],["d","Shift-d","Alt-Backspace",e=>{let{dispatch:t}=e;return t({type:"selectionDelete"}),!0}],[".","Mod-.","p","Shift-p","Shift-Ctrl-p",e=>{let{dispatch:t}=e;return t({type:"selectionPin"}),!0}],[",","Mod-,",e=>{let{dispatch:t}=e;return t({type:"selectionHide"}),!0}],["x","Shift-x",e=>{let{dispatch:t}=e;return t({type:"selectionFocusToggle"}),!0}],["c","Shift-c",e=>{let{dispatch:t}=e;return t({type:"selectionComment"}),!0}],["a","Shift-a",e=>{let{dispatch:t}=e;return t({type:"selectionAll"}),!0}],["o","Shift-o",h],["Mod-Enter","Shift-Mod-Enter",(e,t)=>{const{currentUser:n}=e;return((0,c.Sx)(n)?g:h)(e,t)}],["f",e=>{let{dispatch:t}=e;return t({type:"enterFullscreen"}),!0}],["Alt-Enter","Shift-Alt-Enter",(e,t)=>{let{dispatch:n}=e;return n({type:"selectionInsert",inherit:!0,before:t.shiftKey,trigger:"keypress"}),!0}],["Mod-Alt-Enter","Shift-Mod-Alt-Enter",(e,t)=>{const{currentUser:n}=e;return((0,c.Sx)(n)?h:g)(e,t)}],["Enter",e=>{let{notebook:t,dispatch:n}=e;return d(t)?n({type:"selectionFocusEnter"}):n({type:"selectionFocusAfter",add:!1}),!0}],["Shift-Enter",e=>{let{dispatch:t}=e;return t({type:"selectionRun"}),!0}],["Alt-ArrowDown","Ctrl-Shift-ArrowDown",e=>{let{dispatch:t}=e;return t({type:"selectionMoveDown"}),!0}],["Alt-ArrowUp","Ctrl-Shift-ArrowUp",e=>{let{dispatch:t}=e;return t({type:"selectionMoveUp"}),!0}],["Shift-Alt-ArrowDown",e=>{let{dispatch:t}=e;return t({type:"selectionDuplicate",before:!1}),!0}],["Shift-Alt-ArrowUp",e=>{let{dispatch:t}=e;return t({type:"selectionDuplicate",before:!0}),!0}],["Escape",e=>{let{notebook:t,dispatch:n}=e;return n({type:u(t)||a(t)?"selectionBlur":"dismissPane"}),!0}],["Mod-z","Shift-Mod-z",()=>!0],["Shift-Mod-f",e=>{let{dispatch:t}=e;return t({type:"showFindPane"}),!0}]]);var y=n(64889);function m(e,t,n,o){(0,y.C)(t,o),function(e,t,n,s){const o=(0,r.useRef)(e),i=(0,r.useRef)(s);o.current=e,i.current=s,(0,r.useEffect)((()=>{function e(e){if(f())return;const r={notebook:o.current,editors:t,dispatch:n,currentUser:i.current};return p(r,e)||(!(0,l.Z)(e)||!(0,l.hz)(e.target)&&a(o.current))&&!(0,l.bh)(e)&&!(0,c.os)(r.notebook)&&v(r,e)?(e.preventDefault(),void e.stopPropagation()):void 0}function r(e){var t,r;!f()&&a(o.current)&&(null===(r=null===(t=getSelection())||void 0===t?void 0:t.isCollapsed)||void 0===r||r)&&e.clipboardData&&(n({type:"selectionCut",clipboardData:e.clipboardData}),e.preventDefault())}function s(e){var t,r;!f()&&a(o.current)&&(null===(r=null===(t=getSelection())||void 0===t?void 0:t.isCollapsed)||void 0===r||r)&&e.clipboardData&&(n({type:"selectionCopy",clipboardData:e.clipboardData}),e.preventDefault())}function d(e){if(!f()&&!u(o.current)&&e.clipboardData)for(const t of e.clipboardData.items)"string"===t.kind&&"application/vnd.observablehq+json"===t.type&&(t.getAsString((e=>{const t=JSON.parse(e);n({type:"selectionPaste",nodes:t})})),e.preventDefault())}return addEventListener("keydown",e),document.addEventListener("cut",r),document.addEventListener("copy",s),document.addEventListener("paste",d),()=>{removeEventListener("keydown",e),document.removeEventListener("cut",r),document.removeEventListener("copy",s),document.removeEventListener("paste",d)}}),[n,t])}(e,n,o,t),function(e){const{asPath:t,query:{cloudFileProvider:n}}=(0,s.useRouter)();(0,r.useEffect)((()=>{"microsoftData"!==n&&"googleData"!==n||(window.history.replaceState(null,"",t.split("?")[0]),e({type:"showModal",modal:"cloudFile",modalProps:{provider:n}}))}),[n,e,t])}(o),(0,r.useEffect)((()=>{function e(e){var t;(null===(t=e.dataTransfer)||void 0===t?void 0:t.types.includes("Files"))&&o({type:"showPane",pane:"files"})}return addEventListener("dragenter",e),()=>removeEventListener("dragenter",e)}),[o])}},79265:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return P},default:function(){return U}});var r=n(41799),s=n(85893),o=n(9008),l=n.n(o),i=n(67294),c=n(60443),u=n(94717),a=n(75288),d=n(77419),f=n(39736),p=n(88184),h=n(96455),g=n(93177),v=n(21142),y=n(65074),m=n(54397),b=n(34049),E=n(82029),w=n(80548),C=n(28445),S=n(19671),F=n(27193),x=n(8802),Z=n(4242),j=n(41824),k=n(21252);const L=e=>{const t=(0,k.M)((e=>{const t=(0,j.f)(e);return t.slices.page.initialState.pane="guide",t.slices.page.initialState.guide=e.guide,t}),e),n=(0,w.w)(t);return(0,s.jsx)(Z.zt,{store:t,children:(0,s.jsx)(A,{editors:n})})};var M=e=>(0,s.jsx)(L,(0,r.Z)({},e),(0,x.Z)(e));const A=(0,Z.$j)((e=>{let{notebook:t,decorations:n,page:r,currentUser:s}=e;return{notebook:t,decorations:n,page:r,currentUser:s}}),(e=>({dispatch:e})))((e=>{let{notebook:t,currentUser:n,decorations:r,editors:o,dispatch:w}=e;const{model:x,isFullscreen:Z}=t;return(0,E.D)(t,n,o,w),(0,C.f)(t.editorStates,t.searchTerm,w),(0,i.useEffect)((()=>{(0,S.MR)((0,S.ym)({type:"notebook:view:view",data:{numCells:t.model.nodes.length},eventVersion:4,notebook:t,currentUser:n}))}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{content:(0,F.Ui)(x)}),(0,s.jsx)(l(),{children:(0,s.jsx)(d.bd,{notebook:t})}),(0,s.jsx)(a.Z,{}),(0,s.jsx)(p.b,{}),(0,s.jsx)(y.P,{}),(0,s.jsxs)(v.Z,{className:"mt4",children:[(0,s.jsx)(u.i,{isFullscreen:Z,style:{minHeight:"calc(100vh - 34rem)"},dispatch:w,children:(0,s.jsx)(g.a,{notebook:t,dispatch:w,editors:o,currentUser:n,disablePointerEvents:"none"!==r.modal,editorComponent:h.i})}),(0,s.jsx)(f.F1,{}),(0,s.jsx)(m.W,{})]}),(0,s.jsx)(c.Z,{empty:!0})]})}));var D=n(65878),P=!0,U=(0,D.Z)(M)}},function(e){e.O(0,[3714,5021,2656,8764,6817,270,6954,637,322,793,6086,3993,4162,8352,5665,6646,6948,8367,9853,8780,5542,7105,8616,709,8111,2218,6883,4834,9660,9774,2888,179],(function(){return t=45181,e(e.s=t);var t}));var t=e.O();_N_E=t}]);