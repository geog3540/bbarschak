"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{29157:function(e,s,t){t.d(s,{X:function(){return B},l:function(){return Y}});var a=t(41799),l=t(69396),n=t(85893),i=t(60357),r=t.n(i),c=t(90793),o=t(94184),d=t.n(o),u=t(4447),m=t(76010),h=t(60486),p=t(16691),x=t(11233),v=t(33090),f=t(24576),g=t(17764),j=t(49516),y=t(57003),b=t(70975),N=t(42568);const w=60,C={Sequential:["Blues","Greens","Greys","Oranges","Purples","Reds","Turbo","Viridis","Inferno","Magma","Plasma","Cividis","Warm","Cool","BuGn","BuPu","GnBu","OrRd","PuBuGn","PuBu","PuRd","RdPu","YlGnBu","YlGn","YlOrBr","YlOrRd"],Diverging:["BrBG","PRGn","PiYG","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],Cyclical:["Sinebow","Turbo"],Categorical:["Category10","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","Tableau10"]},Z={Sequential:"Blues",Diverging:"BrBG",Cyclical:"Rainbow",Categorical:"Category10"},k=e=>{let s,{name:t}=e,a=60;if(C.Categorical.includes(t))return s=m["scheme".concat(t)],(null===s||void 0===s?void 0:s.length)?(a=s.length,(0,n.jsx)("svg",{viewBox:"0 0 ".concat(a," 1"),style:{display:"block",width:5*a,height:16},children:s.map(((e,s)=>(0,n.jsx)("rect",{x:s,y:-1,width:1,height:3,fill:e},e)))})):null;const l=m["interpolate".concat(t)];if(!l)return null;s=[];for(let n=0;n<a;++n)s.push((0,u.B8)(l(n/(a-1))).hex());const i=document.createElement("canvas");i.width=a,i.height=16;const r=i.getContext("2d");if(!r)return null;for(let n=0;n<a;++n)r.fillStyle=s[n],r.fillRect(n,0,1,16);return(0,n.jsx)("img",{className:"bn br2",alt:t,src:i.toDataURL()})},S=e=>{let{show:s}=e;return s?(0,n.jsx)(j.Z,{}):(0,n.jsx)("div",{})},R=e=>{let{option:s,value:t,label:a,children:l}=e;return a=a||s,(0,n.jsxs)(b.wt,{value:s,className:"ph12",style:{display:"grid",gridTemplateColumns:"19px 90px 1fr",alignItems:"center"},children:[(0,n.jsx)(S,{show:s===t}),a,l]},a)},D=e=>{let{value:s,label:t,children:a}=e;return(0,n.jsxs)(b.uf,{style:{padding:"4px 0",margin:0},children:[(0,n.jsx)("div",{className:"gray f7 ph12 mb2 mt1",children:t}),(0,n.jsx)("div",{className:"bb b--light-gray ma0 mb1"}),(0,n.jsxs)(b.wt,{value:"__undefined",className:"ph12",style:{display:"grid",gridTemplateColumns:"19px 1fr",alignItems:"center"},children:[(0,n.jsx)(S,{show:"__undefined"===s}),"Auto"]},"__undefined"),a]})},O=e=>{let{id:s,value:t,label:i,channel:r,option:o,options:d,children:u,dispatch:m}=e;return t=void 0===t?"__undefined":t,(0,n.jsx)("div",{children:(0,n.jsxs)(c.vz,{onChange:e=>{m({type:"setChartConfig",id:s,options:{[r]:(0,l.Z)((0,a.Z)({},d[r]),{[o]:"__undefined"===e?void 0:e})},source:"customize"})},value:t,className:"b--solid ba br2 b--light-gray",style:{padding:"4px 8px",height:26},children:[(0,n.jsxs)(b.Y4,{className:"flex items-center justify-between f6 fw5 dark-gray",style:{margin:0},children:[(0,n.jsx)("div",{className:"flex items-center",children:"__undefined"===t?(0,n.jsx)("div",{className:"mid-gray",children:"Auto"}):(0,n.jsx)("div",{children:t})}),(0,n.jsxs)(b.r9,{className:"flex items-center",children:["color"===r&&(0,n.jsx)(k,{name:t}),(0,n.jsx)(g.Z,{className:"moon-gray pl1"})]})]}),(0,n.jsx)(b.jI,{className:"absolute",style:{minWidth:"200px",maxHeight:"225px",overflowY:"scheme"===o?"scroll":"auto"},portal:!1,children:(0,n.jsx)(D,{value:t,label:i,children:u})})]})})},z=e=>{let{id:s,options:t,name:a,dispatch:l}=e;var i;return(0,n.jsx)(x.Z,{style:{width:w,padding:"4px 8px"},type:"number",min:0,value:null!==(i=t[a])&&void 0!==i?i:"",onKeyDown:e=>{"e"===e.key.toLowerCase()&&e.preventDefault()},onChange:e=>l({type:"setChartConfig",id:s,options:{[a]:isNaN(e.target.valueAsNumber)?void 0:e.target.valueAsNumber},source:"customize"})})},L=e=>{let{label:s,spacing:t="mt1",labelStyle:a={display:"flex",alignItems:"center"},children:l}=e;return(0,n.jsxs)("div",{className:t,style:{display:"grid",gridTemplateColumns:"115px minmax(200px, auto)"},children:[(0,n.jsx)("div",{className:"fw4 f6 dark-gray",style:a,children:s}),l]})},B=e=>{let{id:s,options:t,dispatch:i}=e;var c,o,d,u,m,g,j,y,b,N,w,S;const D=["Top","Right","Bottom","Left"],B=!1!==(null===(c=t.color)||void 0===c?void 0:c.legend);var I,Y,E,T,_,M,F,W;return(0,n.jsxs)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:[(0,n.jsxs)("div",{style:{width:370},className:r().dynamic([["289a11491dc03ccc",[64]]]),children:[(0,n.jsx)(L,{label:"Height",children:(0,n.jsx)(z,{options:t,id:s,name:"height",dispatch:i})}),(0,n.jsx)(L,{label:"Width",children:(0,n.jsx)(z,{options:t,id:s,name:"width",dispatch:i})}),(0,n.jsx)(L,{label:"Margin",labelStyle:{display:"flex",alignItems:"center",marginTop:34},children:(0,n.jsxs)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" location mt3 mr4 gray",children:[D.map((e=>(0,n.jsx)("span",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" fw4 f7 mb1",children:e},e))),D.map((e=>(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:(0,n.jsx)(z,{options:t,id:s,name:"margin".concat(e),dispatch:i})},"margin".concat(e))))]})}),(0,n.jsx)(L,{label:"Inset",children:(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" location",children:D.map((e=>(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:(0,n.jsx)(z,{options:t,id:s,name:"inset".concat(e),dispatch:i})},"inset".concat(e))))})}),(0,n.jsx)(L,{label:"Legend",spacing:"mt3",children:(0,n.jsxs)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" flex",children:[(0,n.jsx)(v.E,{label:"Auto",className:"mr3 dark-gray font-input",checked:B,onChange:()=>i({type:"setChartConfig",id:s,options:{color:(0,l.Z)((0,a.Z)({},t.color),{legend:void 0})},source:"customize"})}),(0,n.jsx)(v.E,{label:"None",className:"dark-gray font-input",checked:!B,onChange:()=>i({type:"setChartConfig",id:s,options:{color:(0,l.Z)((0,a.Z)({},t.color),{legend:!1})},source:"customize"})})]})}),(0,n.jsx)(L,{label:"X label",spacing:"mt3",children:(0,n.jsx)(x.Z,{id:"xaxis",name:"xaxis",spellCheck:!1,value:null!==(I=null===(o=t.x)||void 0===o?void 0:o.label)&&void 0!==I?I:"",style:{padding:"4px 8px"},onChange:e=>i({type:"setChartConfig",id:s,options:{x:(0,l.Z)((0,a.Z)({},t.x),{label:e.target.value||void 0})},source:"customize"})})}),(0,n.jsx)(L,{label:"X scale",children:(0,n.jsxs)(O,{id:s,value:null===(d=t.x)||void 0===d?void 0:d.type,label:"Scale",channel:"x",option:"type",options:t,dispatch:i,children:[(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" bb b--light-gray ma0 mb1"}),[...h.A2].map((e=>{var s;return(0,n.jsx)(R,{option:e,value:null===(s=t.x)||void 0===s?void 0:s.type},e)}))]})}),(0,n.jsx)(L,{label:"X options",children:(0,n.jsxs)("div",{style:{height:24},className:r().dynamic([["289a11491dc03ccc",[64]]])+" flex items-center",children:[(0,n.jsx)(p.X,{spacing:"pv0",font:"font-input",label:"Grid",checked:null!==(Y=null===(u=t.x)||void 0===u?void 0:u.grid)&&void 0!==Y&&Y,onChange:e=>i({type:"setChartConfig",id:s,options:{x:(0,l.Z)((0,a.Z)({},t.x),{grid:e.target.checked||void 0})},source:"customize"})}),(0,n.jsx)(p.X,{spacing:"pv0 ml3",font:"font-input",label:"Reverse",checked:null!==(E=null===(m=t.x)||void 0===m?void 0:m.reverse)&&void 0!==E&&E,onChange:e=>i({type:"setChartConfig",id:s,options:{x:(0,l.Z)((0,a.Z)({},t.x),{reverse:e.target.checked||void 0})},source:"customize"})})]})}),(0,n.jsx)(L,{label:"Y label",spacing:"mt3",children:(0,n.jsx)(x.Z,{id:"yaxis",name:"yaxis",spellCheck:!1,value:null!==(T=null===(g=t.y)||void 0===g?void 0:g.label)&&void 0!==T?T:"",style:{padding:"4px 8px"},onChange:e=>{i({type:"setChartConfig",id:s,options:{y:(0,l.Z)((0,a.Z)({},t.y),{label:e.target.value||void 0})},source:"customize"})}})}),(0,n.jsx)(L,{label:"Y scale",children:(0,n.jsxs)(O,{id:s,value:null===(j=t.y)||void 0===j?void 0:j.type,label:"Scale",channel:"y",option:"type",options:t,dispatch:i,children:[(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" bb b--light-gray ma0 mb1"}),[...h.A2].map((e=>{var s;return(0,n.jsx)(R,{option:e,value:null===(s=t.y)||void 0===s?void 0:s.type},e)}))]})}),(0,n.jsx)(L,{label:"Y options",children:(0,n.jsxs)("div",{style:{height:24},className:r().dynamic([["289a11491dc03ccc",[64]]])+" flex items-center",children:[(0,n.jsx)(p.X,{spacing:"pv0",font:"font-input",label:"Grid",checked:null!==(_=null===(y=t.y)||void 0===y?void 0:y.grid)&&void 0!==_&&_,onChange:e=>i({type:"setChartConfig",id:s,options:{y:(0,l.Z)((0,a.Z)({},t.y),{grid:e.target.checked||void 0})},source:"customize"})}),(0,n.jsx)(p.X,{spacing:"pv0 ml3",font:"font-input",label:"Reverse",checked:null!==(M=null===(b=t.y)||void 0===b?void 0:b.reverse)&&void 0!==M&&M,onChange:e=>i({type:"setChartConfig",id:s,options:{y:(0,l.Z)((0,a.Z)({},t.y),{reverse:e.target.checked||void 0})},source:"customize"})})]})}),(0,n.jsx)(L,{label:"Color scheme",spacing:"mt3",children:(0,n.jsxs)(O,{id:s,value:null===(N=t.color)||void 0===N?void 0:N.scheme,label:"Color scheme",channel:"color",option:"scheme",options:t,dispatch:i,children:[(0,n.jsxs)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:[(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" bb b--light-gray ma0 mb1"}),(0,n.jsx)("div",{style:{marginTop:"11px",marginBottom:"8px"},className:r().dynamic([["289a11491dc03ccc",[64]]])+" gray f7 ph12",children:"Default color schemes"}),Object.entries(Z).map((e=>{let[s,a]=e;var l;return(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:(0,n.jsx)(R,{label:s,option:a,value:null===(l=t.color)||void 0===l?void 0:l.scheme,children:(0,n.jsx)(k,{name:a})})},s)}))]},"Default"),Object.entries(C).map((e=>{let[s,a]=e;return(0,n.jsxs)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:[(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" bb b--light-gray ma0 mb1"}),(0,n.jsxs)("div",{style:{marginTop:"11px",marginBottom:"8px"},className:r().dynamic([["289a11491dc03ccc",[64]]])+" gray f7 ph12",children:[s," color schemes"]}),a.map((e=>{var s;return(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]]),children:(0,n.jsx)(R,{option:e,value:null===(s=t.color)||void 0===s?void 0:s.scheme,children:(0,n.jsx)(k,{name:e})})},e)}))]},s)}))]})}),(0,n.jsx)(L,{label:"Color scale",children:(0,n.jsxs)(O,{id:s,value:null===(w=t.color)||void 0===w?void 0:w.type,label:"Scale",channel:"color",option:"type",options:t,dispatch:i,children:[(0,n.jsx)("div",{className:r().dynamic([["289a11491dc03ccc",[64]]])+" bb b--light-gray ma0 mb1"}),[...h.m4].map((e=>{var s;return(0,n.jsx)(R,{option:e,value:null===(s=t.color)||void 0===s?void 0:s.type},e)}))]})}),(0,n.jsx)(L,{label:"Color options",children:(0,n.jsx)("div",{style:{height:24},className:r().dynamic([["289a11491dc03ccc",[64]]])+" flex items-center",children:(0,n.jsx)(p.X,{spacing:"pv0",font:"font-input",label:"Reverse",checked:null!==(F=null===(S=t.color)||void 0===S?void 0:S.reverse)&&void 0!==F&&F,onChange:e=>i({type:"setChartConfig",id:s,options:{color:(0,l.Z)((0,a.Z)({},t.color),{reverse:e.target.checked||void 0})},source:"customize"})})})}),(0,n.jsx)(L,{label:"Caption",spacing:"mt3",labelStyle:{marginTop:10},children:(0,n.jsx)(f.g,{name:"caption",rows:2,style:{resize:"none",width:"100%"},value:null!==(W=t.caption)&&void 0!==W?W:"",onChange:e=>{i({type:"setChartConfig",id:s,options:{caption:e.target.value||void 0},source:"customize"})}})})]}),(0,n.jsx)(r(),{id:"289a11491dc03ccc",dynamic:[64],children:".location.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(4,".concat(64,'px)}input.__jsx-style-dynamic-selector::-webkit-outer-spin-button,input.__jsx-style-dynamic-selector::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type="number"].__jsx-style-dynamic-selector{-moz-appearance:textfield}')})]})},I=e=>{let{id:s,dispatch:t,data:a}=e;return(0,n.jsx)(N.YI,{className:"bg-white ba b--silver br2 shadow-4 outline-0 pa12",children:(0,n.jsxs)(N.sd,{children:[(0,n.jsxs)("div",{className:"flex justify-between pb12",children:[(0,n.jsx)("div",{className:"gray f7",children:"Customize"}),(0,n.jsx)("button",{className:"bg-transparent bn blue fw6 f7 pa0 pointer",onClick:()=>t({type:"setChartConfig",id:s,options:null,source:"customize"}),children:"Clear"})]}),(0,n.jsx)(B,{id:s,options:a.config.options,dispatch:t})]})})},Y=e=>{let{focused:s,selected:t,narrow:a,id:l,data:i,dispatch:r}=e;return(0,n.jsxs)(N.v2,{children:[(0,n.jsxs)(N.j2,{className:d()("flex items-center bg-transparent bn f7 fw6 pointer hover-black pa0 ma0",s||t?"dark-gray":"mid-gray"),children:[(0,n.jsx)(y.Z,{className:"pr1"}),!a&&"Customize"]}),(0,n.jsx)(I,{id:l,data:i,dispatch:r})]})}},24576:function(e,s,t){t.d(s,{g:function(){return d}});var a=t(41799),l=t(69396),n=t(99534),i=t(85893),r=t(94184),c=t.n(r);function o(e){let{currentTarget:s}=e;s.style.height="initial",s.style.height="".concat(s.scrollHeight,"px")}const d=t(67294).forwardRef((function(e,s){const{hasError:t=!1,autoResize:r=!1,className:d="",style:u,rows:m}=e,h=(0,n.Z)(e,["hasError","autoResize","className","style","rows"]);return(0,i.jsx)("textarea",(0,l.Z)((0,a.Z)({},h),{ref:e=>{"function"===typeof s?s(e):s&&(s.current=e),e&&r&&o({currentTarget:e})},onInput:r?o:void 0,rows:r?1:m,style:(0,a.Z)({resize:"vertical"},u,r&&{resize:"none",maxHeight:void 0===m?"none":"calc(".concat(m," * 1.5em + 2 * var(--spacing-small))")}),className:c()("form-default-clear form-custom-input pa2 f6 fw5 br2 lh-copy",e.disabled?"mid-gray bg-near-white disabled":"dark-gray bg-white blue-ring-focus",d,t?"has-error":"")}))}))},87671:function(e,s,t){var a=t(41799),l=t(69396),n=t(85893);t(67294);s.Z=e=>(0,n.jsx)("svg",(0,l.Z)((0,a.Z)({width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},e),{children:(0,n.jsx)("path",{d:"M2.8703 4L3.0578 9.68359H4.9328L5.1203 4H2.8703ZM3.9953 12.6602C4.75116 12.6602 5.19647 12.2676 5.19647 11.5938C5.19647 10.9141 4.75116 10.5215 3.9953 10.5215C3.23944 10.5215 2.79999 10.9141 2.79999 11.5938C2.79999 12.2676 3.23944 12.6602 3.9953 12.6602Z",fill:"currentColor"})}))},77063:function(e,s,t){var a=t(41799),l=t(69396),n=t(85893);t(67294);s.Z=e=>(0,n.jsx)("svg",(0,l.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,n.jsx)("path",{d:"M3.06752 3H12.9325C13.3564 3 13.588 3.49443 13.3166 3.82009L9 9V11.7929C9 11.9255 8.94732 12.0527 8.85355 12.1464L7.85355 13.1464C7.53857 13.4614 7 13.2383 7 12.7929V9L2.68341 3.82009C2.41202 3.49443 2.6436 3 3.06752 3Z",fill:"currentColor"})}))},57003:function(e,s,t){var a=t(41799),l=t(69396),n=t(85893);t(67294);s.Z=e=>(0,n.jsxs)("svg",(0,l.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,n.jsx)("line",{x1:"12",y1:"11",x2:"12",y2:"15",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("line",{x1:"4",y1:"9",x2:"4",y2:"15",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("circle",{cx:"12",cy:"9",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("circle",{cx:"4",cy:"7",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"7",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("line",{x1:"4",y1:"1",x2:"4",y2:"5",stroke:"currentColor",strokeWidth:"2"})]}))},43529:function(e,s,t){var a=t(41799),l=t(69396),n=t(85893);t(67294);s.Z=e=>(0,n.jsxs)("svg",(0,l.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 5C1 2.79086 2.79086 1 5 1H11C13.2091 1 15 2.79086 15 5V11C15 13.2091 13.2091 15 11 15H5C2.79086 15 1 13.2091 1 11V5ZM5 3C3.89543 3 3 3.89543 3 5V11C3 12.1046 3.89543 13 5 13H11C12.1046 13 13 12.1046 13 11V5C13 3.89543 12.1046 3 11 3H5Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7071 6.70711L7.00001 11.4142L4.29291 8.70711L5.70712 7.29289L7.00001 8.58579L10.2929 5.29289L11.7071 6.70711Z",fill:"currentColor"})]}))},44516:function(e,s,t){var a=t(41799),l=t(69396),n=t(85893);t(67294);s.Z=e=>(0,n.jsxs)("svg",(0,l.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4.75C13.6904 4.75 14.25 5.30964 14.25 6C14.25 6.69036 13.6904 7.25 13 7.25C12.3096 7.25 11.75 6.69036 11.75 6C11.75 5.30964 12.3096 4.75 13 4.75ZM15.75 6C15.75 4.48122 14.5188 3.25 13 3.25C11.4812 3.25 10.25 4.48122 10.25 6C10.25 7.51878 11.4812 8.75 13 8.75C14.5188 8.75 15.75 7.51878 15.75 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 8L11.5 8V6L1.5 6C0.947715 6 0.5 6.44772 0.5 7C0.5 7.55228 0.947715 8 1.5 8Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.17594 2.56653L8.67594 10.5665L10.324 9.43347L4.82403 1.43347C4.51114 0.978369 3.88856 0.863076 3.43345 1.17596C2.97835 1.48885 2.86306 2.11143 3.17594 2.56653Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10.75C10.6904 10.75 11.25 11.3096 11.25 12C11.25 12.6904 10.6904 13.25 10 13.25C9.30964 13.25 8.75 12.6904 8.75 12C8.75 11.3096 9.30964 10.75 10 10.75ZM12.75 12C12.75 10.4812 11.5188 9.25 10 9.25C8.48122 9.25 7.25 10.4812 7.25 12C7.25 13.5188 8.48122 14.75 10 14.75C11.5188 14.75 12.75 13.5188 12.75 12Z",fill:"currentColor"})]}))},47495:function(e,s,t){var a=t(41799),l=t(69396),n=t(85893);t(67294);s.Z=e=>(0,n.jsxs)("svg",(0,l.Z)((0,a.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,n.jsx)("rect",{x:"2",y:"3",width:"3",height:"2",rx:"1",fill:"currentColor"}),(0,n.jsx)("rect",{x:"2",y:"12",width:"12",height:"2",rx:"1",fill:"currentColor"}),(0,n.jsx)("rect",{x:"2",y:"9",width:"9",height:"2",rx:"1",fill:"currentColor"}),(0,n.jsx)("rect",{x:"2",y:"6",width:"6",height:"2",rx:"1",fill:"currentColor"})]}))},70975:function(e,s,t){t.d(s,{Y4:function(){return p},jI:function(){return f},r9:function(){return g},uf:function(){return v},vz:function(){return h},wt:function(){return x}});var a=t(41799),l=t(69396),n=t(99534),i=t(85893),r=t(60357),c=t.n(r),o=t(90793),d=t(94184),u=t.n(d),m=t(67294);const h=m.forwardRef((function(e,s){var{className:t}=e,r=(0,n.Z)(e,["className"]);return(0,i.jsx)(o.vz,(0,l.Z)((0,a.Z)({},r),{className:u()("f6 fw5 dark-gray br2 lh-copy truncate",t),ref:s}))})),p=m.forwardRef((function(e,s){var{className:t}=e,r=(0,n.Z)(e,["className"]);return(0,i.jsx)(o.Y4,(0,l.Z)((0,a.Z)({},r),{className:u()("pointer mh2 mv1 w-100 dib outline-0",t),ref:s,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.currentTarget.dispatchEvent(new Event("mousedown",{bubbles:!0})))}}))})),x=m.forwardRef((function(e,s){var{className:t}=e,r=(0,n.Z)(e,["className"]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.wt,(0,l.Z)((0,a.Z)({},r),{ref:s,className:u()("pointer hover-bg-near-white f6 fw5 dark-gray lh-copy mb1",t)})),(0,i.jsx)(c(),{id:"5b1276abdde02cf",children:"[data-reach-listbox-option][data-current-nav]{background-color:var(--near-white)}"})]})})),v=m.forwardRef((function(e,s){var{className:t}=e,r=(0,n.Z)(e,["className"]);return(0,i.jsx)(o.uf,(0,l.Z)((0,a.Z)({},r),{ref:s,className:u()("list outline-0 ph1 pv2 ma1",t)}))})),f=m.forwardRef((function(e,s){var{className:t}=e,r=(0,n.Z)(e,["className"]);return(0,i.jsx)(o.jI,(0,l.Z)((0,a.Z)({},r),{ref:s,className:u()("bg-white ba b--silver br2 shadow-4 overflow-auto",t)}))})),g=m.forwardRef((function(e,s){var{className:t}=e,r=(0,n.Z)(e,["className"]);return(0,i.jsx)(o.r9,(0,l.Z)((0,a.Z)({className:t},r),{ref:s}))}))},6016:function(e,s,t){t.d(s,{J:function(){return g},o:function(){return j}});var a=t(85893),l=t(60357),n=t.n(l),i=t(94184),r=t.n(i),c=t(67294),o=t(22027),d=t(43529),u=t(42568),m=t(82666),h=t(12447),p=t(10718),x=t(33042),v=t(4242);const f=e=>{let{id:s,data:t,dispatch:l}=e;const i=(0,p.vM)(t,l),{operations:{select:{columns:r}}}=t;return(0,a.jsxs)(u.YI,{className:"bg-white ba b--silver br2 shadow-4 outline-0 pa12 overflow-auto",style:{minWidth:"150px",maxWidth:"".concat(300,"px"),maxHeight:"400px"},"data-cy":"columns-popover",children:[(0,a.jsxs)(u.sd,{children:[(0,a.jsxs)("div",{className:"jsx-bca62cd75c72199c flex justify-between pb12",children:[(0,a.jsx)("div",{className:"jsx-bca62cd75c72199c gray f7",children:"Columns"}),i&&null!==r&&r.length<i.size&&(0,a.jsx)("button",{onClick:()=>{l({type:"setDataOperations",id:s,operations:{select:{columns:Array.from(i.keys())}}})},className:"jsx-bca62cd75c72199c bg-transparent bn blue fw6 f7 pa0 pointer",children:"Show all"})]}),(0,a.jsx)(g,{data:t,dispatch:l,id:s,schema:i,maxWidth:300})]}),(0,a.jsx)(n(),{id:"bca62cd75c72199c",children:".only-button.jsx-bca62cd75c72199c:hover{color:black!important}"})]})},g=e=>{let{data:s,dispatch:t,id:l,schema:n,maxWidth:i}=e;const{operations:{select:{columns:d}}}=s,u=n&&Array.from(n.entries()).map((e=>{let[s,{name:t}]=e;return{column:s,name:t}})),m=(0,h.GS)(h.pp),{0:p,1:x}=(0,c.useState)();return(0,a.jsx)(a.Fragment,{children:u?u.length?u.map((e=>{const{name:s,column:n}=e;return(0,a.jsxs)("div",{className:"flex mb1",onMouseEnter:()=>x(n),onMouseLeave:()=>x(void 0),children:[(0,a.jsxs)("label",{className:r()("flex fg1 items-start mr2 f6 fw5 lh-copy pointer",(null===d||void 0===d?void 0:d.includes(n))||null===d?"dark-gray":"gray"),style:{flexGrow:1},children:[(0,a.jsx)("input",{className:"pointer mr2 mt1",type:"checkbox",checked:null===d||d.includes(n),onChange:()=>{const e=null===d?u.map((e=>e.column)).filter((e=>e!==n)):d.includes(n)?d.filter((e=>e!==n)):d.concat(n);t({type:"setDataOperations",id:l,operations:{select:{columns:e}}})}}),(0,a.jsxs)("div",{title:s,style:{maxWidth:i?"".concat(i-40,"px"):void 0,overflowX:"hidden",textOverflow:"ellipsis"},children:[s,n!==s?(0,a.jsx)("div",{className:"gray f7 truncate","aria-label":"Original column name for ".concat(s),children:n}):null]})]}),m&&(0,a.jsx)("button",{className:"pointer pa0 only-button",style:{color:p===n?"gray":"white",backgroundColor:"white",border:"none"},onClick:()=>t({type:"setDataOperations",id:l,operations:{select:{columns:[n]}}}),children:"only"})]},JSON.stringify(e))})):(0,a.jsx)("div",{className:"gray","data-cy":"no-columns",children:"No columns found"}):(0,a.jsx)("div",{className:"w-100 dark-gray",children:(0,a.jsx)(o.Z,{})})})},j=(0,v.$j)(((e,s)=>{let{notebook:t}=e,{id:a}=s;return{data:(0,x.DY)(t.model,a).data}}),(e=>({dispatch:e})))((e=>{let{id:s,data:t,dispatch:l,mobile:n,flash:i,setFlash:r}=e;const{operations:{select:{columns:c}}}=t,o=(null===c||void 0===c?void 0:c.length)||0,u=o>0;return(0,a.jsx)(m.Q,{nodeId:s,label:"Columns",active:u,countLabel:String(o),icon:d.Z,flash:i,setFlash:r,mobile:n,operation:"columns",children:n?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{}),u&&(0,a.jsx)("span",{className:"fw4 ml1",children:o})]}):(0,a.jsx)(f,{id:s,data:t,dispatch:l})})}))},29162:function(e,s,t){t.d(s,{c:function(){return N},w:function(){return R}});var a=t(85893),l=t(60357),n=t.n(l),i=t(94184),r=t.n(i),c=t(67294),o=t(82666),d=t(76522),u=t(49516),m=t(77063),h=t(22027),p=t(89905),x=t(70975),v=t(42568),f=t(10718),g=t(33042),j=t(84236),y=t(4242);const b=e=>{let{id:s,dispatch:t,data:l}=e;const n=(0,f.vM)(l,t);return(0,a.jsx)(v.YI,{className:"bg-white ba b--silver br2 shadow-4 outline-0 pa12","data-cy":"filter-popover",children:(0,a.jsxs)(v.sd,{children:[(0,a.jsx)("div",{className:"gray f7 pb12",children:"Filter"}),(0,a.jsx)(N,{id:s,data:l,dispatch:t,schema:n})]})})},N=e=>{let{data:s,id:t,dispatch:l,schema:n}=e;const{operations:{filter:i}}=s;return(0,a.jsxs)(a.Fragment,{children:[i.map(((e,i)=>{var r;const c=e.operands[0].value;var o;const d={column:c,name:null!==(o=null===(r=null===n||void 0===n?void 0:n.get(c))||void 0===r?void 0:r.name)&&void 0!==o?o:c};return(0,a.jsx)(w,{id:t,data:s,dispatch:l,schema:n,index:i,filter:e,savedColumn:d},"".concat(JSON.stringify(d)).concat(e.type).concat(JSON.stringify(e.operands)))})),(0,a.jsx)(w,{id:t,data:s,dispatch:l,schema:n})]})},w=e=>{let{id:s,data:t,dispatch:l,schema:n,index:i,filter:r,savedColumn:o}=e;const{0:d,1:u}=(0,c.useState)(o),{0:m,1:h}=(0,c.useState)(null===r||void 0===r?void 0:r.type),{0:x,1:v}=(0,c.useState)(2===(null===r||void 0===r?void 0:r.operands.length)?r.operands[1].value:null===r||void 0===r?void 0:r.operands.slice(1).map((e=>{let{value:s}=e;return s})).join(",")),f=d&&n?n.get(d.column):void 0;function g(e){let a=[...t.operations.filter];void 0!==i?a[i]=e:(a=[...a,e],u(void 0),h(void 0),v(void 0)),l({type:"setDataOperations",id:s,operations:{filter:a}})}function y(e,s,t){void 0!==e&&void 0!==s&&((0,j.Ec)(s)?g({type:s,operands:[{type:"column",value:e}]}):void 0!==t&&((0,j.nq)(s)&&"string"===typeof t?g({type:s,operands:[{type:"column",value:e},...(0,j.$d)(t,f)]}):g({type:s,operands:[{type:"column",value:e},"date"===(null===f||void 0===f?void 0:f.type)&&"string"===typeof t?{type:"date",value:t}:{type:"primitive",value:t}]})))}function b(e){v(e),y(null===d||void 0===d?void 0:d.column,m,e)}return(0,c.useEffect)((()=>{void 0===r&&d&&!f&&(u(void 0),h(void 0),v(void 0))}),[r,u,h,v,n,f,d]),(0,a.jsxs)("div",{className:"flex mb2","data-cy":"filter-row",children:[(0,a.jsx)(k,{setColumn:e=>{u(e),h((0,j.xm)(null===n||void 0===n?void 0:n.get(e.column))[0]),v(void 0)},selectedColumn:d,schema:n}),(0,a.jsx)(S,{type:m,setType:function(e){h(e);const s="nv"===e||"v"===e?null===f||void 0===f?void 0:f.type:x;y(null===d||void 0===d?void 0:d.column,e,s)},columnSchema:f}),m&&(N=m,!(0,j.Ec)(N)&&"v"!==N&&"nv"!==N)&&f&&("boolean"===f.type?(0,a.jsx)(Z,{value:x,setValue:b}):(0,a.jsx)(C,{inputType:(0,j.nq)(m)?"string":f.type,value:x,setValue:b})),void 0!==i&&(0,a.jsx)("button",{className:"bg-transparent bn light-gray pointer",title:"Remove filter",onClick:()=>{const e=[...t.operations.filter];e.splice(i,1),l({type:"setDataOperations",id:s,operations:{filter:e}})},children:(0,a.jsx)(p.Z,{})})]});var N},C=e=>{let{setValue:s,value:t,inputType:l}=e;const i="date"===l&&"number"===typeof t?new Date(t).toISOString().split(".")[0]:t,{0:o,1:d}=(0,c.useState)(i);function u(e){e!==t&&e.length>0&&s("number"===l||"integer"===l||"bigint"===l?+e:e)}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"date"===l?"datetime-local":"number"===l||"integer"===l||"bigint"===l?"number":"string",value:null!==o&&void 0!==o?o:"",onChange:e=>d(e.target.value),onBlur:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u(e.currentTarget.value)},className:"jsx-5b87146e697cf4d4 "+(r()("monospace fw6 b--solid ba br2 b--light-gray dark-gray ml2 w-100 flex items-center","date"!==l&&"mw5")||"")}),(0,a.jsx)(n(),{id:"5b87146e697cf4d4",children:"input.jsx-5b87146e697cf4d4::-webkit-calendar-picker-indicator{display:none}"})]})},Z=e=>{let{value:s,setValue:t}=e;return(0,a.jsxs)(x.vz,{onChange:e=>t("true"===e),value:void 0!==s?"".concat(s):"",className:"b--solid ba br2 b--light-gray ml2",children:[(0,a.jsxs)(x.Y4,{className:"flex items-center justify-between f6 fw6 dark-gray",children:[(0,a.jsx)("div",{children:!0===s?"True":!1===s?"False":(0,a.jsx)("span",{className:"light-gray",children:"Value"})}),(0,a.jsx)(x.r9,{className:"inline-flex items-center",style:{marginRight:"16px"},children:(0,a.jsx)(d.Z,{})})]}),(0,a.jsx)(x.jI,{className:"absolute",style:{minWidth:"100px"},portal:!1,children:(0,a.jsx)(x.uf,{style:{padding:"12px 0",margin:0},children:["true","false"].map((e=>(0,a.jsxs)(x.wt,{value:e,className:"flex items-center justify-between ph12",children:["true"===e?"True":"False",e==="".concat(s)&&(0,a.jsx)(u.Z,{className:"ml2"})]},"".concat(e))))})})]})},k=e=>{let{setColumn:s,selectedColumn:t,schema:l}=e;const n=l&&Array.from(l.entries()).map((e=>{let[s,{name:t}]=e;return{column:s,name:t}}));var i;return(0,a.jsxs)(x.vz,{onChange:e=>s(JSON.parse(e)),value:JSON.stringify(t)||"",className:"b--solid ba br2 b--light-gray",style:{flexShrink:"0"},children:[(0,a.jsxs)(x.Y4,{className:"flex items-center justify-between f6 fw6 dark-gray",children:[(0,a.jsx)("div",{style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"},children:null!==(i=null===t||void 0===t?void 0:t.name)&&void 0!==i?i:(0,a.jsx)("span",{className:"light-gray",children:"Column"})}),(0,a.jsx)(x.r9,{className:"inline-flex items-center",style:{marginRight:"16px"},children:(0,a.jsx)(d.Z,{})})]}),(0,a.jsx)(x.jI,{className:"absolute",style:{minWidth:"100px",maxHeight:"300px"},portal:!1,children:(0,a.jsx)(x.uf,{style:{padding:"12px 0",margin:0},children:n?n.length?n.map((e=>{const{name:s,column:l}=e;return(0,a.jsxs)(x.wt,{value:JSON.stringify(e),className:"flex items-center justify-between ph12",children:[s,(null===t||void 0===t?void 0:t.column)===l&&(0,a.jsx)(u.Z,{className:"ml2"})]},JSON.stringify(e))})):(0,a.jsx)("div",{className:"ph12 gray",children:"No columns found"}):(0,a.jsx)("div",{className:"ph12 dark-gray",children:(0,a.jsx)(h.Z,{})})})})]})},S=e=>{let{type:s,setType:t,columnSchema:l}=e;const n=(0,j.xm)(l);var i,r;return(0,a.jsxs)(x.vz,{onChange:e=>t(e),value:null!==s&&void 0!==s?s:"",disabled:0===n.length,className:"b--solid ba br2 b--light-gray ml2",style:{flexShrink:"0"},children:[(0,a.jsxs)(x.Y4,{className:"flex items-center justify-between f6 fw6 dark-gray",children:[null!==(i=(0,j.a8)(s,null===l||void 0===l?void 0:l.type))&&void 0!==i?i:(0,a.jsx)("span",{className:"light-gray",children:l&&0===n.length?"No filters available":"Operator"}),(0,a.jsx)(x.r9,{className:"inline-flex items-center",style:{marginRight:"16px"},children:(0,a.jsx)(d.Z,{})})]}),(0,a.jsx)(x.jI,{portal:!1,className:"absolute",children:(0,a.jsx)(x.uf,{style:{padding:"12px 0",margin:0},children:n.map((e=>(0,a.jsxs)(x.wt,{value:e,className:"flex items-center justify-between ph12",children:[null!==(r=(0,j.a8)(e,null===l||void 0===l?void 0:l.type))&&void 0!==r?r:(0,a.jsx)("span",{className:"light-gray",children:"Operator"}),s===e&&(0,a.jsx)(u.Z,{className:"ml2"})]},e)))})})]})},R=(0,y.$j)(((e,s)=>{let{notebook:t}=e,{id:a}=s;return{data:(0,g.DY)(t.model,a).data}}),(e=>({dispatch:e})))((e=>{let{id:s,data:t,dispatch:l,mobile:n,flash:i,setFlash:r}=e;const c=t.operations.filter.length,d=c>0;return(0,a.jsx)(o.Q,{nodeId:s,label:"Filter",active:d,countLabel:String(c),icon:m.Z,flash:i,setFlash:r,mobile:n,operation:"filter",children:n?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{}),d&&(0,a.jsx)("span",{className:"fw4 ml1",children:c})]}):(0,a.jsx)(b,{id:s,data:t,dispatch:l})})}))},82666:function(e,s,t){t.d(s,{Q:function(){return p}});var a=t(41799),l=t(69396),n=t(99534),i=t(85893),r=t(94184),c=t.n(r),o=t(67294),d=t(42568),u=t(69150),m=t(3142),h=t(4242);const p=(0,h.$j)((e=>{let{notebook:s}=e;return{disabled:s.safe||(0,m.os)(s)}}))((e=>{var{nodeId:s,disabled:t,children:r,label:m,active:p,countLabel:x,icon:v,flash:f,setFlash:g,mobile:j,operation:y}=e,b=(0,n.Z)(e,["nodeId","disabled","children","label","active","countLabel","icon","flash","setFlash","mobile","operation"]);const N=c()(t?"moon-gray":"dark-gray hover-black",p?"bg-white":"bg-transparent","mr-tiny bn ph2 f6 fw5 pa0 br2 lh-copy pointer flex items-center focus-black-05"),w=(0,h.I0)(),C=(0,o.useRef)(null);return(0,o.useEffect)((()=>{f&&C.current&&(C.current.classList.add("yellow-flash"),setTimeout((()=>{var e;null===(e=C.current)||void 0===e||e.classList.remove("yellow-flash"),g&&g(!1)}),700))}),[f,g]),j?(0,i.jsx)("button",{className:N,onClick:()=>w({type:"showModal",modal:"tableOperation",modalProps:{id:s,operation:y}}),children:r}):(0,i.jsxs)(d.v2,{children:[(0,i.jsxs)(d.j2,(0,l.Z)((0,a.Z)({className:N,style:{minHeight:u.T6-4},disabled:t,"data-cy":"".concat(m.toLowerCase(),"-button"),ref:C},b),{children:[(0,i.jsx)(v,{className:"mr1"}),m,p&&(0,i.jsx)("span",{className:"fw4 ml1 nowrap",children:x})]})),r]})}))},65678:function(e,s,t){t.d(s,{ck:function(){return p},p2:function(){return v}});var a=t(41799),l=t(85893),n=t(94184),i=t.n(n),r=t(67294),c=t(33090),o=t(44516),d=t(42568),u=t(82666),m=t(33042),h=t(4242);const p=e=>{let{data:s,dispatch:t,id:n}=e;const{operations:{slice:i}}=s;var c;const{0:o,1:d}=(0,r.useState)(null!==(c=i.from)&&void 0!==c?c:0);var u;const{0:m,1:h}=(0,r.useState)(null!==(u=i.to)&&void 0!==u?u:100);function p(e){t({type:"setDataOperations",id:n,operations:{slice:(0,a.Z)({},i,e)}})}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x,{type:"from",nodeDataValue:i.from,normalize:e=>null!==e?e:o,setNodeData:e=>{e.from&&d(e.from),p(e)},className:"mb3"},"from-".concat(i.from)),(0,l.jsx)(x,{type:"to",nodeDataValue:i.to,normalize:e=>null!==e?e:m,setNodeData:e=>{e.to&&h(e.to),p(e)}},"to-".concat(i.to))]})},x=e=>{let{type:s,nodeDataValue:t,normalize:a,setNodeData:n,className:o}=e;const{0:d,1:u}=(0,r.useState)(a(t));function m(e){0===e.length?u(a(t)):n({[s]:parseInt(e)})}return(0,l.jsxs)("div",{className:i()("fw6 near-black",o),style:{display:"grid",gridTemplateColumns:"1.25fr 2fr 1fr"},children:[(0,l.jsx)("div",{className:"flex items-center lh-copy",children:"to"===s?"To":"From"}),(0,l.jsxs)("div",{className:"flex items-center pr2",children:[(0,l.jsx)(c.E,{className:"flex items-center",checked:null!==t,onChange:()=>n({[s]:d})}),(0,l.jsx)("input",{type:"number",min:0,className:i()("monospace fw6 b--solid ba br2 b--light-gray",null===t?"gray":"dark-gray"),style:{width:"6rem"},value:d,disabled:null===t,onChange:e=>u(e.target.value),onBlur:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&m(e.currentTarget.value)}})]}),(0,l.jsx)(c.E,{label:"to"===s?"End":"Start",className:"flex items-center",checked:null===t,onChange:()=>n({[s]:null})})]})},v=(0,h.$j)(((e,s)=>{let{notebook:t}=e,{id:a}=s;return{data:(0,m.DY)(t.model,a).data}}),(e=>({dispatch:e})))((e=>{let{id:s,data:t,dispatch:a,mobile:n}=e;const{operations:{slice:i}}=t,r=null!==i.from||null!==i.to;var c,m,h,x;return(0,l.jsx)(u.Q,{nodeId:s,label:"Slice",active:r,countLabel:"".concat(null!==(c=i.from)&&void 0!==c?c:0,"\u2013").concat(null!==(m=i.to)&&void 0!==m?m:"End"),icon:o.Z,mobile:n,operation:"slice",children:n?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(o.Z,{}),r&&(0,l.jsxs)("span",{className:"fw4 ml1 nowrap",children:["[",null!==(h=i.from)&&void 0!==h?h:0,", ",null!==(x=i.to)&&void 0!==x?x:"End","]"]})]}):(0,l.jsx)(d.YI,{className:"bg-white ba b--silver br2 shadow-4 outline-0 pa12 overflow-auto","data-cy":"slice-popover",children:(0,l.jsxs)(d.sd,{children:[(0,l.jsx)("div",{className:"gray f7 pb12",children:"Slice"}),(0,l.jsx)(p,{data:t,dispatch:a,id:s})]})})})}))},42510:function(e,s,t){t.d(s,{PE:function(){return Z},dE:function(){return N}});var a=t(85893),l=t(94184),n=t.n(l),i=t(67294),r=t(76522),c=t(49516),o=t(22027),d=t(47495),u=t(41799),m=t(69396);var h=e=>(0,a.jsxs)("svg",(0,m.Z)((0,u.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,a.jsx)("rect",{x:"2",y:"11",width:"3",height:"2",rx:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"2",y:"2",width:"12",height:"2",rx:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"2",y:"5",width:"9",height:"2",rx:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"2",y:"8",width:"6",height:"2",rx:"1",fill:"currentColor"})]})),p=t(89905),x=t(70975),v=t(42568),f=t(82666),g=t(10718),j=t(33042),y=t(4242);const b=e=>{let{id:s,dispatch:t,data:l}=e;const n=(0,g.vM)(l,t);return(0,a.jsx)(v.YI,{className:"bg-white ba b--silver br2 shadow-4 outline-0 pa12","data-cy":"sort-popover",children:(0,a.jsxs)(v.sd,{children:[(0,a.jsx)("div",{className:"gray f7 pb12",children:"Sort"}),(0,a.jsx)(N,{id:s,data:l,dispatch:t,schema:n})]})})},N=e=>{let{id:s,data:t,dispatch:l,schema:n}=e;const{operations:{sort:i}}=t;return(0,a.jsxs)(a.Fragment,{children:[i.map(((e,i)=>{let{column:r,direction:c}=e;var o,d;const u={column:r,name:null!==(d=null===(o=null===n||void 0===n?void 0:n.get(r))||void 0===o?void 0:o.name)&&void 0!==d?d:r};return(0,a.jsx)(w,{index:i,id:s,data:t,dispatch:l,schema:n,savedColumn:u,savedDirection:c},"".concat(JSON.stringify(u),".").concat(c))})),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(w,{id:s,data:t,dispatch:l,schema:n})})]})},w=e=>{let{id:s,data:t,dispatch:l,index:n,schema:o,savedColumn:u,savedDirection:m}=e;const{0:v,1:f}=(0,i.useState)(u),{0:g,1:j}=(0,i.useState)(m);function y(e,a){const i={column:e,direction:a};if(void 0!==n){const e=[...t.operations.sort];e[n]=i,l({type:"setDataOperations",id:s,operations:{sort:e}})}else l({type:"setDataOperations",id:s,operations:{sort:[...t.operations.sort,i]}}),f(void 0),j(void 0)}return(0,a.jsxs)("div",{className:"flex mb2","data-cy":"sort-row",children:[(0,a.jsxs)(x.vz,{onChange:e=>{const s=JSON.parse(e),{column:t}=s;f(s),void 0!==g&&y(t,g)},value:JSON.stringify(v)||"",className:"b--solid ba br2 b--light-gray",children:[(0,a.jsxs)(x.Y4,{className:"flex items-center justify-between f6 fw6 dark-gray",children:[(0,a.jsx)("div",{style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"},children:void 0===v?(0,a.jsx)("span",{className:"light-gray",children:"Column"}):v.name}),(0,a.jsx)(x.r9,{className:"inline-flex items-center",style:{marginRight:"16px"},children:(0,a.jsx)(r.Z,{})})]}),(0,a.jsx)(C,{data:t,schema:o,selectedColumn:v})]}),(0,a.jsxs)(x.vz,{onChange:e=>{if(j(e),void 0!==v){const{column:s}=v;y(s,e)}},value:g||"",className:"b--solid ba br2 b--light-gray ml2",children:[(0,a.jsxs)(x.Y4,{className:"flex items-center justify-between f6 fw6 dark-gray",children:[void 0===g?(0,a.jsx)("span",{className:"light-gray",children:"Direction"}):"asc"===g?(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)(d.Z,{className:"mr1"}),"Ascending"]}):(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)(h,{className:"mr1"}),"Descending"]}),(0,a.jsx)(x.r9,{className:"inline-flex items-center",style:{marginRight:"16px"},children:(0,a.jsx)(r.Z,{})})]}),(0,a.jsx)(x.jI,{portal:!1,className:"absolute",children:(0,a.jsx)(x.uf,{style:{padding:"12px 0",margin:0},children:["desc","asc"].map(((e,s)=>(0,a.jsxs)(x.wt,{value:e,className:"flex items-center justify-between ph12",style:1===s?{marginBottom:0}:{},children:["asc"===e?(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)(d.Z,{className:"mr1"}),"Ascending"]}):(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)(h,{className:"mr1"}),"Descending"]}),g===e&&(0,a.jsx)(c.Z,{className:"ml2"})]},e)))})})]}),void 0!==n&&(0,a.jsx)("button",{disabled:void 0===v,className:"bg-transparent bn light-gray pointer",onClick:()=>{const e=[...t.operations.sort];e.splice(n,1),l({type:"setDataOperations",id:s,operations:{sort:e}})},children:(0,a.jsx)(p.Z,{})})]},JSON.stringify(v))},C=e=>{let{data:s,schema:t,selectedColumn:l}=e;const r=t&&Array.from(t.entries()).map((e=>{let[s,{name:t}]=e;return{column:s,name:t}})),d=(0,i.useCallback)((e=>s.operations.sort.some((s=>{let{column:t}=s;return t===e}))),[s.operations.sort]);return(0,a.jsx)(x.jI,{className:"absolute",style:{minWidth:"100px",maxHeight:"300px"},portal:!1,children:(0,a.jsx)(x.uf,{style:{padding:"12px 0",margin:0},children:r?r.length?r.map((e=>{const{column:s,name:t}=e;return(0,a.jsxs)(x.wt,{value:JSON.stringify(e),disabled:d(s),className:n()("flex items-center justify-between ph12",d(s)&&(null===l||void 0===l?void 0:l.column)!==s?"light-gray":""),children:[t,(null===l||void 0===l?void 0:l.column)===s&&(0,a.jsx)(c.Z,{className:"ml2"})]},JSON.stringify(e))})):(0,a.jsx)("div",{className:"ph12 gray",children:"No columns found"}):(0,a.jsx)("div",{className:"ph12 dark-gray",children:(0,a.jsx)(o.Z,{})})})})},Z=(0,y.$j)(((e,s)=>{let{notebook:t}=e,{id:a}=s;return{data:(0,j.DY)(t.model,a).data}}),(e=>({dispatch:e})))((e=>{let{id:s,data:t,dispatch:l,mobile:n,flash:i,setFlash:r}=e;const c=t.operations.sort.length,o=c>0;return(0,a.jsx)(f.Q,{nodeId:s,label:"Sort",active:o,countLabel:String(c),icon:d.Z,flash:i,setFlash:r,mobile:n,operation:"sort",children:n?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{}),o&&(0,a.jsx)("span",{className:"fw4 ml1",children:c})]}):(0,a.jsx)(b,{id:s,data:t,dispatch:l})})}))},58127:function(e,s,t){t.d(s,{Y:function(){return l}});var a=t(67294);function l(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>!0;const{0:t,1:l}=(0,a.useState)(!1),{0:n,1:i}=(0,a.useState)(new Set);function r(e){e.preventDefault(),e.stopPropagation()}function c(e){r(e);const t=new Set(n);t.add(e.target),i(t),s(e)&&l(!0)}function o(e){r(e);const s=new Set(n);s.delete(e.target),i(s),s.size||l(!1)}function d(s){r(s),t&&(e(s),l(!1),i(new Set))}return{isDraggingOver:t,dragAndDropEvents:{onDragOver:r,onDragEnter:c,onDragLeave:o,onDrop:d}}}}}]);