"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8017],{57787:function(e,t,n){n.d(t,{Fl:function(){return w},b3:function(){return v},fI:function(){return M},od:function(){return N}});var o=n(41799),l=n(85893),r=n(60357),s=n.n(r),i=n(94184),c=n.n(i),a=n(67294),d=n(9383),m=n(54329),u=n(87769),p=n(46564),h=n(84749),g=n(84193),x=n(7483),y=n(12447),j=n(74873),b=n(70915),f=n(27193);const v=e=>{let{collection:t,format:n,index:o,parentCollection:r,reorder:s}=e;const i=null===r||void 0===r?void 0:r.ordered,c=r&&void 0!==o&&r.ordered?o+1:void 0,d=(0,a.useRef)(null);(0,j.z)({index:o,ref:d,dataSelector:"collection-order",onDrop:s,disabled:!i});const m=i?(0,l.jsx)("button",{"aria-label":"Drag to reorder",className:"pv2 pr2 moon-gray hover-dark-gray bg-transparent bn tooltipped tooltipped-e",ref:d,style:{cursor:"grab",lineHeight:0},children:(0,l.jsx)(p.Z,{style:{width:14}})}):null;return(0,l.jsx)(C,{collection:t,format:n,url:(0,b.WG)(t),order:c,hamburger:m,showAccess:!0,showMenu:!0})},w=e=>{let{collection:t,format:n,index:o,parentCollection:r}=e;const s=r&&void 0!==o&&r.ordered?o+1:void 0;return(0,l.jsx)(C,{collection:t,format:n,url:(0,b.WG)(t),order:s,showMenu:!1})},C=e=>{let{collection:t,format:n="list",url:o,order:r,hamburger:s,showMenu:i,showAccess:a=!1}=e;const{title:m,description:u,listing_count:p,thumbnail:h}=t;return(0,l.jsxs)("div",{"data-cy":"collection-listing",className:c()("grid"===n?"pt2":"pv2 flex items-center"),children:[s,void 0!==r&&(0,l.jsxs)("div",{className:"mr2 f6 fw6",children:[r,"."]}),(0,l.jsx)(g.Z,{href:o,children:(0,l.jsx)("a",{className:"no-underline",children:(0,l.jsx)(T,{thumbnail:h,format:n})})}),(0,l.jsxs)("div",{className:"grid"===n?"pt2":"ml3 flex-auto",children:["grid"===n&&a&&(0,l.jsx)("div",{className:"mb1 f7 fw5 gray",children:(0,l.jsx)(N,{collection:t})}),(0,l.jsxs)("div",{className:"flex f6 fw6 justify-between lh-f6",children:[(0,l.jsx)("div",{children:(0,l.jsx)(g.Z,{href:o,children:(0,l.jsxs)("a",{className:"no-underline near-black hover-blue",children:[m,(0,l.jsxs)("span",{className:"fw5 gray",children:[" (",p,")"]})]})})}),"grid"===n&&i&&(0,l.jsx)(d.W,{collection:t,inList:!0})]}),(0,l.jsxs)("div",{className:"flex pr3 f7 fw5 mid-gray lh-title items-center truncate truncate-two-lines",title:u,children:["list"===n&&a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"gray",children:(0,l.jsx)(N,{collection:t})}),u?(0,l.jsx)("span",{className:"ph1 light-gray",children:"\u2022"}):null]}),u||null]})]}),"list"===n&&i&&(0,l.jsx)(d.W,{collection:t,inList:!0})]})},k={className:"mr1 moon-gray",height:13,width:13},N=e=>{let{collection:t,title:n,className:r,size:s}=e;return(0,l.jsxs)("span",{className:c()("inline-flex items-center",r),title:n,children:["private"===t.type?(0,l.jsx)(h.Z,(0,o.Z)({},k,s)):(0,l.jsx)(u.Z,(0,o.Z)({},k,s)),(0,b.iM)(t)]})},T=e=>{let{thumbnail:t,format:n}=e;const o="grid"===n?10:8,r="calc(100% - ".concat(o,"px)"),i=(0,y.GS)(y.ro);return(0,l.jsxs)("div",{style:"grid"===n?{paddingTop:"62.5%"}:{width:i?72:108,height:66},className:"jsx-84d72bb4b9015d25 relative collection-thumbnail",children:[(0,l.jsx)("div",{style:{top:o,left:o,width:r,height:r},className:"jsx-84d72bb4b9015d25 absolute bg-white ba b--silver br2"}),(0,l.jsx)("div",{style:{top:o/2,left:o/2,width:r,height:r},className:"jsx-84d72bb4b9015d25 absolute bg-white ba b--silver br2"}),(0,l.jsx)(x.p,{className:"absolute top-0 left-0 ba b--silver br2 overflow-hidden",style:{width:r,height:r},hash:t}),(0,l.jsx)(s(),{id:"84d72bb4b9015d25",children:".collection-thumbnail.jsx-84d72bb4b9015d25:hover div.jsx-84d72bb4b9015d25{-webkit-box-shadow:0 4px 12px rgba(0,0,0,.06);-moz-box-shadow:0 4px 12px rgba(0,0,0,.06);box-shadow:0 4px 12px rgba(0,0,0,.06);-webkit-transform:translateY(-1px);-moz-transform:translateY(-1px);-ms-transform:translateY(-1px);-o-transform:translateY(-1px);transform:translateY(-1px);border-color:var(--light-gray)}"})]})},M=e=>{let{collection:t}=e;return t.parent_collections.length<=0?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{className:"mr1 moon-gray",style:{flexShrink:0}}),(0,l.jsxs)("div",{className:"truncate",children:["Listed in"," ",(0,f.If)(t.parent_collections.map(((e,t)=>(0,l.jsx)(g.Z,{href:(0,b.WG)(e),children:(0,l.jsx)("a",{className:"no-underline dark-gray hover-blue",children:e.title})},t))))]})]})}},9383:function(e,t,n){n.d(t,{W:function(){return u}});var o=n(85893),l=(n(67294),n(37497)),r=n(33112),s=n(17764),i=n(14500),c=n(63231),a=n(21013),d=n(8433),m=n(42568);const u=(0,n(56651).$j)(null,(e=>({dispatch:e})))((e=>{let{dispatch:t,collection:n,inList:u}=e;const p="parent_collections"in n?n.parent_collections.length:n.parent_collection_count;return(0,o.jsxs)(m.v2,{children:[u?(0,o.jsx)(l.hU,{"data-cy":"collection-actions",className:"moon-gray hover-near-black",icon:i.Z,colorless:!0,asMenuButton:!0}):(0,o.jsx)(l.aX,{"data-cy":"edit-collection",text:"Edit",icon:s.Z,iconPosition:"right",colorless:!0,asMenuButton:!0}),(0,o.jsxs)(m.qy,{children:[(0,o.jsxs)(m.sN,{onSelect:()=>{t({type:"showModal",modal:"editCollection",modalProps:{collection:n}})},children:[(0,o.jsx)(c.Z,{className:"mr2"}),"Edit Collection"]}),(0,o.jsxs)(m.sN,{onSelect:()=>{t({type:"showModal",modal:"collections",modalProps:{collectionListing:n}})},children:[(0,o.jsx)(r.Z,{className:"mr2"}),p>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"nowrap",children:"In collections"}),(0,o.jsx)("span",{className:"ml2 f7 mid-gray bg-light-silver br2",style:{padding:"2px 4.5px"},children:p})]}):(0,o.jsx)("span",{className:"nowrap",children:"Add to collections"})]}),(0,o.jsxs)(m.sN,{onSelect:()=>{t({type:"showModal",modal:"setThumbnail",modalProps:{collection:n}})},children:[(0,o.jsx)(a.Z,{className:"mr2"})," Set thumbnail"]}),(0,o.jsxs)(m.sN,{onSelect:()=>{t({type:"showModal",modal:"deleteCollection",modalProps:{collection:n}})},className:"hover-dark-red hover-bg-washed-red",children:[(0,o.jsx)(d.Z,{className:"mr2"})," Delete"]})]})]})}))},77025:function(e,t,n){n.d(t,{H:function(){return j},W:function(){return y}});var o=n(85893),l=n(56424),r=n(67294),s=n(37497),i=n(16691),c=n(75713),a=n(11233),d=n(58171),m=n(24576),u=n(93452),p=n(19671),h=n(66421),g=n(65538);const x=e=>{let{collection:t,isNew:n,onDismiss:g,submitCollection:x,currentUser:y}=e;const{owner:j}=t,{0:b,1:f}=(0,r.useState)(""),{0:v,1:w}=(0,r.useState)("private"),{0:C,1:k}=(0,r.useState)(!1),{0:N,1:T}=(0,r.useState)("");function M(e){e.preventDefault(),g(),b!==t.title&&(0,p.MR)((0,p.y6)({type:"collection:manage:setTitle",data:{},collection:t,currentUser:y,eventVersion:1})),v!==t.type&&(0,p.MR)((0,p.y6)({type:"collection:manage:setType",data:{newSetting:v},collection:t,currentUser:y,eventVersion:1})),C!==t.ordered&&(0,p.MR)((0,p.y6)({type:"collection:manage:setOrdered",data:{newSetting:C},collection:t,currentUser:y,eventVersion:1})),N!==t.description&&(0,p.MR)((0,p.y6)({type:"collection:manage:setDescription",data:{},collection:t,currentUser:y,eventVersion:1})),x({id:t.id,title:b,type:v,ordered:C,description:N,owner:j},t.title)}return(0,r.useEffect)((()=>{f(t.title),w(t.type),k(t.ordered),T(t.description)}),[f,w,k,T,t]),(0,o.jsx)(l.Vq,{onDismiss:g,"aria-labelledby":"modal-title",children:(0,o.jsxs)(c.l,{onSubmit:M,children:[(0,o.jsx)(u.xB,{title:n?"Create collection":"Edit collection",onDismiss:g}),(0,o.jsx)(u.fe,{children:(0,o.jsxs)("div",{className:"pt3",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"var(--spacing-medium)"},children:[(0,o.jsxs)("div",{className:"flex flex-column",children:[(0,o.jsx)("label",{className:"pb2 f6 fw5 mid-gray",htmlFor:"name",children:"Title"}),(0,o.jsx)(a.Z,{type:"text",name:"title",value:b,maxLength:250,placeholder:"Collection Title",onChange:e=>f(e.target.value)})]}),(0,o.jsxs)("div",{className:"flex flex-column",children:[(0,o.jsx)("label",{className:"pb2 f6 fw5 mid-gray",htmlFor:"type",children:"Visibility"}),(0,o.jsxs)(d.P,{name:"type",className:"w-100",onChange:e=>w(e.target.value),value:v,children:[(0,o.jsx)("option",{value:"private",children:"team"===j.type?"Team Private":"Private"}),(0,h.Fh)(y,j)&&(0,o.jsx)("option",{value:"public",children:"Public"})]})]}),(0,o.jsxs)("div",{className:"flex flex-column",style:{gridColumnEnd:"span 2"},children:[(0,o.jsx)("label",{className:"pb2 f6 fw5 mid-gray",htmlFor:"name",children:"Description"}),(0,o.jsx)(m.g,{className:"h3 lh-copy",name:"description",value:N,maxLength:250,autoResize:!0,onChange:e=>T(e.target.value)})]}),(0,o.jsxs)("div",{style:{gridColumnEnd:"span 2"},children:[(0,o.jsx)(i.X,{id:"ordered",label:"Ordered",checked:C,onChange:e=>k(e.target.checked)}),(0,o.jsx)("div",{className:"pt2 pb1 f6 gray lh-f6",children:"Ordered collections allow you to configure the order in which notebooks are displayed to readers."})]})]})}),(0,o.jsx)(u.mz,{children:(0,o.jsxs)(s.CQ,{children:[(0,o.jsx)(s.kq,{text:"Cancel",onClick:g}),(0,o.jsx)(s.KM,{text:n?"Create collection":"Save changes",onClick:M})]})})]})})},y=(0,g.$j)((e=>{let{context:t,currentUser:n}=e;return{isNew:!0,currentUser:n,collection:{id:"",title:"",type:"private",description:"",ordered:!1,owner:t.context||n}}}),(e=>({submitCollection(t){e({type:"createCollection",collection:t})}})))(x),j=(0,g.$j)(((e,t)=>{let{currentUser:n}=e,{collection:o}=t;return{isNew:!1,collection:o,currentUser:n}}),(e=>({submitCollection(t,n){e({type:"editCollection",collection:t,oldTitle:n})}})))(x)},40452:function(e,t,n){n.d(t,{j:function(){return f}});var o=n(41799),l=n(69396),r=n(93452),s=n(78111),i=n(85893),c=n(67294),a=n(8433),d=n(19671),m=n(65538);const u=(0,m.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{currentUser:t,onDismiss:n,collection:o,dispatch:l}=e;return(0,i.jsx)(r.On,{title:"Move to trash",icon:a.Z,description:"Are you sure you want to delete this collection? This operation cannot be undone. Notebooks in the collection will not be deleted.",onCancel:n,onConfirm:()=>{n(),l({type:"deleteCollection",collection:o}),(0,d.MR)((0,d.y6)({type:"collection:manage:delete",data:{},collection:o,currentUser:t,eventVersion:1}))},destructive:!0})}));var p=n(77025);const h=(0,m.$j)(null,(e=>({dispatch:e})))((e=>{let{onDismiss:t,dispatch:n}=e;return(0,i.jsx)(r.On,{title:"Remove section from homepage",icon:a.Z,description:"If you delete the \u201cQuick guides\u201d section from your homepage, you can add it back at any time on your Settings page.",onCancel:t,onConfirm:()=>{t(),n({type:"updateCurrentUserSetting",key:"guides",value:"hide"})}})}));var g=n(56424),x=n(28925),y=n(37497),j=n(75713);const b=(0,m.$j)((e=>{let{currentUser:t}=e;return{currentUser:t}}),(e=>({dispatch:e})))((e=>{let{currentUser:t,dispatch:n,onDismiss:o,collection:l}=e;const{0:s,1:a}=(0,c.useState)(""),{custom_thumbnail:m,default_thumbnail:u}=l;return(0,i.jsx)(g.Vq,{onDismiss:o,"aria-labelledby":"modal-title",children:(0,i.jsxs)(j.l,{onSubmit:function(e){e.preventDefault(),n({type:"setCollectionThumbnail",thumbnail:s,collection:l}),(0,d.MR)((0,d.y6)({type:"collection:manage:setThumbnail",data:{},collection:l,currentUser:t,eventVersion:1})),o()},children:[(0,i.jsx)(r.xB,{title:"Set thumbnail",onDismiss:o}),(0,i.jsx)(r.fe,{children:(0,i.jsx)(x.E,{thumbnail:m,defaultThumbnail:u,onValueChange:e=>{a(e)}})}),(0,i.jsx)(r.mz,{children:(0,i.jsxs)(y.CQ,{children:[(0,i.jsx)(y.kq,{text:"Cancel",onClick:o}),(0,i.jsx)(y.KM,{text:"Set image",type:"submit"})]})})]})})})),f=(0,r.zm)((0,l.Z)((0,o.Z)({},s.$),{createCollection:p.W,editCollection:p.H,deleteCollection:u,hideGuides:h,setThumbnail:b}))},33112:function(e,t,n){var o=n(41799),l=n(69396),r=n(85893);n(67294);t.Z=e=>(0,r.jsxs)("svg",(0,l.Z)((0,o.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,r.jsx)("path",{d:"M3 3H7.5V1H3V3ZM6.5 2V7.5H8.5V2H6.5ZM7.5 6.5H2V8.5H7.5V6.5ZM3 7.5V3H1V7.5H3ZM6.5 7.5V12H8.5V7.5H6.5ZM6.5 12H3V14H6.5V12ZM3 12V7.5H1V12H3ZM7.5 8.5H12V6.5H7.5V8.5ZM14 6.5V3H12V6.5H14ZM12 1H7.5V3H12V1ZM14 3C14 1.89543 13.1046 1 12 1V3H14ZM12 8.5C13.1046 8.5 14 7.60457 14 6.5H12V8.5ZM6.5 12V14C7.60457 14 8.5 13.1046 8.5 12H6.5ZM3 12H1C1 13.1046 1.89543 14 3 14V12ZM3 1C1.89543 1 1 1.89543 1 3H3V1Z",fill:"currentColor"}),(0,r.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"15",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M15 12H9",stroke:"currentColor",strokeWidth:"2"})]}))},77419:function(e,t,n){n.d(t,{YK:function(){return p},bd:function(){return d},p1:function(){return m},wd:function(){return u}});var o=n(85893),l=n(36975),r=n(18943),s=n(27193),i=n(64451),c=n(88725),a=n(3142);const d=e=>{let{notebook:t}=e;const{model:n,thumbnail:l,saveTime:r,publishTime:d}=t,m=(0,s.Ui)(n),u=(0,i.o)(n.nodes),p=t.authors.length?t.authors:[t.owner],h=(0,c.UW)(t);return(0,o.jsxs)(o.Fragment,{children:[(0,a.cg)(t)||(0,a.nv)(t)?(0,o.jsx)("meta",{name:"robots",content:"noindex"}):null,(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com").concat(h)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:m}),(0,o.jsx)("meta",{property:"og:title",content:m}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{name:"description",content:u}),(0,o.jsx)("meta",{property:"og:description",content:u})]}),l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:(0,c.Nl)(l)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,o.jsx)("meta",{name:"author",content:p.map((e=>(0,s.KY)(e))).join(", ")}),p.map((e=>(0,o.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(e.login)},e.login))),d&&(0,o.jsx)("meta",{property:"article:published_time",content:d.toISOString()}),(0,o.jsx)("meta",{property:"article:modified_time",content:r.toISOString()})]})},m=e=>{let{collection:t}=e;const{description:n,thumbnail:l,owner:r,owner:{login:i},slug:a,update_time:d}=t,m=(0,s.Ui)(t);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/collection/@").concat(i,"/").concat(a)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:m}),(0,o.jsx)("meta",{property:"og:title",content:m}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{name:"description",content:n}),(0,o.jsx)("meta",{property:"og:description",content:n})]}),l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:(0,c.Nl)(l)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,o.jsx)("meta",{name:"author",content:(0,s.KY)(r)}),(0,o.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(i)}),(0,o.jsx)("meta",{property:"article:modified_time",content:d.toISOString()})]})},u=e=>{let{user:t}=e;const{avatar_url:n,bio:l,login:r}=t,i=(0,s.KY)(t),c="Recent notebooks by ".concat(i);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"profile"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/@").concat(r)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:c}),(0,o.jsx)("meta",{property:"og:title",content:c}),(0,o.jsx)("meta",{property:"description",content:l}),(0,o.jsx)("meta",{property:"og:description",content:l}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:n}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary"})]}),(0,o.jsx)("meta",{property:"profile:last_name",content:i}),(0,o.jsx)("meta",{property:"profile:username",content:r})]})},p=e=>{let{fields:t}=e;const{slug:n,metaTitle:s,metaDescription:i,metaImage:c,title:a,summary:d,thumbnail:m,publishDate:u,authors:p}=t,h=null!==s&&void 0!==s?s:a,g=null!==i&&void 0!==i?i:d,x=null!==c&&void 0!==c?c:m,y=(0,l.I4)(u);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/blog/").concat(n)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:h}),(0,o.jsx)("meta",{property:"og:title",content:h}),(0,o.jsx)("meta",{name:"description",content:g}),(0,o.jsx)("meta",{property:"og:description",content:g}),(0,o.jsx)("meta",{property:"og:image",content:(0,r.GR)(x.fields.file.url)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{name:"author",content:p.map((e=>e.fields.name)).join(", ")}),y&&(0,o.jsx)("meta",{property:"article:published_time",content:y.toISOString()})]})}},36975:function(e,t,n){n.d(t,{I4:function(){return r},Yg:function(){return l},ei:function(){return s}});var o=n(18943);const l=["publishDate","category","title","slug","summary","heroBackground","thumbnail","authors"].map((e=>"fields.".concat(e))).join(",");function r(e){try{if(e.length!=="YYYY-MM-DD".length)throw new Error('string must be in "YYYY-MM-DD" format');const[t,n,o]=e.split("-");return new Date(+t,+n-1,+o)}catch(t){return void console.error(t)}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return(0,o.r_)(e,(e=>{const n=r(e.fields.publishDate);return n&&n.getTime()<=t.getTime()}))}},56651:function(e,t,n){n.d(t,{$j:function(){return r},zt:function(){return o.zt}});var o=n(14416),l=n(54924);const r=(0,l.S3)();(0,l.gR)()},68298:function(e,t,n){n.d(t,{R:function(){return m}});var o=n(11163),l=n.n(o),r=n(602),s=n(19671),i=n(70915),c=n(36448);function a(){l().replace(l().asPath)}var d=n(17152);const m={forkRequested:async(e,t,n)=>{let{notebook:o,currentUser:l}=e;if(o.isForking)return;const r=await(0,d.Fe)(l,o,t,n);r?(n({type:"showSuccessToast",message:"Notebook forked to ".concat(r.owner.login),key:"fork"}),n({type:"forkSucceeded",id:r.id})):n({type:"forkFailed"})},createCollection:async(e,t,n)=>{let{context:o,currentUser:r}=e,{collection:{type:c,title:a,description:d}}=t;const m=o.context;n({type:"showProcessingToast",key:"createCollection",message:"Creating collection\u2026"});try{const e=await(0,i.BL)(a,c,m||r,d);if(!e)return void n({type:"showErrorToast",key:"createCollection",message:"Oops, Creating collection failed. Try again?"});(0,s.MR)((0,s.y6)({type:"collection:manage:create",data:{trigger:"click",source:"createCollectionModal"},eventVersion:1,collection:e,currentUser:r})),n({type:"showSuccessToast",key:"createCollection",message:"Collection created."}),l().push((0,i.WG)(e))}catch(u){n({type:"showErrorToast",key:"createCollection",message:"Oops, Creating collection failed. Try again?"})}},editCollection:async(e,t,n)=>{let{collection:o,oldTitle:l}=t;n({type:"showProcessingToast",key:"editCollection",message:'Editing collection "'.concat(l,'"\u2026')});try{const{id:e,title:t,description:s,type:i,ordered:c}=o;await(0,r.Fv)("/collection/".concat(e,"/edit"),{title:t,description:s,type:i,ordered:c}),n({type:"showSuccessToast",key:"editCollection",message:'Collection "'.concat(l,'" edited.')}),a()}catch(s){n({type:"showErrorToast",key:"editCollection",message:'Oops, Editing collection "'.concat(l,'" failed. Try again?')})}},deleteCollection:async(e,t,n)=>{let{collection:o}=t;const{id:s}=o;n({type:"showProcessingToast",key:"deleteCollection",message:"Deleting collection\u2026"});try{await(0,r.Fv)("/collection/".concat(s,"/delete")),n({type:"showSuccessToast",key:"deleteCollection",message:"Collection deleted successfully!."}),l().replace((0,c.$2)(o.owner))}catch(i){n({type:"showErrorToast",key:"deleteCollection",message:"Oops, deleting collection failed. Try again?"})}},setCollectionThumbnail:async(e,t,n)=>{let{collection:o,thumbnail:l}=t;const{title:s,id:i}=o;n({type:"showProcessingToast",key:"setCollectionThumbnail",message:"Setting thumbnail for ".concat(s,"\u2026")});try{await(0,r.Fv)("/collection/".concat(i,"/thumbnail"),{thumbnail:l||null}),n({type:"showSuccessToast",key:"setCollectionThumbnail",message:'Collection "'.concat(s,'" thumbnail set.')}),a()}catch(c){n({type:"showErrorToast",key:"setCollectionThumbnail",message:"Oops, setting thumbnail failed. Try again?"})}},updateCollectionInCollections:async(e,t,n)=>{let{currentUser:o}=e,{addTo:l,removeFrom:i,onDismiss:c,collectionId:d}=t;(await Promise.allSettled([...l.map((e=>(0,r.Fv)("/collection/".concat(e.id,"/add"),{collection_listing_id:d}))),...i.map((e=>(0,r.Fv)("/collection/".concat(e.id,"/remove"),{collection_listing_id:d})))])).some((e=>"fulfilled"!==e.status))?n({type:"showErrorToast",message:"Oops, collections update failed. Try again?",key:"collections"}):(l.forEach((e=>(0,s.MR)((0,s.y6)({type:"collection:manage:addCollectionListing",data:{addedListingId:d},collection:e,currentUser:o,eventVersion:1})))),i.forEach((e=>(0,s.MR)((0,s.y6)({type:"collection:manage:removeCollectionListing",data:{removedListingId:d},collection:e,currentUser:o,eventVersion:1}))))),a(),c()}}},77180:function(e,t,n){n.d(t,{L:function(){return o}});const o={selectNotebook:(e,t)=>{let{notebook:n}=t;return n}}}}]);