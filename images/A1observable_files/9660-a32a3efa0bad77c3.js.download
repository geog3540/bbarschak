(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9660,1861],{54397:function(e,t,n){"use strict";n.d(t,{W:function(){return v}});var o=n(85893),s=n(67294),r=n(14921),i=n(80026),a=n(41664),l=n.n(a),c=n(11163),u=n(37497),d=n(89905),m=n(97058),p=n(97559),h=n(19671);const g=e=>{let{onClose:t,announcement:{fields:n},currentUser:a}=e;const g=(0,c.useRouter)(),{0:b}=(0,s.useState)((()=>new Date)),{content:f,image:y,buttonText:v,buttonLink:x}=n,j=(0,s.useMemo)((()=>x?new URL(x,"https://observablehq.com"):void 0),[x]),k=(0,s.useMemo)((()=>{try{return(null===j||void 0===j?void 0:j.pathname)!==g.asPath&&(!(n.startDate&&new Date(n.startDate)>b)&&!(n.endDate&&new Date(n.endDate)<b))}catch(e){return(0,i.Tb)(e),!1}}),[b,n,g.asPath,j]);(0,s.useEffect)((()=>{(null===j||void 0===j?void 0:j.pathname)===g.asPath&&t()}),[t,j,g.asPath]);const w=(0,s.useCallback)((()=>{t(),(0,h.MR)((0,h.a$)({type:"marketing:view:productAnnouncementEngageClick",currentUser:a,data:{name:n.name,buttonText:n.buttonText,buttonLink:n.buttonLink},eventVersion:1}))}),[t,a,n]),S=(0,s.useCallback)((()=>{t(),(0,h.MR)((0,h.a$)({type:"marketing:view:productAnnouncementDismissClick",currentUser:a,data:{name:n.name},eventVersion:1}))}),[t,a,n]);return k?(0,o.jsx)(r.h,{children:(0,o.jsxs)("div",{className:"ba b--light-silver br2 shadow-5 relative bg-white z-2",style:{maxWidth:"315px",bottom:30,right:30,position:"fixed"},children:[(0,o.jsx)(u.hU,{colorless:!0,icon:d.Z,className:"absolute bg-white right-0 ma2",onClick:S,solidBackground:!0,"data-testid":"announcement-banner-close"}),(0,o.jsx)(m.Z,{image:y,alt:"Announcement image"}),(0,o.jsxs)("div",{className:"pa3","data-testid":"announcement-banner-div",children:[f&&(0,o.jsx)(p.Z,{className:"pb3",document:f}),j?(0,o.jsx)(l(),{href:j.toString(),className:"white bg-blue b--blue animate-all pointer primary-button-shadow hover-bg-dark-blue hover-b--dark-blue f6 fw6 br2 ba relative pa2 flex items-center justify-center no-underline",onClick:w,children:v}):(0,o.jsx)(u.KM,{className:"w-100",text:v||"Got it!",onClick:w})]})]})}):null};var b=n(40821);var f=n(40042);const y="announcement_entry_id",v=(0,f.$j)((e=>{let{currentUser:t,decorations:n}=e;return{currentUser:t,decorations:n}}),(e=>({dispatch:e})))((e=>{let{currentUser:t,dispatch:n}=e;const{0:r,1:i}=(0,s.useState)(!1),{data:a}=function(){let e,{skipFetch:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{data:n,error:o}=(0,b.ZP)(t?null:"/api/cms/entries?content_type=announcement&limit=1&order=-sys.createdAt",(async e=>{const t=await fetch(e);if(!t.ok)throw await t.json();return t.json()}),{revalidateOnFocus:!1});return n&&n.items.length>0&&(e=n.items[0]),{data:e,error:o}}({skipFetch:!t}),l=null===a||void 0===a?void 0:a.sys.id;(0,s.useEffect)((()=>{if(!t||!l)return;t.settings.announcement_entry_id!==l&&i(!0)}),[t,l,n]);const c=(0,s.useCallback)((()=>{i(!1),l&&n({type:"updateCurrentUserSetting",key:y,value:l})}),[n,l]);return a&&r?(0,o.jsx)(g,{announcement:a,onClose:c}):null}))},97058:function(e,t,n){"use strict";var o=n(41799),s=n(99534),r=n(85893),i=n(18943);t.Z=e=>{var{image:t,alt:n}=e,a=(0,s.Z)(e,["image","alt"]);if("undefined"===typeof t)return null;const{file:l,description:c}=t.fields;return(0,r.jsx)("img",(0,o.Z)({src:(0,i.GR)(l.url),alt:null!==n&&void 0!==n?n:c},a))}},97559:function(e,t,n){"use strict";var o=n(41799),s=n(85893),r=n(60357),i=n.n(r),a=n(74129),l=n(86437);t.Z=e=>{let{document:t,renderMark:n={},renderNode:r={},className:c}=e;if("undefined"===typeof t)return null;if("string"===typeof t)throw new Error("Document is not a RichText object and should be rendered directly");const u={renderMark:(0,o.Z)({},n),renderNode:(0,o.Z)({[l.BLOCKS.PARAGRAPH]:(e,t)=>(0,s.jsxs)("p",{style:{margin:0},className:"jsx-17502f83cc37dac7",children:[t,(0,s.jsx)(i(),{id:"17502f83cc37dac7",children:"p.jsx-17502f83cc37dac7:not(:last-of-type){padding-bottom:var(--spacing-medium)}"})]}),[l.BLOCKS.UL_LIST]:(e,t)=>(0,s.jsx)("ul",{className:"pl3",style:{listStyleType:"disc",margin:0},children:t}),[l.BLOCKS.LIST_ITEM]:(e,t)=>(0,s.jsxs)("li",{className:"jsx-1aac4797f0960583",children:[t,(0,s.jsx)(i(),{id:"1aac4797f0960583",children:"li.jsx-1aac4797f0960583:not(:last-of-type){padding-bottom:var(--spacing-medium)}"})]})},r)};return(0,s.jsx)("div",{className:c,children:(0,a.h)(t,u)})}},77419:function(e,t,n){"use strict";n.d(t,{YK:function(){return p},bd:function(){return u},p1:function(){return d},wd:function(){return m}});var o=n(85893),s=n(36975),r=n(18943),i=n(27193),a=n(64451),l=n(88725),c=n(3142);const u=e=>{let{notebook:t}=e;const{model:n,thumbnail:s,saveTime:r,publishTime:u}=t,d=(0,i.Ui)(n),m=(0,a.o)(n.nodes),p=t.authors.length?t.authors:[t.owner],h=(0,l.UW)(t);return(0,o.jsxs)(o.Fragment,{children:[(0,c.cg)(t)||(0,c.nv)(t)?(0,o.jsx)("meta",{name:"robots",content:"noindex"}):null,(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com").concat(h)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:d}),(0,o.jsx)("meta",{property:"og:title",content:d}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{name:"description",content:m}),(0,o.jsx)("meta",{property:"og:description",content:m})]}),s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:(0,l.Nl)(s)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,o.jsx)("meta",{name:"author",content:p.map((e=>(0,i.KY)(e))).join(", ")}),p.map((e=>(0,o.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(e.login)},e.login))),u&&(0,o.jsx)("meta",{property:"article:published_time",content:u.toISOString()}),(0,o.jsx)("meta",{property:"article:modified_time",content:r.toISOString()})]})},d=e=>{let{collection:t}=e;const{description:n,thumbnail:s,owner:r,owner:{login:a},slug:c,update_time:u}=t,d=(0,i.Ui)(t);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/collection/@").concat(a,"/").concat(c)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:d}),(0,o.jsx)("meta",{property:"og:title",content:d}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{name:"description",content:n}),(0,o.jsx)("meta",{property:"og:description",content:n})]}),s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:(0,l.Nl)(s)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,o.jsx)("meta",{name:"author",content:(0,i.KY)(r)}),(0,o.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(a)}),(0,o.jsx)("meta",{property:"article:modified_time",content:u.toISOString()})]})},m=e=>{let{user:t}=e;const{avatar_url:n,bio:s,login:r}=t,a=(0,i.KY)(t),l="Recent notebooks by ".concat(a);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"profile"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/@").concat(r)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:l}),(0,o.jsx)("meta",{property:"og:title",content:l}),(0,o.jsx)("meta",{property:"description",content:s}),(0,o.jsx)("meta",{property:"og:description",content:s}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:image",content:n}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary"})]}),(0,o.jsx)("meta",{property:"profile:last_name",content:a}),(0,o.jsx)("meta",{property:"profile:username",content:r})]})},p=e=>{let{fields:t}=e;const{slug:n,metaTitle:i,metaDescription:a,metaImage:l,title:c,summary:u,thumbnail:d,publishDate:m,authors:p}=t,h=null!==i&&void 0!==i?i:c,g=null!==a&&void 0!==a?a:u,b=null!==l&&void 0!==l?l:d,f=(0,s.I4)(m);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/blog/").concat(n)}),(0,o.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,o.jsx)("meta",{name:"title",content:h}),(0,o.jsx)("meta",{property:"og:title",content:h}),(0,o.jsx)("meta",{name:"description",content:g}),(0,o.jsx)("meta",{property:"og:description",content:g}),(0,o.jsx)("meta",{property:"og:image",content:(0,r.GR)(b.fields.file.url)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{name:"author",content:p.map((e=>e.fields.name)).join(", ")}),f&&(0,o.jsx)("meta",{property:"article:published_time",content:f.toISOString()})]})}},28445:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var o=n(67294),s=n(31115);function r(e,t,n){const r=(0,o.useRef)(),i=(0,o.useRef)(e),a=(0,o.useRef)([]),l=(0,o.useRef)(t);l.current=t,(0,o.useEffect)((()=>{const t=i.current;if(i.current=e,!l.current)return;const o=[];for(const[n,s]of e){const e=t.get(n);(null===e||void 0===e?void 0:e.doc)!==s.doc&&o.push(n)}const c=Array.from(t.keys()),u=Array.from(e.keys());!o.length&&(0,s.u)(c,u)||(a.current=o,r.current||(r.current=setTimeout((()=>{r.current=void 0,n({type:"updateSearchResults",nodeIds:a.current})}),100)))}),[e,n])}},36975:function(e,t,n){"use strict";n.d(t,{I4:function(){return r},Yg:function(){return s},ei:function(){return i}});var o=n(18943);const s=["publishDate","category","title","slug","summary","heroBackground","thumbnail","authors"].map((e=>"fields.".concat(e))).join(",");function r(e){try{if(e.length!=="YYYY-MM-DD".length)throw new Error('string must be in "YYYY-MM-DD" format');const[t,n,o]=e.split("-");return new Date(+t,+n-1,+o)}catch(t){return void console.error(t)}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return(0,o.r_)(e,(e=>{const n=r(e.fields.publishDate);return n&&n.getTime()<=t.getTime()}))}},18943:function(e,t,n){"use strict";n.d(t,{GR:function(){return a},r_:function(){return l}});var o=n(41799),s=n(69396),r=(n(42474),n(10159),n(39593)),i=n.n(r);n(83454);new(i())({max:1e3,ttl:6e5});function a(e){if(!e.startsWith("/"))return e;return new URL(e,"https://observablehq.com").toString()}function l(e,t){const n=e.items.filter(t);return(0,s.Z)((0,o.Z)({},e),{items:n})}},61870:function(e,t,n){"use strict";n.d(t,{CU:function(){return u},Kj:function(){return y},au:function(){return d},dY:function(){return f},gg:function(){return h},iQ:function(){return l},kO:function(){return m},qc:function(){return g},r2:function(){return p},rw:function(){return b}});var o=n(41799),s=n(52054),r=n(602),i=n(27193),a=n(3142);const l=()=>({isPublishing:!0});function c(e,t){e({type:"showErrorToast",message:t,key:"publish"}),e({type:"publishFailed"})}const u=async(e,t,n)=>{let{notebook:o}=e,{unlisted:s,customSlug:l,customThumbnail:u,live:d}=t;if(o.isPublishing)return;const{id:m,slug:p,thumbnail:h}=o,g=(0,i.Ui)("model"in o?o.model:"title"in o?o:null);if(void 0!==l&&p!==l){n({type:"showProcessingToast",key:"publish",message:"Setting slug for ".concat(g,"\u2026")});try{await(0,r.Fv)("/document/".concat(m,"/slug"),{slug:l||null})}catch(y){return void(y.errors&&y.errors.length>0&&"SLUG_INVALID"===(null===y||void 0===y?void 0:y.errors[0].code)?c(n,"Setting notebook URL failed: URL invalid."):c(n,"Oops, setting notebook URL failed. Try again?"))}}let b=h;if(void 0!==u&&(u||h!==o.defaultThumbnail)&&u!==h){n({type:"showProcessingToast",key:"publish",message:"Setting thumbnail for ".concat(g,"\u2026")});try{b=await(0,r.Fv)("/document/".concat(m,"/thumbnail"),{thumbnail:u||null})||o.defaultThumbnail}catch(v){return void c(n,"Oops, setting notebook thumbnail failed. Try again?")}}const f={version:o.saveVersion,title:g,unlisted:s,live:d};try{n({type:"showProcessingToast",key:"publish",message:d?"Making ".concat(g," public\u2026"):"Publishing ".concat(g,"\u2026")});const{slug:e,update_time:t,access_level:i}=await(0,r.Fv)("/document/".concat(m,"/publish"),f);n({type:"showSuccessToast",message:d?"".concat(g," made public"):s?(0,a.cg)(o)?"Republished '".concat(g,"' (unlisted)"):"Published '".concat(g,"' (unlisted)"):(0,a.s9)(o)?"Republished '".concat(g,"'"):"Published '".concat(g,"'"),key:"publish"}),n({type:"publishSucceeded",publishVersion:o.saveVersion,updateTime:t,publishLevel:i,slug:e,thumbnail:b}),n({type:"updatedNotebook"})}catch(x){c(n,s?"Oops, unlisted publishing failed. Try again?":"Oops, publishing failed. Try again?")}},d=(e,t)=>{let{publishVersion:n,updateTime:r,slug:i,thumbnail:l,publishLevel:c}=t;const{publishTime:u,roles:d}=e,m="live"===c&&"editorStates"in e&&(0,a.os)(e)?(0,s.qk)(e,!1):null,p="live"===c?d.filter((e=>"readonly"!==e)):d;return(0,o.Z)({publishLevel:c,publishVersion:n,publishTime:u||r,editUnpublished:!1,thumbnail:l,slug:i,isPublishing:!1,roles:p},m)},m=async(e,t,n)=>{let{notebook:o}=e,{unlisted:s}=t;if(o.isPublishing)return;const a=(0,i.Ui)("model"in o?o.model:"title"in o?o:null),l={version:o.saveVersion,live:!0,unlisted:s};try{let e=o.publishLevel;e!==(s?"live_unlisted":"live")&&(n({type:"showProcessingToast",key:"publish",message:"Making ".concat(a," public").concat(s?" (unlisted)":"","\u2026")}),({access_level:e}=await(0,r.Fv)("/document/".concat(o.id,"/publish"),l)),n({type:"showSuccessToast",message:"".concat(a," made public").concat(s?" (unlisted)":""),key:"publish"})),n({type:"publishLiveSucceeded",publishLevel:e}),n({type:"updatedNotebook"})}catch(u){c(n,"Oops, making public failed. Try again?")}},p=(e,t)=>{let{publishLevel:n}=t;const{roles:r}=e,i="live"===n&&"editorStates"in e&&(0,a.os)(e)?(0,s.qk)(e,!1):null,l="live"===n?r.filter((e=>"readonly"!==e)):r;return(0,o.Z)({publishLevel:n,editUnpublished:!1,isPublishing:!1,roles:l},i)},h=()=>({isPublishing:!1}),g=()=>({isUnpublishing:!0}),b=async(e,t,n)=>{let{notebook:o}=e;if(o.isUnpublishing)return;const s=(0,i.Ui)("model"in o?o.model:"title"in o?o:null),a="live"===o.publishLevel||"live_unlisted"===o.publishLevel;try{n({type:"showProcessingToast",key:"unpublish",message:a?"Removing public access to ".concat(s,"\u2026"):"Unpublishing ".concat(s,"\u2026")});const e=await(0,r.Fv)("/document/".concat(o.id,"/unpublish"),void 0);n({type:"showSuccessToast",message:a?"Removed public access to ".concat(s):"Unpublished '".concat(s,"'"),key:"unpublish"}),n({type:"unpublishSucceeded",slug:e.slug||null})}catch(l){n({type:"showErrorToast",message:a?"Oops, removing public access failed. Try again?":"Oops, unpublishing failed. Try again?",key:"unpublish"}),n({type:"unpublishFailed"})}},f=(e,t)=>{let{slug:n}=t;return{publishLevel:"private",publishVersion:null,publishTime:null,editUnpublished:!1,slug:n,isUnpublishing:!1,pausedVersion:null}},y=()=>({isUnpublishing:!1})},6826:function(e,t,n){"use strict";n.d(t,{B:function(){return a},b:function(){return l}});var o=n(602),s=n(19671),r=n(90627);function i(e){const t=new Set(e.map((e=>e.login)));return e=>!t.has(e.login)}const a=async(e,t,n)=>{let{notebook:a,currentUser:l}=e;const{currentMembers:c,newMembers:u,newRoles:d,message:m}=t,{id:p}=a,h=e=>"invited"===e.status,g=e=>"member"===e.status,b=function(e){const t=new Map(e.map((e=>[e.login,e])));return e=>t.has(e.login)&&t.get(e.login).role!==e.role}(c),f=i(u),y=i(c),v=u.filter(g).filter(y),x=u.filter(g).filter(b),j=c.filter(g).filter(f),k=u.filter(h).filter(y).map((e=>({email:e.login,role:e.role}))),w=c.filter(h).filter(f).map((e=>({email:e.login}))),S=u.some((e=>"team"===e.type))?"team":u.length>1||u.some((e=>"group"===e.type))?"shared":"private";try{await(0,o.Fv)("/document/".concat(p,"/roles"),{roles:[...v,...x].map((e=>{let{id:t,role:n}=e;return{user_id:t,role:n}})).concat(j.map((e=>{let{id:t}=e;return{user_id:t,role:null}}))),invitations:k.map((e=>({email:e.email,role:e.role}))).concat(w.map((e=>({email:e.email,role:null})))),message:m})}catch(U){return void(0,r.S)({key:"setRoles",error:U,dispatch:n,message:"Unable to set roles"})}for(const{id:o,role:r,team_role:i,type:_}of v){var T;(0,s.MR)((0,s.ym)({type:"notebook:manage:changeRole",notebook:a,currentUser:l,data:{prevRole:(null===(T=c.find((e=>e.id===o)))||void 0===T?void 0:T.role)||null,newRole:r,userId:o,userType:_,memberId:i?o:void 0,memberRole:null!==i&&void 0!==i?i:void 0},eventVersion:5})),ga("send","event","Notebook","Change role"),gtag("event","Change role",{event_category:"Notebook"})}for(const{id:o,team_role:r,type:i}of j){var R;(0,s.MR)((0,s.ym)({type:"notebook:manage:changeRole",notebook:a,currentUser:l,data:{prevRole:(null===(R=j.find((e=>e.id===o)))||void 0===R?void 0:R.role)||null,newRole:null,userId:o,userType:i,memberId:r?o:void 0,memberRole:null!==r&&void 0!==r?r:void 0},eventVersion:5})),ga("send","event","Notebook","Change role"),gtag("event","Change role",{event_category:"Notebook"})}n({type:"shareSucceeded",newSharing:S,newRoles:d}),n({type:"updatedNotebook"})},l=(e,t)=>{let{newSharing:n,newRoles:o}=t;if(0!==o.length)return{sharing:n,roles:o};location.replace("/")}},41894:function(e,t,n){"use strict";n.d(t,{g:function(){return r},m:function(){return s}});var o=n(602);const s=async(e,t,n)=>{let s,{slug:r}=t;const{notebook:{id:i}}=e;try{s=await(0,o.Fv)("/document/".concat(i,"/slug"),{slug:r})}catch(a){return void(a.errors&&a.errors.length>0&&"SLUG_INVALID"===a.errors[0].code?n({type:"showErrorToast",message:"Setting notebook URL failed: URL invalid.",key:"setSlug"}):n({type:"showErrorToast",message:"Oops, setting notebook URL failed. Try again?",key:"setSlug"}))}n({type:"setSlugSucceeded",slug:s.slug}),n({type:"updatedNotebook"})},r=(e,t)=>{let{slug:n}=t;return{slug:n}}},16504:function(e,t,n){"use strict";n.d(t,{QJ:function(){return c},fv:function(){return a},pT:function(){return l},zu:function(){return u}});var o=n(85893),s=n(39736),r=n(602),i=n(36448);const a=async(e,t,n)=>{let{notebook:{id:i}}=e,{trashed:a,relocate:l=!0}=t;const c={trashed:a};try{await(0,r.Fv)("/document/".concat(i,"/trash"),c),n({type:"trashSucceeded",trashed:a,relocate:l}),l||(n({type:"showSuccessToast",message:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center",children:[s.MI,"Moved to trash"]}),(0,o.jsx)("button",{onClick:()=>{n({type:"trashRequested",trashed:!1,relocate:l})},className:"pa0 fw6 no-underline gray hover-dark-gray bg-transparent bn pointer",children:"Undo"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center",children:[s.MI,"Moved out of trash"]}),(0,o.jsx)("button",{onClick:()=>{n({type:"trashRequested",trashed:!0,relocate:l})},className:"pa0 fw6 no-underline gray hover-dark-gray bg-transparent bn pointer",children:"Undo"})]}),key:"trash"}),n({type:"updatedNotebook"}))}catch(u){n({type:"trashFailed"}),n({type:"showErrorToast",message:a?"Oops, trashing failed. Try again?":"Oops, moving out of trash failed. Try again?",key:"trash"})}},l=()=>({isUpdatingTrash:!0}),c=(e,t)=>{let{owner:n}=e,{trashed:o,relocate:s}=t;if(!o||!s)return{trashed:o,isUpdatingTrash:!1};location.replace((0,i.GN)(n))},u=()=>({isUpdatingTrash:!1})},41824:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var o=n(41799),s=n(33199);function r(){let{initialAuthorization:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||{}}var i=n(18494),a=n(94578),l=n(810),c=n(54937);const u=e=>({type:"notebook",slices:{notebook:{initialState:(0,i.D)(e),reducers:(0,o.Z)({},c.x,i.$)},page:{initialState:(0,a.c)(e),reducers:a.q},authorization:{initialState:r(e),reducers:{}}},listeners:(0,o.Z)({},l.l,s.C)})},4387:function(e,t,n){"use strict";n.d(t,{$:function(){return r},W:function(){return i}});var o=n(602),s=n(27193);const r=async(e,t,n)=>{let{notebook:r}=e,{customThumbnail:i}=t;const{id:a,thumbnail:l}=r,c=(0,s.Ui)("model"in r?r.model:"title"in r?r:null);if((i||l!==r.defaultThumbnail)&&i!==l){n({type:"showProcessingToast",key:"thumbnail",message:"Setting thumbnail for ".concat(c,"\u2026")});try{const e=await(0,o.Fv)("/document/".concat(a,"/thumbnail"),{thumbnail:i||null});n({type:"showSuccessToast",key:"thumbnail",message:"Updated thumbnail"}),n({type:"setNotebookThumbnailSucceeded",customThumbnail:e}),n({type:"updatedNotebook"})}catch(u){return void n({type:"showErrorToast",message:"Oops, setting notebook thumbnail failed. Try again?",key:"thumbnail"})}}},i=(e,t)=>{let{defaultThumbnail:n}=e,{customThumbnail:o}=t;return{customThumbnail:o,thumbnail:o||n}}},810:function(e,t,n){"use strict";n.d(t,{l:function(){return p}});var o=n(30169),s=n(4387),r=n(24205),i=n(21312),a=n(67220),l=n(61870),c=n(6826),u=n(41894),d=n(59533),m=n(16504);const p={collections:i.N5,descriptionUpdate:a.y,publishLiveRequested:l.kO,publishRequested:l.CU,publishSucceeded:r.dE,publishLiveSucceeded:r.dE,showModal:o.k,setNotebookThumbnail:s.$,setSlug:u.m,setSlugSucceeded:r.pf,share:c.B,transfer:d.r,trashRequested:m.fv,trashSucceeded:r.d$,unpublishRequested:l.rw,unpublishSucceeded:r.CL}},54937:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var o=n(4387),s=n(17152),r=n(61870),i=n(6826),a=n(41894),l=n(59533),c=n(16504);const u={forkFailed:s.L3,forkPending:s.cL,publishRequested:r.iQ,publishSucceeded:r.au,publishFailed:r.gg,publishLiveSucceeded:r.r2,setNotebookThumbnailSucceeded:o.W,setSlugSucceeded:a.g,shareSucceeded:i.b,trashFailed:c.zu,trashRequested:c.pT,transferSucceeded:l.I,trashSucceeded:c.QJ,unpublishRequested:r.qc,unpublishSucceeded:r.dY,unpublishFailed:r.Kj}},24654:function(){}}]);