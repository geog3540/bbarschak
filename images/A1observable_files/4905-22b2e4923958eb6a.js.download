"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4905],{50309:function(e,s,r){r.d(s,{mx:function(){return Y},X:function(){return X},bT:function(){return D}});var t=r(85893),n=r(60357),i=r.n(n),a=r(94184),l=r.n(a),c=(r(67294),r(11163)),o=r(8385),d=r(17764),h=r(12447),x=r(36448);const p=e=>{let{user:s,size:r,personalized:n,largeScreen:a,showTier:c=!1}=e;const p=(0,x.RX)(s),u=(0,h.GS)(h.ro);return(0,t.jsxs)("div",{className:i().dynamic([["672b892311dec83d",[h.ro,h.hs]]])+" "+(l()(a?"":"flex items-center")||""),children:[(0,t.jsx)(o.q,{user:s,size:r,className:l()(a?"mb2":"mt1 mb2","br-100 nav-avatar"),showTier:c}),(0,t.jsxs)("div",{style:{marginLeft:a?0:u?14:7},className:i().dynamic([["672b892311dec83d",[h.ro,h.hs]]])+" pl1-ns overflow-hidden",children:[(0,t.jsxs)("div",{style:{paddingBottom:2},className:i().dynamic([["672b892311dec83d",[h.ro,h.hs]]])+" flex pa0 f5 fw7 dark-gray items-center",children:[(0,t.jsx)("div",{title:p.length>=16?p:"",className:i().dynamic([["672b892311dec83d",[h.ro,h.hs]]])+" truncate truncate-two-lines",children:p}),n&&(0,t.jsx)(d.Z,{className:"ml2 moon-gray flex-no-shrink"})]}),(0,t.jsx)("div",{className:i().dynamic([["672b892311dec83d",[h.ro,h.hs]]])+" f6 fw4 observable-mid-gray truncate truncate-two-lines",children:"@".concat(s.login)})]}),(0,t.jsx)(i(),{id:"672b892311dec83d",dynamic:[h.ro,h.hs],children:"@media ".concat(h.ro,"{.nav-avatar{border:2px solid white}}@media ").concat(h.hs,"{.nav-avatar{border:4px solid white}}")})]})};var u=r(49516),m=r(47311),f=r(84193),b=r(42568),g=r(77279),v=r(43489),j=r(36815),w=r(28067),y=r(81816);const N=e=>{let{currentUser:s,context:r,role:n,isActive:i}=e;const{query:a,pathname:d,push:h}=(0,c.useRouter)(),p=(0,w.T)(a,"tab"),m=d.startsWith("/settings")||d.startsWith("/team/[at]/settings");return(0,t.jsxs)(b.Uk,{onClick:function(){if(m){const e=d.split(/settings\/?/)[1];let t=(0,x.rF)(r)+(e?"/".concat(e):"");(t.startsWith("/team")?(0,g.em)(s,r).filter((e=>!e.checkAllowed||e.checkAllowed())):(0,g.Pb)(s)).find((e=>e.to===t&&e.tiers.includes(r.tier)))||(t=(0,x.rF)(r)),h(t)}else h("".concat((0,x.GN)(r)).concat("likes"!==p||"team"!==r.type?"?".concat((0,y.P)({tab:p})):""))},className:l()(i?"bg-near-white near-black":"dark-gray hide-child bg-transparent","no-underline flex db items-center pv2 ph3 f6 mb0 fw6 hover-near-black hover-bg-near-white"),children:[(0,t.jsx)(o.q,{user:r,size:24,className:"mr2 nl1 br-100"}),(0,t.jsxs)("div",{className:"flex-auto",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,x.RX)(r)}),(0,t.jsxs)("div",{className:"mt1 f7 fw5 ttc gray",children:[(0,j._n)(r.tier),"team"===r.type&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("span",{className:"light-gray",children:"\u2022"})," ",(0,v.y)(n)]})]})]}),i&&(0,t.jsx)(u.Z,{className:"ml2 w1 h1 blue"})]})},k=e=>{let{context:s,largeScreen:r,bannerPresent:n,currentUser:i}=e;const{push:a}=(0,c.useRouter)(),o=(0,h.GS)(h.ro);return i.id!==s.id||i.has_workspace?(0,t.jsxs)(b.v2,{children:[(0,t.jsx)(b.j2,{className:l()("w-100 pa0 f6 fw5 tl",o&&n?"items-end":"items-center","bg-transparent overflow-hidden bn pointer",r?"":"flex"),children:(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)(p,{user:s,size:r?102:o?52:26,largeScreen:r,personalized:!0,showTier:!0})})}),(0,t.jsxs)(b.qy,{children:[(0,t.jsxs)("div",{className:"pv2",children:[(0,t.jsx)("div",{className:"ph3 pv2 f7 fw6 ttu gray",children:"Switch workspace"}),(0,t.jsx)("div",{style:{maxHeight:"calc(100vh - 400px)",overflowY:"auto"},children:(0,x.wZ)(i).map((e=>(0,t.jsx)(N,{currentUser:i,context:e,isActive:s.id===e.id,role:"team"===e.type?e.role:void 0},e.login)))})]}),(0,t.jsx)("div",{className:"w-100 pb2",children:(0,t.jsxs)(b.Uk,{href:"/team/new?source=contextMenu",className:"flex ph3 pv2 f6 fw6 no-underline dark-gray hover-black hover-bg-near-white br2 lh-f7 pointer",children:[(0,t.jsx)(m.ZP,{className:"mr2 nl1 self-start",style:{width:24}}),(0,t.jsx)("div",{children:0===i.teams.length?(0,t.jsxs)(t.Fragment,{children:["Create a team",(0,t.jsxs)("div",{className:"mt1 f7 fw5 gray lh-copy",children:["A workspace for collaboration",(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{as:"button",href:"/@observablehq/getting-started-with-teams",children:(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),a("/@observablehq/getting-started-with-teams")},className:"pa0 fw5 blue bn bg-transparent pointer",children:"Learn more"})})]})]}):"Create a team"})]})})]})]}):(0,t.jsx)(p,{user:s,size:r?102:o?52:26,largeScreen:r})};var S=r(39325),U=r(54329),A=r(34119),Z=r(36199),L=r(42364),_=r(15706),z=r(64241),G=r(81685),P=r(8433);function C(e,s){const r="".concat(s?"pr1":"ph1"," mr1 dark-gray");switch(e){case"collections":return(0,t.jsx)(U.Z,{className:r});case"notebooks":case"public":return(0,t.jsx)(z.Z,{className:r});case"profile":case"followers":case"following":return(0,t.jsx)(G.Z,{className:r});case"trash":return(0,t.jsx)(P.Z,{className:r});case"suggestions":return(0,t.jsx)(_.v,{className:r});case"settings":return(0,t.jsx)(A.Z,{className:r});case"likes":return(0,t.jsx)(Z.Z,{className:r,strokeWidth:2,fill:"transparent"});case"home":return(0,t.jsx)(L.Z,{className:r})}}function T(e){switch(e){case"followers":case"following":return"Profile";default:return e}}const M=e=>{let{context:s,user:r,tab:n="home"}=e;const i=(0,x.GN)(s),a=(0,t.jsx)(S.lB,{tab:n,userUrl:i,context:s,user:r}),l=(0,h.GS)(h.ro);return l?(0,t.jsx)(b.v2,{children:(0,t.jsxs)("div",{className:"relative w-100",children:[" ",(0,t.jsx)(b.j2,{className:"flex w-80-ns w-100 tl ttc items-center justify-between bg-transparent pointer bn",children:(0,t.jsxs)("div",{className:"flex nowrap items-center",children:[(0,t.jsx)("span",{className:"mr2",children:C(n,l)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{paddingBottom:2},className:"flex f6 fw6 dark-gray items-center",children:[n," ",(0,t.jsx)(d.Z,{className:"ml2 moon-gray"})," "]}),(0,t.jsx)("div",{className:"f7 fw6 ttc gray",children:"Current page"})]})]})}),(0,t.jsx)(b.qy,{children:a})]})}):(0,t.jsx)("div",{children:a})};var q=r(54239),F=r(73598),E=r(51238),R=r(66421),B=r(40042);const O=e=>{let{profileUserLogin:s}=e;return(0,t.jsxs)("div",{style:{marginTop:16},className:"flex dark-gray hover-blue items-center",children:[(0,t.jsx)(q.Z,{className:"mr1"}),(0,t.jsx)(f.Z,{href:(0,x.$2)({login:s}),children:(0,t.jsx)("a",{className:"f6 fw6 no-underline dark-gray hover-blue",children:"All Collections"})})]})},W=e=>{let{tab:s,isMobile:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex f6 fw6 items-center observable-gray",children:[C(s,r),(0,t.jsx)("span",{children:T(s)})]}),(0,t.jsx)(d.Z,{className:"ml2 moon-gray"})," "]})},$=e=>{let{tab:s="home",profileUserLogin:r,collectionSlug:n}=e;const i=(0,h.GS)(h.ro),a=(0,t.jsx)(S.NY,{tab:s,profileUserLogin:r,collectionSlug:n});return i?(0,t.jsx)(b.v2,{children:(0,t.jsxs)("div",{style:{marginTop:16,marginRight:32},children:[(0,t.jsx)(b.j2,{className:"flex truncate w-100 ttc bg-white br2 justify-between stroke-button bn",style:{padding:15},children:(0,t.jsx)(W,{tab:s,isMobile:i})}),(0,t.jsx)(b.qy,{children:a})]})}):a},V=e=>{let{personalized:s,tab:r,profileUserLogin:n,collectionSlug:i,user:a,userUrl:c="",context:o}=e;const d=(0,h.GS)(h.ro);return(0,t.jsxs)(b.v2,{children:[(0,t.jsx)(b.j2,{className:l()("flex truncate w-100 ttc bg-white br2 justify-between stroke-button",d?"ba b--light-gray mt2":"bn"),style:{padding:15,color:"#454545"},children:(0,t.jsx)(W,{tab:r,isMobile:d})}),(0,t.jsx)(b.qy,{style:{marginLeft:0},children:s?(0,t.jsx)(S.lB,{tab:r,userUrl:c,user:a,context:o}):(0,t.jsx)(S.NY,{tab:r,profileUserLogin:n,collectionSlug:i})})]})};function I(e){return(0,t.jsx)(i(),{id:"f6488f3d7c7760db",dynamic:[h.ro,e?"215px":"90px",h.Mo,e?"215px":"90px",h.hs],children:"@media ".concat(h.ro,"{#universal-nav{position:relative;margin-top:").concat(e?"215px":"90px","}}@media ").concat(h.Mo,"{#universal-nav,#universal-nav-wrapper{width:26px}#universal-nav-wrapper{z-index:1}#universal-nav{padding:15px 0px;top:").concat(e?"215px":"90px",";background-color:var(--white);overflow-x:hidden}#universal-nav>div{padding-right:15px;overflow-x:hidden;width:200px}#universal-nav:hover{width:200px;-webkit-box-shadow:4px 0px 6px rgba(0,0,0,.1),1px 0px 0px#eaeaea;-moz-box-shadow:4px 0px 6px rgba(0,0,0,.1),1px 0px 0px#eaeaea;box-shadow:4px 0px 6px rgba(0,0,0,.1),1px 0px 0px#eaeaea}}@media ").concat(h.hs,"{#universal-nav,#universal-nav-wrapper{width:220px}#universal-nav{top:106px;background-color:var(--transparent)}#universal-nav:hover{width:220px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}}")})}const Y=e=>{let{currentUser:s,profileUser:r,tab:n,collectionSlug:i,bannerPresent:a=!1}=e;const c=(0,h.GS)(h.ro),o=(0,h.GS)(h.hs),d=(0,B.I0)();return(0,t.jsx)(t.Fragment,{children:c?(0,t.jsxs)("div",{className:"relative w-100 mt3",children:[(0,t.jsx)("div",{className:l()("flex",a?"items-end":"items-center"),children:(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)(p,{size:52,user:r})})}),i?(0,t.jsx)(O,{profileUserLogin:r.login}):(0,t.jsx)(V,{tab:n,profileUserLogin:r.login,collectionSlug:i})]}):(0,t.jsxs)("div",{id:"universal-nav-wrapper",className:"flex-no-shrink w5-l w2 mr4 z-2",children:[(0,t.jsxs)("div",{id:"universal-nav",className:"overflow-hidden fixed mr4 flex-no-shrink br2",children:[(0,t.jsx)("div",{className:l()("mb2",o?"":"flex"),children:(0,t.jsx)(p,{user:r,size:o?102:26,largeScreen:o})}),(0,t.jsxs)("div",{className:"pt2",style:{minWidth:200},children:[s&&o&&(0,R.$y)(s,r)&&(0,t.jsx)("div",{className:"pb2",children:(0,t.jsx)(F.e,{dispatch:d,currentUser:s,followUser:r,type:"follow",buttonContext:"profilePage",includeOptions:!0})}),(0,t.jsx)($,{profileUserLogin:r.login,collectionSlug:i,tab:n})]})]}),I(a)]})})},D=e=>{let{context:s,currentUser:r,tab:n,profileUserLogin:i,collectionSlug:a,bannerPresent:l=!1}=e;const c=(0,h.GS)(h.ro),o=(0,h.GS)(h.hs,!1),d=(0,B.I0)();return c?(0,t.jsx)("div",{children:s&&(0,t.jsxs)("div",{className:"relative w-100 mt3",children:[s.has_workspace&&(0,t.jsx)(k,{context:s,bannerPresent:l,currentUser:r}),a?(0,t.jsx)(O,{profileUserLogin:i}):(0,t.jsx)(V,{tab:n,profileUserLogin:i,context:s,user:r,userUrl:(0,x.GN)(s),collectionSlug:a,personalized:!0})]})}):(0,t.jsxs)("div",{id:"universal-nav-wrapper",className:"w5-l w2 mr4 flex-no-shrink z-2 order-0-ns",children:[(0,t.jsx)("div",{id:"universal-nav",className:"fixed mr4 flex-no-shrink br2",children:s&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{context:s,largeScreen:o,bannerPresent:l,currentUser:r}),(0,t.jsxs)("div",{className:"pt3 pr5-l pr3",style:{minWidth:200},children:[o&&(0,R.$y)(r,s)&&(0,t.jsx)("div",{className:"pb2",children:(0,t.jsx)(F.e,{dispatch:d,currentUser:r,followUser:s,type:"follow",buttonContext:"profilePage",includeOptions:!0})}),(0,t.jsx)(M,{tab:n,user:r,context:s})]})]})}),I(l)]})},X=(0,B.$j)((e=>{let{currentUser:s,context:r}=e;const t=r.context?r.context.login:s.login;return{currentUser:s,team:r.defaultTeam,profileUserLogin:t,context:(0,E.x)(s,t)}}),null)(D)},77279:function(e,s,r){r.d(s,{kT:function(){return j},em:function(){return g},Pb:function(){return v}});var t=r(85893),n=r(41799),i=r(69396),a=r(60357),l=r.n(a),c=r(94184),o=r.n(c),d=r(11163),h=(r(67294),r(17764)),x=r(84193),p=r(42568),u=r(12447);const m=e=>{let{items:s}=e;const r=(0,u.GS)(u.ro),a=(0,d.useRouter)(),c=e=>new URL("".concat("https://observablehq.com").concat(e)),m=s.map((e=>(0,i.Z)((0,n.Z)({},e),{matching:c(a.asPath).pathname===c(e.to).pathname})));var f,b;return r?(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(p.v2,{children:[(0,t.jsxs)(p.j2,{className:"flex w-80-ns w-100 f6 fw6 items-center justify-between pv2 ph3 br2 ba b--light-gray bg-transparent",children:[null!==(b=null===(f=m.find((e=>e.matching)))||void 0===f?void 0:f.title)&&void 0!==b?b:document.title,(0,t.jsx)(h.Z,{})]}),(0,t.jsx)(p.qy,{children:m.map(((e,s)=>{let{matching:r,title:n,description:i,to:a}=e;return(0,t.jsx)("div",{className:o()("db pl4 fw5 no-underline",r?"bg-near-white":"bg-white","pv2 mb1 mt1 hover-blue hover-bg-near-white pr3"),children:(0,t.jsx)(p.Uk,{href:a,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:o()("mb1 f6 fw6",r?"blue":"near-black"),children:n}),(0,t.jsx)("div",{className:"f7 fw5 mid-gray lh-f7",children:i})]})})},s)}))})]})}):(0,t.jsxs)("div",{className:"jsx-8ed5cc0b0d2f90f0 navContainer",children:[m.map(((e,s)=>{let{matching:r,title:n,description:i,to:a}=e;return(0,t.jsx)(x.Z,{href:a,children:(0,t.jsxs)("a",{style:{paddingLeft:r?20:21,borderLeft:r?"2px solid var(--blue)":"",marginLeft:r?"-1px":""},className:"jsx-8ed5cc0b0d2f90f0 db pl4 fw5 no-underline bg-white",children:[(0,t.jsx)("div",{className:"jsx-8ed5cc0b0d2f90f0 "+(o()("mb1 f6 fw6",r?"blue":"near-black")||""),children:n}),(0,t.jsx)("div",{className:"jsx-8ed5cc0b0d2f90f0 f7 mid-gray lh-f7",children:i})]})},s)})),(0,t.jsx)(l(),{id:"8ed5cc0b0d2f90f0",children:".navContainer.jsx-8ed5cc0b0d2f90f0{display:grid;position:relative;grid-gap:30px;border-left:1px solid var(--silver)}"})]})};var f=r(66421),b=r(36448);function g(e,s){return[{title:"General",description:"Team profile and shared settings",to:"/team/@".concat(s.login,"/settings"),tiers:["public","pro","pro_enterprise"]},{title:"Membership",description:(0,f.V2)(e,s)?"Manage team members":"List of team members",to:"/team/@".concat(s.login,"/settings/membership"),tiers:["public","pro","pro_enterprise"]},{title:"Databases",description:"Securely access your databases",to:"/team/@".concat(s.login,"/settings/databases"),checkAllowed:()=>(0,f.Vu)(e,s),tiers:["pro","pro_enterprise"]},{title:"Permissions",description:"Manage team permissions",to:"/team/@".concat(s.login,"/settings/permissions"),checkAllowed:()=>(0,f.VM)(e,s),tiers:["public","pro","pro_enterprise"]},{title:"Authentication",description:"Manage verified identity domains and SSO",to:"/team/@".concat(s.login,"/settings/providers"),checkAllowed:()=>(0,f.U9)(e,s),tiers:["pro_enterprise"]},{title:"Secrets",description:"Store secret keys and sensitive values",to:"/team/@".concat(s.login,"/settings/secrets"),checkAllowed:()=>(0,f.fB)(e,s),tiers:["pro","pro_enterprise"]},{title:"API / Notebook Keys",description:"Externally access private notebooks",to:"/team/@".concat(s.login,"/settings/api-keys"),checkAllowed:()=>(0,f.v$)(e,s),tiers:["pro","pro_enterprise"]},{title:"Billing",description:"Edit card details and change billing cycle",to:"/team/@".concat(s.login,"/settings/billing"),checkAllowed:()=>{const r=(0,b.xT)(e,s)||null;return(0,f.vt)(r)&&(0,f.Yz)(e,s)},tiers:["public","pro","pro_enterprise"]}]}function v(e){return[{title:"General",description:"Settings shared across all your accounts",to:"/settings",tiers:["public","pro"]},{title:"Databases",description:"Securely access your databases",to:"/settings/databases",checkAllowed:()=>!!(null===e||void 0===e?void 0:e.has_workspace),tiers:["pro"]},{title:"Secrets",description:"Store secret keys and sensitive values",to:"/settings/secrets",checkAllowed:()=>!!(null===e||void 0===e?void 0:e.has_workspace),tiers:["pro"]},{title:"API / Notebook Keys",description:"External access to private notebooks",to:"/settings/api-keys",checkAllowed:()=>!!(null===e||void 0===e?void 0:e.has_workspace),tiers:["pro"]},{title:"OAuth Tokens",description:"Store authorization tokens for cloud resources",to:"/settings/oauth-tokens",checkAllowed:()=>!!e&&("public"!==e.tier||e.teams.some((e=>"public"!==e.tier))),tiers:["public","pro"]},{title:"Moderation",description:"Manage blocked users and teams",to:"/settings/moderation",tiers:["public","pro"]},{title:"Billing",description:"Edit card details and change billing cycle",to:"/settings/billing",checkAllowed:()=>(0,f.vt)(e),tiers:["public","pro","pro_enterprise"]}]}const j=(0,r(40042).$j)((e=>{let{currentUser:s,context:r}=e;return{currentUser:s,context:r}}),null)((e=>{let{currentUser:s,context:{context:r}}=e;const n=(0,u.GS)(u.ro),i=[],a=(0,b.xT)(s,r);return a?i.push(...g(s,a).filter((e=>s&&e.tiers.includes(a.tier)))):i.push(...v(s).filter((e=>s&&e.tiers.includes(s.tier)))),(0,t.jsx)("div",{className:"pt4-ns pt2 flex-no-shrink order-3-ns",style:{width:n?"auto":160,justifySelf:"end"},children:(0,t.jsx)(m,{items:i.filter((e=>!e.checkAllowed||e.checkAllowed()))})})}))},43489:function(e,s,r){r.d(s,{i:function(){return a},y:function(){return l}});var t=r(85893),n=r(94184),i=r.n(n);const a=e=>{let{className:s}=e;return(0,t.jsx)("span",{className:i()("dib ba br2 ph1 fw5 f7",s),style:{lineHeight:"var(--line-height-f7)",height:"var(--line-height-f7)"},children:"Guest"})};function l(e){let{showGuestLozenge:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{owner:(0,t.jsx)(t.Fragment,{children:"Owner"}),member:(0,t.jsx)(t.Fragment,{children:"Editor"}),viewer:(0,t.jsx)(t.Fragment,{children:"Viewer"}),guest_viewer:(0,t.jsxs)("span",{children:["Viewer",s&&(0,t.jsxs)(t.Fragment,{children:["\xa0",(0,t.jsx)(a,{className:"dark-gray"})]})]}),guest_member:(0,t.jsxs)("span",{children:["Editor",s&&(0,t.jsxs)(t.Fragment,{children:["\xa0",(0,t.jsx)(a,{})]})]})}[e]}},65878:function(e,s,r){r.d(s,{Z:function(){return c}});var t=r(41799),n=r(99534),i=r(85893),a=(r(67294),r(95542)),l=r(51970);function c(e){return s=>{var{error:r}=s,c=(0,n.Z)(s,["error"]);const o=(0,l.S)(c);return r?(0,i.jsx)(a.Z,{error:r,initialCurrentUser:o.initialCurrentUser,initialContext:null}):(0,i.jsx)(e,(0,t.Z)({},o))}}},51238:function(e,s,r){r.d(s,{x:function(){return n}});var t=r(36448);function n(e,s){return s?s===e.login?e:(0,t.RC)(e,s):null}},28067:function(e,s,r){r.d(s,{T:function(){return n},r:function(){return i}});var t=r(51289);function n(e,s,r){let t=e[s];return void 0===t&&void 0!==r?r:(Array.isArray(t)&&(t=t[0]),"boolean"===typeof r?!!t&&"false"!==t:t)}function i(e){const s=t.Qg?location.pathname:"/",r=new URLSearchParams;return Object.entries(e).forEach((e=>{let[s,t]=e;t&&r.append(s,String(t))})),"".concat(s,"?").concat(r.toString())}}}]);